"use strict";var nl=Object.defineProperty;var rl=(e,t,n)=>t in e?nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>rl(e,typeof t!="symbol"?t+"":t,n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const ol=require("react-dom/client"),d=require("react"),p=require("react/jsx-runtime"),Ie=require("react-dom");function Wo(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const R=Wo(d),fn=Wo(Ie);function Uo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Uo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function il(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Uo(e))&&(r&&(r+=" "),r+=t);return r}const eo=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,to=il,et=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return to(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,s=Object.keys(o).map(u=>{const c=n==null?void 0:n[u],m=i==null?void 0:i[u];if(c===null)return null;const h=eo(c)||eo(m);return o[u][h]}),l=n&&Object.entries(n).reduce((u,c)=>{let[m,h]=c;return h===void 0||(u[m]=h),u},{}),a=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:m,className:h,...f}=c;return Object.entries(f).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...u,m,h]:u},[]);return to(e,s,a,n==null?void 0:n.class,n==null?void 0:n.className)},sl=et("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[var(--hello-csv-radius-md)] text-sm font-medium transition-all outline-none h-10 px-4 py-2 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0",{variants:{variant:{primary:"bg-hello-csv-primary text-hello-csv-primary-foreground shadow-xs hover:bg-hello-csv-primary/90 focus-visible:border-hello-csv-ring focus-visible:ring-hello-csv-ring/50 focus-visible:ring-[3px]",secondary:"bg-hello-csv-secondary text-hello-csv-secondary-foreground shadow-xs hover:bg-hello-csv-secondary/80 focus-visible:border-hello-csv-ring focus-visible:ring-hello-csv-ring/50 focus-visible:ring-[3px]",tertiary:"border border-hello-csv-input bg-hello-csv-background text-hello-csv-foreground hover:bg-hello-csv-accent hover:text-hello-csv-accent-foreground focus-visible:border-hello-csv-ring focus-visible:ring-hello-csv-ring/50 focus-visible:ring-[3px]",success:"bg-hello-csv-success text-hello-csv-success-foreground shadow-xs hover:bg-hello-csv-success/90 focus-visible:border-hello-csv-ring focus-visible:ring-hello-csv-ring/50 focus-visible:ring-[3px]",danger:"bg-hello-csv-destructive text-white shadow-xs hover:bg-hello-csv-destructive/90 focus-visible:ring-hello-csv-destructive/20 focus-visible:ring-[3px]"},withFullWidth:{true:"w-full",false:""},disabled:{true:"opacity-50 cursor-not-allowed pointer-events-none",false:"cursor-pointer"}},defaultVariants:{withFullWidth:!1,variant:"primary",disabled:!1}});function $e({children:e,variant:t,disabled:n,onClick:r,withFullWidth:o}){const i=sl({variant:t,disabled:n,withFullWidth:o});return p.jsx("div",{role:"button",tabIndex:0,className:i,onClick:r,"aria-disabled":n,children:e})}const ll=et("flex flex-col gap-6 rounded-[var(--hello-csv-radius)] border border-hello-csv-border text-hello-csv-card-foreground shadow-xs",{variants:{variant:{default:"bg-hello-csv-card",muted:"bg-hello-csv-muted"},withPadding:{true:"p-6",false:""}},defaultVariants:{variant:"default",withPadding:!0}}),qo=d.forwardRef(({children:e,className:t,variant:n,withPadding:r=!0},o)=>{const i=ll({variant:n,withPadding:r});return p.jsx("div",{ref:o,className:`${i} ${t}`,children:e})});function Ko({checked:e,setChecked:t,label:n}){const r=d.useId();return p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsx("div",{className:"flex shrink-0 items-center",children:p.jsxs("div",{className:"group grid size-4 grid-cols-1",children:[p.jsx("input",{checked:e,onChange:o=>t(o.target.checked),id:r,type:"checkbox",className:"peer col-start-1 row-start-1 size-4 shrink-0 appearance-none rounded-[4px] border border-hello-csv-input bg-transparent transition-shadow outline-none focus-visible:border-hello-csv-ring focus-visible:ring-[3px] focus-visible:ring-hello-csv-ring/50 disabled:cursor-not-allowed disabled:opacity-50 checked:border-hello-csv-primary checked:bg-hello-csv-primary checked:text-hello-csv-primary-foreground forced-colors:appearance-auto"}),p.jsxs("svg",{fill:"none",viewBox:"0 0 14 14",className:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-hello-csv-primary-foreground group-has-disabled:stroke-hello-csv-muted-foreground",children:[p.jsx("path",{d:"M3 8L6 11L11 3.5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-has-checked:opacity-100"}),p.jsx("path",{d:"M3 7H11",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-has-indeterminate:opacity-100"})]})]})}),n&&p.jsx("div",{className:"text-sm/6",children:p.jsx("label",{htmlFor:r,className:"font-medium text-hello-csv-foreground",children:n})})]})}let al=!1;function Ir(){return al}const Yo=typeof document<"u"?d.useLayoutEffect:()=>{};function ul(e){const t=d.useRef(null);return Yo(()=>{t.current=e},[e]),d.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const tt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},it=e=>e&&"window"in e&&e.window===e?e:tt(e).defaultView||window;function cl(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function dl(e){return cl(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}function Xo(e,t){if(!Ir())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:dl(n)?n=n.host:n=n.parentNode}return!1}const tr=(e=document)=>{var t;if(!Ir())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Zo(e){return Ir()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function fl(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function pl(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Jo(e){let t=null;return()=>(t==null&&(t=e()),t)}const ml=Jo(function(){return pl(/^Mac/i)}),gl=Jo(function(){return fl(/Android/i)});function Qo(){let e=d.useRef(new Map),t=d.useCallback((o,i,s,l)=>{let a=l!=null&&l.once?(...u)=>{e.current.delete(s),s(...u)}:s;e.current.set(s,{type:i,eventTarget:o,fn:a,options:l}),o.addEventListener(i,a,l)},[]),n=d.useCallback((o,i,s,l)=>{var a;let u=((a=e.current.get(s))===null||a===void 0?void 0:a.fn)||s;o.removeEventListener(i,u,l),e.current.delete(s)},[]),r=d.useCallback(()=>{e.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return d.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function hl(e){return e.mozInputSource===0&&e.isTrusted?!0:gl()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ei(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function vl(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function ti(e){let t=d.useRef({isFocused:!1,observer:null});Yo(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=ul(r=>{e==null||e(r)});return d.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=s=>{if(t.current.isFocused=!1,o.disabled){let l=ei(s);n(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let l=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let xl=!1,Gt=null,nr=new Set,jt=new Map,at=!1,rr=!1;const wl={Tab:!0,Escape:!0};function Tr(e,t){for(let n of nr)n(e,t)}function bl(e){return!(e.metaKey||!ml()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function pn(e){at=!0,bl(e)&&(Gt="keyboard",Tr("keyboard",e))}function xt(e){Gt="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(at=!0,Tr("pointer",e))}function ni(e){hl(e)&&(at=!0,Gt="virtual")}function ri(e){e.target===window||e.target===document||xl||!e.isTrusted||(!at&&!rr&&(Gt="virtual",Tr("virtual",e)),at=!1,rr=!1)}function oi(){at=!1,rr=!0}function or(e){if(typeof window>"u"||jt.get(it(e)))return;const t=it(e),n=tt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){at=!0,r.apply(this,arguments)},n.addEventListener("keydown",pn,!0),n.addEventListener("keyup",pn,!0),n.addEventListener("click",ni,!0),t.addEventListener("focus",ri,!0),t.addEventListener("blur",oi,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",xt,!0),n.addEventListener("pointermove",xt,!0),n.addEventListener("pointerup",xt,!0)),t.addEventListener("beforeunload",()=>{ii(e)},{once:!0}),jt.set(t,{focus:r})}const ii=(e,t)=>{const n=it(e),r=tt(e);t&&r.removeEventListener("DOMContentLoaded",t),jt.has(n)&&(n.HTMLElement.prototype.focus=jt.get(n).focus,r.removeEventListener("keydown",pn,!0),r.removeEventListener("keyup",pn,!0),r.removeEventListener("click",ni,!0),n.removeEventListener("focus",ri,!0),n.removeEventListener("blur",oi,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",xt,!0),r.removeEventListener("pointermove",xt,!0),r.removeEventListener("pointerup",xt,!0)),jt.delete(n))};function yl(e){const t=tt(e);let n;return t.readyState!=="loading"?or(e):(n=()=>{or(e)},t.addEventListener("DOMContentLoaded",n)),()=>ii(e,n)}typeof document<"u"&&yl();function si(){return Gt!=="pointer"}const Cl=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Sl(e,t,n){let r=tt(n==null?void 0:n.target);const o=typeof window<"u"?it(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?it(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?it(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?it(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Cl.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof s&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!wl[n.key])}function El(e,t,n){or(),d.useEffect(()=>{let r=(o,i)=>{Sl(!!(n!=null&&n.isTextInput),o,i)&&e(si())};return nr.add(r),()=>{nr.delete(r)}},t)}function Rl(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=d.useCallback(a=>{if(a.target===a.currentTarget)return r&&r(a),o&&o(!1),!0},[r,o]),s=ti(i),l=d.useCallback(a=>{const u=tt(a.target),c=u?tr(u):tr();a.target===a.currentTarget&&c===Zo(a.nativeEvent)&&(n&&n(a),o&&o(!0),s(a))},[o,n,s]);return{focusProps:{onFocus:!t&&(n||o||r)?l:void 0,onBlur:!t&&(r||o)?i:void 0}}}function $l(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=d.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:l}=Qo(),a=d.useCallback(m=>{m.currentTarget.contains(m.target)&&i.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(m),o&&o(!1))},[n,o,i,l]),u=ti(a),c=d.useCallback(m=>{if(!m.currentTarget.contains(m.target))return;const h=tt(m.target),f=tr(h);if(!i.current.isFocusWithin&&f===Zo(m.nativeEvent)){r&&r(m),o&&o(!0),i.current.isFocusWithin=!0,u(m);let g=m.currentTarget;s(h,"focus",v=>{if(i.current.isFocusWithin&&!Xo(g,v.target)){let w=new h.defaultView.FocusEvent("blur",{relatedTarget:v.target});vl(w,g);let S=ei(w);a(S)}},{capture:!0})}},[r,o,u,s,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:a}}}let ir=!1,Dn=0;function _l(){ir=!0,setTimeout(()=>{ir=!1},50)}function no(e){e.pointerType==="touch"&&_l()}function Il(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",no),Dn++,()=>{Dn--,!(Dn>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",no)}}function li(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,s]=d.useState(!1),l=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(Il,[]);let{addGlobalListener:a,removeAllGlobalListeners:u}=Qo(),{hoverProps:c,triggerHoverEnd:m}=d.useMemo(()=>{let h=(v,w)=>{if(l.pointerType=w,o||w==="touch"||l.isHovered||!v.currentTarget.contains(v.target))return;l.isHovered=!0;let S=v.currentTarget;l.target=S,a(tt(v.target),"pointerover",E=>{l.isHovered&&l.target&&!Xo(l.target,E.target)&&f(E,E.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:S,pointerType:w}),n&&n(!0),s(!0)},f=(v,w)=>{let S=l.target;l.pointerType="",l.target=null,!(w==="touch"||!l.isHovered||!S)&&(l.isHovered=!1,u(),r&&r({type:"hoverend",target:S,pointerType:w}),n&&n(!1),s(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=v=>{ir&&v.pointerType==="mouse"||h(v,v.pointerType)},g.onPointerLeave=v=>{!o&&v.currentTarget.contains(v.target)&&f(v,v.pointerType)}),{hoverProps:g,triggerHoverEnd:f}},[t,n,r,o,l,a,u]);return d.useEffect(()=>{o&&m({currentTarget:l.target},l.pointerType)},[o]),{hoverProps:c,isHovered:i}}function ai(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=d.useRef({isFocused:!1,isFocusVisible:t||si()}),[i,s]=d.useState(!1),[l,a]=d.useState(()=>o.current.isFocused&&o.current.isFocusVisible),u=d.useCallback(()=>a(o.current.isFocused&&o.current.isFocusVisible),[]),c=d.useCallback(f=>{o.current.isFocused=f,s(f),u()},[u]);El(f=>{o.current.isFocusVisible=f,u()},[],{isTextInput:n});let{focusProps:m}=Rl({isDisabled:r,onFocusChange:c}),{focusWithinProps:h}=$l({isDisabled:!r,onFocusWithinChange:c});return{isFocused:i,isFocusVisible:l,focusProps:r?h:m}}var Tl=Object.defineProperty,Ml=(e,t,n)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ln=(e,t,n)=>(Ml(e,typeof t!="symbol"?t+"":t,n),n);let Ol=class{constructor(){Ln(this,"current",this.detect()),Ln(this,"handoffState","pending"),Ln(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},lt=new Ol;function Et(e){return lt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function yn(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ke(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return yn(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=ke();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function dt(){let[e]=d.useState(ke);return d.useEffect(()=>()=>e.dispose(),[e]),e}let re=(e,t)=>{lt.isServer?d.useEffect(e,t):d.useLayoutEffect(e,t)};function nt(e){let t=d.useRef(e);return re(()=>{t.current=e},[e]),t}let z=function(e){let t=nt(e);return d.useCallback((...n)=>t.current(...n),[t])};function Fl(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Pl(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Al({disabled:e=!1}={}){let t=d.useRef(null),[n,r]=d.useState(!1),o=dt(),i=z(()=>{t.current=null,r(!1),o.dispose()}),s=z(l=>{if(o.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let a=Et(l.currentTarget);o.addEventListener(a,"pointerup",i,!1),o.addEventListener(a,"pointermove",u=>{if(t.current){let c=Fl(u);r(Pl(c,t.current.getBoundingClientRect()))}},!1),o.addEventListener(a,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}let jl=d.createContext(void 0);function Mr(){return d.useContext(jl)}function sr(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Se(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Se),r}var yt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(yt||{}),Ke=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ke||{});function pe(){let e=Nl();return d.useCallback(t=>kl({mergeRefs:e,...t}),[e])}function kl({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s,mergeRefs:l}){l=l??Dl;let a=ui(t,e);if(i)return en(a,n,r,s,l);let u=o??0;if(u&2){let{static:c=!1,...m}=a;if(c)return en(m,n,r,s,l)}if(u&1){let{unmount:c=!0,...m}=a;return Se(c?0:1,{0(){return null},1(){return en({...m,hidden:!0,style:{display:"none"}},n,r,s,l)}})}return en(a,n,r,s,l)}function en(e,t={},n,r,o){let{as:i=n,children:s,refName:l="ref",...a}=Vn(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},c=typeof s=="function"?s(t):s;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(t)),a["aria-labelledby"]&&a["aria-labelledby"]===a.id&&(a["aria-labelledby"]=void 0);let m={};if(t){let h=!1,f=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(h=!0),v===!0&&f.push(g.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(h){m["data-headlessui-state"]=f.join(" ");for(let g of f)m[`data-${g}`]=""}}if(i===d.Fragment&&(Object.keys(qe(a)).length>0||Object.keys(qe(m)).length>0))if(!d.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(qe(a)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(qe(a)).concat(Object.keys(qe(m))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=c.props,f=h==null?void 0:h.className,g=typeof f=="function"?(...S)=>sr(f(...S),a.className):sr(f,a.className),v=g?{className:g}:{},w=ui(c.props,qe(Vn(a,["ref"])));for(let S in m)S in w&&delete m[S];return d.cloneElement(c,Object.assign({},w,m,u,{ref:o(Ll(c),u.ref)},v))}return d.createElement(i,Object.assign({},Vn(a,["ref"]),i!==d.Fragment&&u,i!==d.Fragment&&m),c)}function Nl(){let e=d.useRef([]),t=d.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Dl(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function ui(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let s=n[r];for(let l of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...i)}}});return t}function Or(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let s of i)s==null||s(...o)}});return t}function ce(e){var t;return Object.assign(d.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function qe(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Vn(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Ll(e){return d.version.split(".")[0]>="19"?e.props.ref:e.ref}function Vl(e,t,n){let[r,o]=d.useState(n),i=e!==void 0,s=d.useRef(i),l=d.useRef(!1),a=d.useRef(!1);return i&&!s.current&&!l.current?(l.current=!0,s.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&s.current&&!a.current&&(a.current=!0,s.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,z(u=>(i||o(u),t==null?void 0:t(u)))]}function Hl(e){let[t]=d.useState(e);return t}function ci(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))fi(n,di(t,r),o);return n}function di(e,t){return e?e+"["+t+"]":t}function fi(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())fi(e,di(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):ci(n,t,e)}let zl="span";var Ct=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ct||{});function Bl(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return pe()({ourProps:i,theirProps:o,slot:{},defaultTag:zl,name:"Hidden"})}let Lt=ce(Bl),Gl=d.createContext(null);function Wl({children:e}){let t=d.useContext(Gl);if(!t)return d.createElement(d.Fragment,null,e);let{target:n}=t;return n?Ie.createPortal(d.createElement(d.Fragment,null,e),n):null}function Ul({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,s]=d.useState(null),l=dt();return d.useEffect(()=>{if(r&&i)return l.addEventListener(i,"reset",r)},[i,t,r]),d.createElement(Wl,null,d.createElement(ql,{setForm:s,formId:t}),ci(e).map(([a,u])=>d.createElement(Lt,{features:Ct.Hidden,...qe({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:a,value:u,...o})})))}function ql({setForm:e,formId:t}){return d.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:d.createElement(Lt,{features:Ct.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let Kl=d.createContext(void 0);function pi(){return d.useContext(Kl)}function Yl(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Xl(n)?!1:r}function Xl(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let mi=Symbol();function Zl(e,t=!0){return Object.assign(e,{[mi]:t})}function ye(...e){let t=d.useRef(e);d.useEffect(()=>{t.current=e},[e]);let n=z(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[mi]))?void 0:n}let Cn=d.createContext(null);Cn.displayName="DescriptionContext";function gi(){let e=d.useContext(Cn);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,gi),t}return e}function Jl(){var e,t;return(t=(e=d.useContext(Cn))==null?void 0:e.value)!=null?t:void 0}function Ql(){let[e,t]=d.useState([]);return[e.length>0?e.join(" "):void 0,d.useMemo(()=>function(n){let r=z(i=>(t(s=>[...s,i]),()=>t(s=>{let l=s.slice(),a=l.indexOf(i);return a!==-1&&l.splice(a,1),l}))),o=d.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return d.createElement(Cn.Provider,{value:o},n.children)},[t])]}let ea="p";function ta(e,t){let n=d.useId(),r=Mr(),{id:o=`headlessui-description-${n}`,...i}=e,s=gi(),l=ye(t);re(()=>s.register(o),[o,s.register]);let a=r||!1,u=d.useMemo(()=>({...s.slot,disabled:a}),[s.slot,a]),c={ref:l,...s.props,id:o};return pe()({ourProps:c,theirProps:i,slot:u,defaultTag:ea,name:s.name||"Description"})}let na=ce(ta),ra=Object.assign(na,{});var ve=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ve||{});let Sn=d.createContext(null);Sn.displayName="LabelContext";function hi(){let e=d.useContext(Sn);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,hi),t}return e}function En(e){var t,n,r;let o=(n=(t=d.useContext(Sn))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function oa({inherit:e=!1}={}){let t=En(),[n,r]=d.useState([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,d.useMemo(()=>function(i){let s=z(a=>(r(u=>[...u,a]),()=>r(u=>{let c=u.slice(),m=c.indexOf(a);return m!==-1&&c.splice(m,1),c}))),l=d.useMemo(()=>({register:s,slot:i.slot,name:i.name,props:i.props,value:i.value}),[s,i.slot,i.name,i.props,i.value]);return d.createElement(Sn.Provider,{value:l},i.children)},[r])]}let ia="label";function sa(e,t){var n;let r=d.useId(),o=hi(),i=pi(),s=Mr(),{id:l=`headlessui-label-${r}`,htmlFor:a=i??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...c}=e,m=ye(t);re(()=>o.register(l),[l,o.register]);let h=z(w=>{let S=w.currentTarget;if(S instanceof HTMLLabelElement&&w.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(w),S instanceof HTMLLabelElement){let E=document.getElementById(S.htmlFor);if(E){let y=E.getAttribute("disabled");if(y==="true"||y==="")return;let $=E.getAttribute("aria-disabled");if($==="true"||$==="")return;(E instanceof HTMLInputElement&&(E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),f=s||!1,g=d.useMemo(()=>({...o.slot,disabled:f}),[o.slot,f]),v={ref:m,...o.props,id:l,htmlFor:a,onClick:h};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in c&&delete c.onClick),pe()({ourProps:v,theirProps:c,slot:g,defaultTag:a?ia:"div",name:o.name||"Label"})}let la=ce(sa),aa=Object.assign(la,{}),ua=d.createContext(()=>{});function ca({value:e,children:t}){return d.createElement(ua.Provider,{value:e},t)}function ht(e,t,n){let r=n.initialDeps??[],o;function i(){var s,l,a,u;let c;n.key&&((s=n.debug)!=null&&s.call(n))&&(c=Date.now());const m=e();if(!(m.length!==r.length||m.some((g,v)=>r[v]!==g)))return o;r=m;let f;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(f=Date.now()),o=t(...m),n.key&&((a=n.debug)!=null&&a.call(n))){const g=Math.round((Date.now()-c)*100)/100,v=Math.round((Date.now()-f)*100)/100,w=v/16,S=(E,y)=>{for(E=String(E);E.length<y;)E=" "+E;return E};console.info(`%câ± ${S(v,5)} /${S(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,o),o}return i.updateDeps=s=>{r=s},i}function ro(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const da=(e,t)=>Math.abs(e-t)<=1,fa=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}};var Ot={NODE_ENV:"production"};const oo=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},pa=e=>e,ma=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},ga=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=s=>{const{width:l,height:a}=s;t({width:Math.round(l),height:Math.round(a)})};if(o(oo(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(s=>{const l=()=>{const a=s[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){o({width:u.inlineSize,height:u.blockSize});return}}o(oo(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},io={passive:!0},so=typeof window>"u"?!0:"onscrollend"in window,ha=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&so?()=>{}:fa(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),s=c=>()=>{const{horizontal:m,isRtl:h}=e.options;o=m?n.scrollLeft*(h&&-1||1):n.scrollTop,i(),t(o,c)},l=s(!0),a=s(!1);a(),n.addEventListener("scroll",l,io);const u=e.options.useScrollendEvent&&so;return u&&n.addEventListener("scrollend",a,io),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},va=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},xa=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const s=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class wa{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const s=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:pa,rangeExtractor:ma,onChange:()=>{},measureElement:va,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=ht(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:Ot.NODE_ENV!=="production",debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let s=r-1;s>=0;s--){const l=n[s];if(o.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&o.set(l.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((s,l)=>s.end===l.end?s.index-l.index:s.end-l.end)[0]:void 0},this.getMeasurementOptions=ht(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:s}),{key:!1}),this.getMeasurements=ht(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:s},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,a);for(let c=a;c<n;c++){const m=i(c),h=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),f=h?h.end+this.options.gap:r+o,g=l.get(m),v=typeof g=="number"?g:this.options.estimateSize(c),w=f+v,S=h?h.lane:c%this.options.lanes;u[c]={index:c,start:f,size:v,end:w,key:m,lane:S}}return this.measurementsCache=u,u},{key:Ot.NODE_ENV!=="production",debug:()=>this.options.debug}),this.calculateRange=ht(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,i)=>this.range=n.length>0&&r>0?ba({measurements:n,outerSize:r,scrollOffset:o,lanes:i}):null,{key:Ot.NODE_ENV!=="production",debug:()=>this.options.debug}),this.getVirtualIndexes=ht(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,i,s)=>i===null||s===null?[]:n({startIndex:i,endIndex:s,overscan:r,count:o}),{key:Ot.NODE_ENV!=="production",debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.measurementsCache[o];if(!i)return;const s=i.key,l=this.elementsCache.get(s);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,s=r-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,s,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=ht(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,s=n.length;i<s;i++){const l=n[i],a=r[l];o.push(a)}return o},{key:Ot.NODE_ENV!=="production",debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return ro(r[vi(0,r.length-1,o=>ro(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+i?"end":"start"),r==="center"?n+=(o-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const i=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(o.end>=s+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const l=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[s,l]=i;this._scrollToOffset(s,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const u=this.getOffsetForIndex(n,l);if(!u)return;const[c]=u,m=this.getScrollOffset();da(c,m)||this.scrollToIndex(n,{align:l,behavior:o})}else this.scrollToIndex(n,{align:l,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&i.some(l=>l===null);){const l=r[s];i[l.lane]===null&&(i[l.lane]=l.end),s--}o=Math.max(...i.filter(l=>l!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const vi=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function ba({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:o};let s=vi(0,o,i,n),l=s;if(r===1)for(;l<o&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<o&&a.some(c=>c<n+t);){const c=e[l];a[c.lane]=c.end,l++}const u=Array(r).fill(n+t);for(;s>=0&&u.some(c=>c>=n);){const c=e[s];u[c.lane]=c.start,s--}s=Math.max(0,s-s%r),l=Math.min(o,l+(r-1-l%r))}return{startIndex:s,endIndex:l}}const lo=typeof document<"u"?R.useLayoutEffect:R.useEffect;function ya(e){const t=R.useReducer(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var s;i?Ie.flushSync(t):t(),(s=e.onChange)==null||s.call(e,o,i)}},[r]=R.useState(()=>new wa(n));return r.setOptions(n),lo(()=>r._didMount(),[]),lo(()=>r._willUpdate()),r}function xi(e){return ya({observeElementRect:ga,observeElementOffset:ha,scrollToFn:xa,...e})}function Ca(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Sa(e=Ca){return d.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function Ea(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function ao(e,t=!1){let[n,r]=d.useReducer(()=>({}),{}),o=d.useMemo(()=>Ea(e),[e,n]);return re(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let Ra=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function wi(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let s=t[o].call(n,...i);s&&(n=s,r.forEach(l=>l()))}}}function bi(e){return d.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let $a=new Ra(()=>wi(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Rt(e,t){let n=$a.get(t),r=d.useId(),o=bi(n);if(re(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let i=o.indexOf(r),s=o.length;return i===-1&&(i=s,s+=1),i===s-1}let lr=new Map,kt=new Map;function uo(e){var t;let n=(t=kt.get(e))!=null?t:0;return kt.set(e,n+1),n!==0?()=>co(e):(lr.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>co(e))}function co(e){var t;let n=(t=kt.get(e))!=null?t:1;if(n===1?kt.delete(e):kt.set(e,n-1),n!==1)return;let r=lr.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,lr.delete(e))}function yi(e,{allowed:t,disallowed:n}={}){let r=Rt(e,"inert-others");re(()=>{var o,i;if(!r)return;let s=ke();for(let a of(o=n==null?void 0:n())!=null?o:[])a&&s.add(uo(a));let l=(i=t==null?void 0:t())!=null?i:[];for(let a of l){if(!a)continue;let u=Et(a);if(!u)continue;let c=a.parentElement;for(;c&&c!==u.body;){for(let m of c.children)l.some(h=>m.contains(h))||s.add(uo(m));c=c.parentElement}}return s.dispose},[r,t,n])}function Ci(e,t,n){let r=nt(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});d.useEffect(()=>{if(!e)return;let o=t===null?null:t instanceof HTMLElement?t:t.current;if(!o)return;let i=ke();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(o));s.observe(o),i.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(o));s.observe(o),i.add(()=>s.disconnect())}return()=>i.dispose()},[t,r,e])}let mn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),_a=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var He=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(He||{}),ar=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ar||{}),Ia=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ia||{});function Ta(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Ma(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(_a)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Si=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Si||{});function Oa(e,t=0){var n;return e===((n=Et(e))==null?void 0:n.body)?!1:Se(t,{0(){return e.matches(mn)},1(){let r=e;for(;r!==null;){if(r.matches(mn))return!0;r=r.parentElement}return!1}})}var Fa=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Fa||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Be(e){e==null||e.focus({preventScroll:!0})}let Pa=["textarea","input"].join(",");function Aa(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Pa))!=null?n:!1}function Ei(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Nt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?Ei(e):e:t&64?Ma(e):Ta(e);o.length>0&&s.length>1&&(s=s.filter(f=>!o.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===f:g===f))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,m=s.length,h;do{if(c>=m||c+m<=0)return 0;let f=a+c;if(t&16)f=(f+m)%m;else{if(f<0)return 3;if(f>=m)return 1}h=s[f],h==null||h.focus(u),c+=l}while(h!==i.activeElement);return t&6&&Aa(h)&&h.select(),2}function Ri(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ja(){return/Android/gi.test(window.navigator.userAgent)}function $i(){return Ri()||ja()}function Ft(e,t,n,r){let o=nt(n);d.useEffect(()=>{if(!e)return;function i(s){o.current(s)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function _i(e,t,n,r){let o=nt(n);d.useEffect(()=>{if(!e)return;function i(s){o.current(s)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const fo=30;function Ii(e,t,n){let r=Rt(e,"outside-click"),o=nt(n),i=d.useCallback(function(a,u){if(a.defaultPrevented)return;let c=u(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let m=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let h of m)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!Oa(c,Si.Loose)&&c.tabIndex!==-1&&a.preventDefault(),o.current(a,c)},[o,t]),s=d.useRef(null);Ft(r,"pointerdown",a=>{var u,c;s.current=((c=(u=a.composedPath)==null?void 0:u.call(a))==null?void 0:c[0])||a.target},!0),Ft(r,"mousedown",a=>{var u,c;s.current=((c=(u=a.composedPath)==null?void 0:u.call(a))==null?void 0:c[0])||a.target},!0),Ft(r,"click",a=>{$i()||s.current&&(i(a,()=>s.current),s.current=null)},!0);let l=d.useRef({x:0,y:0});Ft(r,"touchstart",a=>{l.current.x=a.touches[0].clientX,l.current.y=a.touches[0].clientY},!0),Ft(r,"touchend",a=>{let u={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(u.x-l.current.x)>=fo||Math.abs(u.y-l.current.y)>=fo))return i(a,()=>a.target instanceof HTMLElement?a.target:null)},!0),_i(r,"blur",a=>i(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ft(...e){return d.useMemo(()=>Et(...e),[...e])}function Fr(e,t,n,r){let o=nt(n);d.useEffect(()=>{e=e??window;function i(s){o.current(s)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function Ti(e){let t=d.useRef({value:"",selectionStart:null,selectionEnd:null});return Fr(e,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),z(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function ka(e,t){return d.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Na(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function Da(){return Ri()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=ke();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,s=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let a=l.target.closest("a");if(!a)return;let{hash:u}=new URL(a.href),c=e.querySelector(u);c&&!r(c)&&(s=c)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let a=l.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let a=l.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let a=(l=window.scrollY)!=null?l:window.pageYOffset;i!==a&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function La(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Va(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let st=wi(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ke(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Va(n)},o=[Da(),Na(),La()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});st.subscribe(()=>{let e=st.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&st.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&st.dispatch("TEARDOWN",n)}});function Ha(e,t,n=()=>({containers:[]})){let r=bi(st),o=t?r.get(t):void 0,i=o?o.count>0:!1;return re(()=>{if(!(!t||!e))return st.dispatch("PUSH",t,n),()=>st.dispatch("POP",t,n)},[e,t]),i}function Mi(e,t,n=()=>[document.body]){let r=Rt(e,"scroll-lock");Ha(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function po(e){return[e.screenX,e.screenY]}function za(){let e=d.useRef([-1,-1]);return{wasMoved(t){let n=po(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=po(t)}}}function Ba(e=0){let[t,n]=d.useState(e),r=d.useCallback(a=>n(a),[t]),o=d.useCallback(a=>n(u=>u|a),[t]),i=d.useCallback(a=>(t&a)===a,[t]),s=d.useCallback(a=>n(u=>u&~a),[n]),l=d.useCallback(a=>n(u=>u^a),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:s,toggleFlag:l}}var Ga={NODE_ENV:"production"},mo,go;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((mo=process==null?void 0:Ga)==null?void 0:mo.NODE_ENV)==="test"&&typeof((go=Element==null?void 0:Element.prototype)==null?void 0:go.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Wa=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Wa||{});function Oi(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Fi(e,t,n,r){let[o,i]=d.useState(n),{hasFlag:s,addFlag:l,removeFlag:a}=Ba(e&&o?3:0),u=d.useRef(!1),c=d.useRef(!1),m=dt();return re(()=>{var h;if(e){if(n&&i(!0),!t){n&&l(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),Ua(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(l(3),a(4)):(l(4),a(2)))},run(){c.current?n?(a(3),l(4)):(a(4),l(3)):n?a(1):l(1)},done(){var f;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,a(7),n||i(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[e,n,t,m]),e?[o,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Ua(e,{prepare:t,run:n,done:r,inFlight:o}){let i=ke();return Ka(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(qa(e,r))})}),i.dispose}function qa(e,t){var n,r;let o=ke();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),o.dispose):(Promise.allSettled(s.map(l=>l.finished)).then(()=>{i||t()}),o.dispose)}function Ka(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Ya(e,{container:t,accept:n,walk:r}){let o=d.useRef(n),i=d.useRef(r);d.useEffect(()=>{o.current=n,i.current=r},[n,r]),re(()=>{if(!t||!e)return;let s=Et(t);if(!s)return;let l=o.current,a=i.current,u=Object.assign(m=>l(m),{acceptNode:l}),c=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)a(c.currentNode)},[t,e,o,i])}function Vt(e,t){let n=d.useRef([]),r=z(e);d.useEffect(()=>{let o=[...n.current];for(let[i,s]of t.entries())if(n.current[i]!==s){let l=r(t,o);return n.current=t,l}},[r,...t])}function Rn(){return typeof window<"u"}function $t(e){return Pi(e)?(e.nodeName||"").toLowerCase():"#document"}function Ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function De(e){var t;return(t=(Pi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pi(e){return Rn()?e instanceof Node||e instanceof Ee(e).Node:!1}function we(e){return Rn()?e instanceof Element||e instanceof Ee(e).Element:!1}function Ne(e){return Rn()?e instanceof HTMLElement||e instanceof Ee(e).HTMLElement:!1}function ho(e){return!Rn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ee(e).ShadowRoot}function Wt(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Me(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Xa(e){return["table","td","th"].includes($t(e))}function $n(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Pr(e){const t=Ar(),n=we(e)?Me(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Za(e){let t=Ze(e);for(;Ne(t)&&!St(t);){if(Pr(t))return t;if($n(t))return null;t=Ze(t)}return null}function Ar(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function St(e){return["html","body","#document"].includes($t(e))}function Me(e){return Ee(e).getComputedStyle(e)}function _n(e){return we(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ze(e){if($t(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ho(e)&&e.host||De(e);return ho(t)?t.host:t}function Ai(e){const t=Ze(e);return St(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ne(t)&&Wt(t)?t:Ai(t)}function Ht(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ai(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Ee(o);if(i){const l=ur(s);return t.concat(s,s.visualViewport||[],Wt(o)?o:[],l&&n?Ht(l):[])}return t.concat(o,Ht(o,[],n))}function ur(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ja(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ut=Math.min,xe=Math.max,zt=Math.round,tn=Math.floor,je=e=>({x:e,y:e}),Qa={left:"right",right:"left",bottom:"top",top:"bottom"},eu={start:"end",end:"start"};function vo(e,t,n){return xe(e,ut(t,n))}function _t(e,t){return typeof e=="function"?e(t):e}function Je(e){return e.split("-")[0]}function Ut(e){return e.split("-")[1]}function ji(e){return e==="x"?"y":"x"}function ki(e){return e==="y"?"height":"width"}function Xe(e){return["top","bottom"].includes(Je(e))?"y":"x"}function Ni(e){return ji(Xe(e))}function tu(e,t,n){n===void 0&&(n=!1);const r=Ut(e),o=Ni(e),i=ki(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=gn(s)),[s,gn(s)]}function nu(e){const t=gn(e);return[cr(e),t,cr(t)]}function cr(e){return e.replace(/start|end/g,t=>eu[t])}function ru(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function ou(e,t,n,r){const o=Ut(e);let i=ru(Je(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(cr)))),i}function gn(e){return e.replace(/left|right|bottom|top/g,t=>Qa[t])}function iu(e){return{top:0,right:0,bottom:0,left:0,...e}}function su(e){return typeof e!="number"?iu(e):{top:e,right:e,bottom:e,left:e}}function hn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function xo(e,t,n){let{reference:r,floating:o}=e;const i=Xe(t),s=Ni(t),l=ki(s),a=Je(t),u=i==="y",c=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,h=r[l]/2-o[l]/2;let f;switch(a){case"top":f={x:c,y:r.y-o.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:m};break;case"left":f={x:r.x-o.width,y:m};break;default:f={x:r.x,y:r.y}}switch(Ut(t)){case"start":f[s]-=h*(n&&u?-1:1);break;case"end":f[s]+=h*(n&&u?-1:1);break}return f}const lu=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:m}=xo(u,r,a),h=r,f={},g=0;for(let v=0;v<l.length;v++){const{name:w,fn:S}=l[v],{x:E,y,data:$,reset:M}=await S({x:c,y:m,initialPlacement:r,placement:h,strategy:o,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});c=E??c,m=y??m,f={...f,[w]:{...f[w],...$}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(u=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:c,y:m}=xo(u,h,a)),v=-1)}return{x:c,y:m,placement:h,strategy:o,middlewareData:f}};async function In(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=_t(t,e),g=su(f),w=l[h?m==="floating"?"reference":"floating":m],S=hn(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),E=m==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),$=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},M=hn(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:y,strategy:a}):E);return{top:(S.top-M.top+g.top)/$.y,bottom:(M.bottom-S.bottom+g.bottom)/$.y,left:(S.left-M.left+g.left)/$.x,right:(M.right-S.right+g.right)/$.x}}const au=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:u}=t,{mainAxis:c=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=_t(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=Je(o),E=Xe(l),y=Je(l)===l,$=await(a.isRTL==null?void 0:a.isRTL(u.floating)),M=h||(y||!v?[gn(l)]:nu(l)),P=g!=="none";!h&&P&&M.push(...ou(l,v,g,$));const O=[l,...M],x=await In(t,w),b=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&b.push(x[S]),m){const H=tu(o,s,$);b.push(x[H[0]],x[H[1]])}if(C=[...C,{placement:o,overflows:b}],!b.every(H=>H<=0)){var _,I;const H=(((_=i.flip)==null?void 0:_.index)||0)+1,B=O[H];if(B){var A;const D=m==="alignment"?E!==Xe(B):!1,F=((A=C[0])==null?void 0:A.overflows[0])>0;if(!D||F)return{data:{index:H,overflows:C},reset:{placement:B}}}let L=(I=C.filter(D=>D.overflows[0]<=0).sort((D,F)=>D.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(f){case"bestFit":{var j;const D=(j=C.filter(F=>{if(P){const W=Xe(F.placement);return W===E||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,k)=>W+k,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:j[0];D&&(L=D);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};async function uu(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Je(n),l=Ut(n),a=Xe(n)==="y",u=["left","top"].includes(s)?-1:1,c=i&&a?-1:1,m=_t(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),a?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const cu=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:l}=t,a=await uu(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:s}}}}},du=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:w=>{let{x:S,y:E}=w;return{x:S,y:E}}},...a}=_t(e,t),u={x:n,y:r},c=await In(t,a),m=Xe(Je(o)),h=ji(m);let f=u[h],g=u[m];if(i){const w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",E=f+c[w],y=f-c[S];f=vo(E,f,y)}if(s){const w=m==="y"?"top":"left",S=m==="y"?"bottom":"right",E=g+c[w],y=g-c[S];g=vo(E,g,y)}const v=l.fn({...t,[h]:f,[m]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[m]:s}}}}}},fu=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:l}=t,{apply:a=()=>{},...u}=_t(e,t),c=await In(t,u),m=Je(o),h=Ut(o),f=Xe(o)==="y",{width:g,height:v}=i.floating;let w,S;m==="top"||m==="bottom"?(w=m,S=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(S=m,w=h==="end"?"top":"bottom");const E=v-c.top-c.bottom,y=g-c.left-c.right,$=ut(v-c[w],E),M=ut(g-c[S],y),P=!t.middlewareData.shift;let O=$,x=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(x=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=E),P&&!h){const C=xe(c.left,0),_=xe(c.right,0),I=xe(c.top,0),A=xe(c.bottom,0);f?x=g-2*(C!==0||_!==0?C+_:xe(c.left,c.right)):O=v-2*(I!==0||A!==0?I+A:xe(c.top,c.bottom))}await a({...t,availableWidth:x,availableHeight:O});const b=await s.getDimensions(l.floating);return g!==b.width||v!==b.height?{reset:{rects:!0}}:{}}}};function Di(e){const t=Me(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ne(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,l=zt(n)!==i||zt(r)!==s;return l&&(n=i,r=s),{width:n,height:r,$:l}}function jr(e){return we(e)?e:e.contextElement}function wt(e){const t=jr(e);if(!Ne(t))return je(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Di(t);let s=(i?zt(n.width):n.width)/r,l=(i?zt(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const pu=je(0);function Li(e){const t=Ee(e);return!Ar()||!t.visualViewport?pu:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mu(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ee(e)?!1:t}function ct(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=jr(e);let s=je(1);t&&(r?we(r)&&(s=wt(r)):s=wt(e));const l=mu(i,n,r)?Li(i):je(0);let a=(o.left+l.x)/s.x,u=(o.top+l.y)/s.y,c=o.width/s.x,m=o.height/s.y;if(i){const h=Ee(i),f=r&&we(r)?Ee(r):r;let g=h,v=ur(g);for(;v&&r&&f!==g;){const w=wt(v),S=v.getBoundingClientRect(),E=Me(v),y=S.left+(v.clientLeft+parseFloat(E.paddingLeft))*w.x,$=S.top+(v.clientTop+parseFloat(E.paddingTop))*w.y;a*=w.x,u*=w.y,c*=w.x,m*=w.y,a+=y,u+=$,g=Ee(v),v=ur(g)}}return hn({width:c,height:m,x:a,y:u})}function kr(e,t){const n=_n(e).scrollLeft;return t?t.left+n:ct(De(e)).left+n}function Vi(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:kr(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function gu(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=De(r),l=t?$n(t.floating):!1;if(r===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},u=je(1);const c=je(0),m=Ne(r);if((m||!m&&!i)&&(($t(r)!=="body"||Wt(s))&&(a=_n(r)),Ne(r))){const f=ct(r);u=wt(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}const h=s&&!m&&!i?Vi(s,a,!0):je(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-a.scrollTop*u.y+c.y+h.y}}function hu(e){return Array.from(e.getClientRects())}function vu(e){const t=De(e),n=_n(e),r=e.ownerDocument.body,o=xe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=xe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+kr(e);const l=-n.scrollTop;return Me(r).direction==="rtl"&&(s+=xe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:l}}function xu(e,t){const n=Ee(e),r=De(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,l=0,a=0;if(o){i=o.width,s=o.height;const u=Ar();(!u||u&&t==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:l,y:a}}function wu(e,t){const n=ct(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ne(e)?wt(e):je(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=o*i.x,u=r*i.y;return{width:s,height:l,x:a,y:u}}function wo(e,t,n){let r;if(t==="viewport")r=xu(e,n);else if(t==="document")r=vu(De(e));else if(we(t))r=wu(t,n);else{const o=Li(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return hn(r)}function Hi(e,t){const n=Ze(e);return n===t||!we(n)||St(n)?!1:Me(n).position==="fixed"||Hi(n,t)}function bu(e,t){const n=t.get(e);if(n)return n;let r=Ht(e,[],!1).filter(l=>we(l)&&$t(l)!=="body"),o=null;const i=Me(e).position==="fixed";let s=i?Ze(e):e;for(;we(s)&&!St(s);){const l=Me(s),a=Pr(s);!a&&l.position==="fixed"&&(o=null),(i?!a&&!o:!a&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Wt(s)&&!a&&Hi(e,s))?r=r.filter(c=>c!==s):o=l,s=Ze(s)}return t.set(e,r),r}function yu(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?$n(t)?[]:bu(t,this._c):[].concat(n),r],l=s[0],a=s.reduce((u,c)=>{const m=wo(t,c,o);return u.top=xe(m.top,u.top),u.right=ut(m.right,u.right),u.bottom=ut(m.bottom,u.bottom),u.left=xe(m.left,u.left),u},wo(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Cu(e){const{width:t,height:n}=Di(e);return{width:t,height:n}}function Su(e,t,n){const r=Ne(t),o=De(t),i=n==="fixed",s=ct(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=je(0);function u(){a.x=kr(o)}if(r||!r&&!i)if(($t(t)!=="body"||Wt(o))&&(l=_n(t)),r){const f=ct(t,!0,i,t);a.x=f.x+t.clientLeft,a.y=f.y+t.clientTop}else o&&u();i&&!r&&o&&u();const c=o&&!r&&!i?Vi(o,l):je(0),m=s.left+l.scrollLeft-a.x-c.x,h=s.top+l.scrollTop-a.y-c.y;return{x:m,y:h,width:s.width,height:s.height}}function Hn(e){return Me(e).position==="static"}function bo(e,t){if(!Ne(e)||Me(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return De(e)===n&&(n=n.ownerDocument.body),n}function zi(e,t){const n=Ee(e);if($n(e))return n;if(!Ne(e)){let o=Ze(e);for(;o&&!St(o);){if(we(o)&&!Hn(o))return o;o=Ze(o)}return n}let r=bo(e,t);for(;r&&Xa(r)&&Hn(r);)r=bo(r,t);return r&&St(r)&&Hn(r)&&!Pr(r)?n:r||Za(e)||n}const Eu=async function(e){const t=this.getOffsetParent||zi,n=this.getDimensions,r=await n(e.floating);return{reference:Su(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ru(e){return Me(e).direction==="rtl"}const $u={convertOffsetParentRelativeRectToViewportRelativeRect:gu,getDocumentElement:De,getClippingRect:yu,getOffsetParent:zi,getElementRects:Eu,getClientRects:hu,getDimensions:Cu,getScale:wt,isElement:we,isRTL:Ru};function Bi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _u(e,t){let n=null,r;const o=De(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const u=e.getBoundingClientRect(),{left:c,top:m,width:h,height:f}=u;if(l||t(),!h||!f)return;const g=tn(m),v=tn(o.clientWidth-(c+h)),w=tn(o.clientHeight-(m+f)),S=tn(c),y={rootMargin:-g+"px "+-v+"px "+-w+"px "+-S+"px",threshold:xe(0,ut(1,a))||1};let $=!0;function M(P){const O=P[0].intersectionRatio;if(O!==a){if(!$)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!Bi(u,e.getBoundingClientRect())&&s(),$=!1}try{n=new IntersectionObserver(M,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,y)}n.observe(e)}return s(!0),i}function Iu(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=jr(e),c=o||i?[...u?Ht(u):[],...Ht(t)]:[];c.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const m=u&&l?_u(u,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(S=>{let[E]=S;E&&E.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(t)})),n()}),u&&!a&&f.observe(u),f.observe(t));let g,v=a?ct(e):null;a&&w();function w(){const S=ct(e);v&&!Bi(v,S)&&n(),v=S,g=requestAnimationFrame(w)}return n(),()=>{var S;c.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),m==null||m(),(S=f)==null||S.disconnect(),f=null,a&&cancelAnimationFrame(g)}}const zn=In,Tu=cu,Mu=du,Ou=au,Fu=fu,Pu=(e,t,n)=>{const r=new Map,o={platform:$u,...n},i={...o.platform,_c:r};return lu(e,t,{...o,platform:i})};var un=typeof document<"u"?d.useLayoutEffect:d.useEffect;function vn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vn(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!vn(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Gi(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yo(e,t){const n=Gi(e);return Math.round(t*n)/n}function Bn(e){const t=R.useRef(e);return un(()=>{t.current=e}),t}function Au(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:u}=e,[c,m]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=R.useState(r);vn(h,r)||f(r);const[g,v]=R.useState(null),[w,S]=R.useState(null),E=R.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),y=R.useCallback(D=>{D!==O.current&&(O.current=D,S(D))},[]),$=i||g,M=s||w,P=R.useRef(null),O=R.useRef(null),x=R.useRef(c),b=a!=null,C=Bn(a),_=Bn(o),I=Bn(u),A=R.useCallback(()=>{if(!P.current||!O.current)return;const D={placement:t,strategy:n,middleware:h};_.current&&(D.platform=_.current),Pu(P.current,O.current,D).then(F=>{const W={...F,isPositioned:I.current!==!1};j.current&&!vn(x.current,W)&&(x.current=W,fn.flushSync(()=>{m(W)}))})},[h,t,n,_,I]);un(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[u]);const j=R.useRef(!1);un(()=>(j.current=!0,()=>{j.current=!1}),[]),un(()=>{if($&&(P.current=$),M&&(O.current=M),$&&M){if(C.current)return C.current($,M,A);A()}},[$,M,A,C,b]);const H=R.useMemo(()=>({reference:P,floating:O,setReference:E,setFloating:y}),[E,y]),B=R.useMemo(()=>({reference:$,floating:M}),[$,M]),L=R.useMemo(()=>{const D={position:n,left:0,top:0};if(!B.floating)return D;const F=yo(B.floating,c.x),W=yo(B.floating,c.y);return l?{...D,transform:"translate("+F+"px, "+W+"px)",...Gi(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,l,B.floating,c.x,c.y]);return R.useMemo(()=>({...c,update:A,refs:H,elements:B,floatingStyles:L}),[c,A,H,B,L])}const Wi=(e,t)=>({...Tu(e),options:[e,t]}),ju=(e,t)=>({...Mu(e),options:[e,t]}),ku=(e,t)=>({...Ou(e),options:[e,t]}),Nu=(e,t)=>({...Fu(e),options:[e,t]}),Ui={...R},Du=Ui.useInsertionEffect,Lu=Du||(e=>e());function qi(e){const t=R.useRef(()=>{});return Lu(()=>{t.current=e}),R.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var dr=typeof document<"u"?d.useLayoutEffect:d.useEffect;let Co=!1,Vu=0;const So=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Vu++;function Hu(){const[e,t]=R.useState(()=>Co?So():void 0);return dr(()=>{e==null&&t(So())},[]),R.useEffect(()=>{Co=!0},[]),e}const zu=Ui.useId,Bu=zu||Hu;function Gu(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Wu=R.createContext(null),Uu=R.createContext(null),qu=()=>{var e;return((e=R.useContext(Wu))==null?void 0:e.id)||null},Ku=()=>R.useContext(Uu),Yu="data-floating-ui-focusable";function Xu(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Bu(),i=R.useRef({}),[s]=R.useState(()=>Gu()),l=qu()!=null,[a,u]=R.useState(r.reference),c=qi((f,g,v)=>{i.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:v,nested:l}),n==null||n(f,g,v)}),m=R.useMemo(()=>({setPositionReference:u}),[]),h=R.useMemo(()=>({reference:a||r.reference||null,floating:r.floating||null,domReference:r.reference}),[a,r.reference,r.floating]);return R.useMemo(()=>({dataRef:i,open:t,onOpenChange:c,elements:h,events:s,floatingId:o,refs:m}),[t,c,h,s,o,m])}function Zu(e){e===void 0&&(e={});const{nodeId:t}=e,n=Xu({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=R.useState(null),[l,a]=R.useState(null),c=(o==null?void 0:o.domReference)||i,m=R.useRef(null),h=Ku();dr(()=>{c&&(m.current=c)},[c]);const f=Au({...e,elements:{...o,...l&&{reference:l}}}),g=R.useCallback(y=>{const $=we(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;a($),f.refs.setReference($)},[f.refs]),v=R.useCallback(y=>{(we(y)||y===null)&&(m.current=y,s(y)),(we(f.refs.reference.current)||f.refs.reference.current===null||y!==null&&!we(y))&&f.refs.setReference(y)},[f.refs]),w=R.useMemo(()=>({...f.refs,setReference:v,setPositionReference:g,domReference:m}),[f.refs,v,g]),S=R.useMemo(()=>({...f.elements,domReference:c}),[f.elements,c]),E=R.useMemo(()=>({...f,...r,refs:w,elements:S,nodeId:t}),[f,w,S,t,r]);return dr(()=>{r.dataRef.current.floatingContext=E;const y=h==null?void 0:h.nodesRef.current.find($=>$.id===t);y&&(y.context=E)}),R.useMemo(()=>({...f,context:E,refs:w,elements:S}),[f,w,S,E])}const Eo="active",Ro="selected";function Gn(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[Eo]:s,[Ro]:l,...a}=e;i=a}return{...n==="floating"&&{tabIndex:-1,[Yu]:""},...i,...t.map(s=>{const l=s?s[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(a=>{let[u,c]=a;if(!(o&&[Eo,Ro].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var m;(m=r.get(u))==null||m.push(c),s[u]=function(){for(var h,f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return(h=r.get(u))==null?void 0:h.map(w=>w(...g)).find(w=>w!==void 0)}}}else s[u]=c}),s),{})}}function Ju(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),o=R.useCallback(l=>Gn(l,e,"reference"),t),i=R.useCallback(l=>Gn(l,e,"floating"),n),s=R.useCallback(l=>Gn(l,e,"item"),r);return R.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}function $o(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Qu=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:a=0,scrollRef:u,...c}=_t(e,t),{rects:m,elements:{floating:h}}=t,f=n.current[s],g=(u==null?void 0:u.current)||h,v=h.clientTop||g.clientTop,w=h.clientTop!==0,S=g.clientTop!==0,E=h===g;if(!f)return{};const y={...t,...await Wi(-f.offsetTop-h.clientTop-m.reference.height/2-f.offsetHeight/2-i).fn(t)},$=await zn($o(y,g.scrollHeight+v+h.clientTop),c),M=await zn(y,{...c,elementContext:"reference"}),P=xe(0,$.top),O=y.y+P,C=(g.scrollHeight>g.clientHeight?_=>_:zt)(xe(0,g.scrollHeight+(w&&E||S?v*2:0)-P-xe(0,$.bottom)));if(g.style.maxHeight=C+"px",g.scrollTop=P,o){const _=g.offsetHeight<f.offsetHeight*ut(l,n.current.length)-1||M.top>=-a||M.bottom>=-a;fn.flushSync(()=>o(_))}return r&&(r.current=await zn($o({...y,y:O},g.offsetHeight+v+h.clientTop),c)),{y:O}}});function ec(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:l}=t,a=qi(l),u=R.useRef(!1),c=R.useRef(null),m=R.useRef(null);R.useEffect(()=>{if(!o)return;function f(v){if(v.ctrlKey||!g||i.current==null)return;const w=v.deltaY,S=i.current.top>=-.5,E=i.current.bottom>=-.5,y=g.scrollHeight-g.clientHeight,$=w<0?-1:1,M=w<0?"max":"min";g.scrollHeight<=g.clientHeight||(!S&&w>0||!E&&w<0?(v.preventDefault(),fn.flushSync(()=>{a(P=>P+Math[M](w,y*$))})):/firefox/i.test(Ja())&&(g.scrollTop+=w))}const g=(s==null?void 0:s.current)||r.floating;if(n&&g)return g.addEventListener("wheel",f),requestAnimationFrame(()=>{c.current=g.scrollTop,i.current!=null&&(m.current={...i.current})}),()=>{c.current=null,m.current=null,g.removeEventListener("wheel",f)}},[o,n,r.floating,i,s,a]);const h=R.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const f=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!f||!u.current)){if(c.current!==null){const g=f.scrollTop-c.current;(i.current.bottom<-.5&&g<-1||i.current.top<-.5&&g>1)&&fn.flushSync(()=>a(v=>v+g))}requestAnimationFrame(()=>{c.current=f.scrollTop})}}}),[r.floating,a,i,s]);return R.useMemo(()=>o?{floating:h}:{},[o,h])}let qt=d.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});qt.displayName="FloatingContext";let Nr=d.createContext(null);Nr.displayName="PlacementContext";function tc(e){return d.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function nc(){return d.useContext(qt).setReference}function rc(){let{getFloatingProps:e,slot:t}=d.useContext(qt);return d.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function oc(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=d.useContext(Nr),n=d.useMemo(()=>e,[JSON.stringify(e,(o,i)=>{var s;return(s=i==null?void 0:i.outerHTML)!=null?s:i})]);re(()=>{t==null||t(n??null)},[t,n]);let r=d.useContext(qt);return d.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let _o=4;function ic({children:e,enabled:t=!0}){let[n,r]=d.useState(null),[o,i]=d.useState(0),s=d.useRef(null),[l,a]=d.useState(null);sc(l);let u=t&&n!==null&&l!==null,{to:c="bottom",gap:m=0,offset:h=0,padding:f=0,inner:g}=lc(n,l),[v,w="center"]=c.split(" ");re(()=>{u&&i(0)},[u]);let{refs:S,floatingStyles:E,context:y}=Zu({open:u,placement:v==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${v}`:`${v}-${w}`,strategy:"absolute",transform:!1,middleware:[Wi({mainAxis:v==="selection"?0:m,crossAxis:h}),ju({padding:f}),v!=="selection"&&ku({padding:f}),v==="selection"&&g?Qu({...g,padding:f,overflowRef:s,offset:o,minItemsVisible:_o,referenceOverflowThreshold:f,onFallbackChange(_){var I,A;if(!_)return;let j=y.elements.floating;if(!j)return;let H=parseFloat(getComputedStyle(j).scrollPaddingBottom)||0,B=Math.min(_o,j.childElementCount),L=0,D=0;for(let F of(A=(I=y.elements.floating)==null?void 0:I.childNodes)!=null?A:[])if(F instanceof HTMLElement){let W=F.offsetTop,k=W+F.clientHeight+H,V=j.scrollTop,T=V+j.clientHeight;if(W>=V&&k<=T)B--;else{D=Math.max(0,Math.min(k,T)-Math.max(W,V)),L=F.clientHeight;break}}B>=1&&i(F=>{let W=L*B-D+H;return F>=W?F:W})}}):null,Nu({padding:f,apply({availableWidth:_,availableHeight:I,elements:A}){Object.assign(A.floating.style,{overflow:"auto",maxWidth:`${_}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${I}px)`})}})].filter(Boolean),whileElementsMounted:Iu}),[$=v,M=w]=y.placement.split("-");v==="selection"&&($="selection");let P=d.useMemo(()=>({anchor:[$,M].filter(Boolean).join(" ")}),[$,M]),O=ec(y,{overflowRef:s,onChange:i}),{getReferenceProps:x,getFloatingProps:b}=Ju([O]),C=z(_=>{a(_),S.setFloating(_)});return R.createElement(Nr.Provider,{value:r},R.createElement(qt.Provider,{value:{setFloating:C,setReference:S.setReference,styles:E,getReferenceProps:x,getFloatingProps:b,slot:P}},e))}function sc(e){re(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function lc(e,t){var n,r,o;let i=Wn((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Wn((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),l=Wn((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:l}}function Wn(e,t,n=void 0){let r=dt(),o=z((a,u)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!u)return[n,null];let c=Io(a,u);return[c,m=>{let h=Ki(a);{let f=h.map(g=>window.getComputedStyle(u).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let v=!1;for(let[S,E]of h.entries()){let y=window.getComputedStyle(u).getPropertyValue(E);if(f[S]!==y){f[S]=y,v=!0;break}}if(!v)return;let w=Io(a,u);c!==w&&(m(w),c=w)})}return r.dispose}]}return[n,null]}),i=d.useMemo(()=>o(e,t)[0],[e,t]),[s=i,l]=d.useState();return re(()=>{let[a,u]=o(e,t);if(l(a),!!u)return u(l)},[e,t]),s}function Ki(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...Ki(o)]:[r]}return[]}function Io(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function ac({children:e,freeze:t}){let n=fr(t,e);return d.createElement(d.Fragment,null,n)}function fr(e,t){let[n,r]=d.useState(t);return!e&&n!==t&&r(t),e?n:t}let Tn=d.createContext(null);Tn.displayName="OpenClosedContext";var be=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(be||{});function Kt(){return d.useContext(Tn)}function Yi({value:e,children:t}){return d.createElement(Tn.Provider,{value:e},t)}function uc({children:e}){return d.createElement(Tn.Provider,{value:null},e)}function cc(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ae=[];cc(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Ae[0]===t.target)return;let n=t.target;n=n.closest(mn),Ae.unshift(n??t.target),Ae=Ae.filter(r=>r!=null&&r.isConnected),Ae.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function dc(e){throw new Error("Unexpected object: "+e)}var ue=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ue||{});function To(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{o===-1&&(o=n.length);for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:dc(e)}}var Dr=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Dr||{});function Xi(e){let t=z(e),n=d.useRef(!1);d.useEffect(()=>(n.current=!1,()=>{n.current=!0,yn(()=>{n.current&&t()})}),[t])}function fc(){let e=typeof document>"u";return"useSyncExternalStore"in R?(t=>t.useSyncExternalStore)(R)(()=>()=>{},()=>!1,()=>!e):!1}function Yt(){let e=fc(),[t,n]=R.useState(lt.isHandoffComplete);return t&&lt.isHandoffComplete===!1&&n(!1),R.useEffect(()=>{t!==!0&&n(!0)},[t]),R.useEffect(()=>lt.handoff(),[]),e?!1:t}let Zi=d.createContext(!1);function pc(){return d.useContext(Zi)}function Mo(e){return d.createElement(Zi.Provider,{value:e.force},e.children)}function mc(e){let t=pc(),n=d.useContext(Qi),r=ft(e),[o,i]=d.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(lt.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return d.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),d.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let Ji=d.Fragment,gc=ce(function(e,t){let n=e,r=d.useRef(null),o=ye(Zl(m=>{r.current=m}),t),i=ft(r),s=mc(r),[l]=d.useState(()=>{var m;return lt.isServer?null:(m=i==null?void 0:i.createElement("div"))!=null?m:null}),a=d.useContext(pr),u=Yt();re(()=>{!s||!l||s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l))},[s,l]),re(()=>{if(l&&a)return a.register(l)},[a,l]),Xi(()=>{var m;!s||!l||(l instanceof Node&&s.contains(l)&&s.removeChild(l),s.childNodes.length<=0&&((m=s.parentElement)==null||m.removeChild(s)))});let c=pe();return u?!s||!l?null:Ie.createPortal(c({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:Ji,name:"Portal"}),l):null});function hc(e,t){let n=ye(t),{enabled:r=!0,...o}=e,i=pe();return r?d.createElement(gc,{...o,ref:n}):i({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Ji,name:"Portal"})}let vc=d.Fragment,Qi=d.createContext(null);function xc(e,t){let{target:n,...r}=e,o={ref:ye(t)},i=pe();return d.createElement(Qi.Provider,{value:n},i({ourProps:o,theirProps:r,defaultTag:vc,name:"Popover.Group"}))}let pr=d.createContext(null);function wc(){let e=d.useContext(pr),t=d.useRef([]),n=z(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=z(i=>{let s=t.current.indexOf(i);s!==-1&&t.current.splice(s,1),e&&e.unregister(i)}),o=d.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,d.useMemo(()=>function({children:i}){return d.createElement(pr.Provider,{value:o},i)},[o])]}let bc=ce(hc),es=ce(xc),ts=Object.assign(bc,{Group:es});var yc=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yc||{}),Cc=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Cc||{}),Sc=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Sc||{}),Ec=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(Ec||{});function Un(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,l)=>s.dataRef.current.order-l.dataRef.current.order):Ei(r,s=>s.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let Rc={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,o,i;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:c}=e.virtual,m=t.focus===ue.Specific?t.idx:To(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var f,g;return(g=(f=e.activeOptionIndex)!=null?f:u.findIndex(v=>!c(v)))!=null?g:null},resolveDisabled:c,resolveId(){throw new Error("Function not implemented.")}}),h=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===m&&e.activationTrigger===h?e:{...e,activeOptionIndex:m,activationTrigger:h,isTyping:!1,__demoMode:!1}}let s=Un(e);if(s.activeOptionIndex===null){let u=s.options.findIndex(c=>!c.dataRef.current.disabled);u!==-1&&(s.activeOptionIndex=u)}let l=t.focus===ue.Specific?t.idx:To(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),a=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===l&&e.activationTrigger===a?e:{...e,...s,isTyping:!1,activeOptionIndex:l,activationTrigger:a,__demoMode:!1}},4:(e,t)=>{var n,r,o;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let i=t.payload,s=Un(e,a=>(a.push(i),a));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(i));let l={...e,...s,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=Un(e,o=>{let i=o.findIndex(s=>s.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?o=i:o=null}return{...e,activeOptionIndex:o,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},8:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},9:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},10:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},Lr=d.createContext(null);Lr.displayName="ComboboxActionsContext";function Xt(e){let t=d.useContext(Lr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xt),n}return t}let ns=d.createContext(null);function $c(e){let t=It("VirtualProvider"),{options:n}=t.virtual,[r,o]=d.useMemo(()=>{let u=t.optionsElement;if(!u)return[0,0];let c=window.getComputedStyle(u);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[t.optionsElement]),i=xi({enabled:n.length!==0,scrollPaddingStart:r,scrollPaddingEnd:o,count:n.length,estimateSize(){return 40},getScrollElement(){return t.optionsElement},overscan:12}),[s,l]=d.useState(0);re(()=>{l(u=>u+1)},[n]);let a=i.getVirtualItems();return a.length===0?null:d.createElement(ns.Provider,{value:i},d.createElement("div",{style:{position:"relative",width:"100%",height:`${i.getTotalSize()}px`},ref:u=>{u&&t.activationTrigger!==0&&t.activeOptionIndex!==null&&n.length>t.activeOptionIndex&&i.scrollToIndex(t.activeOptionIndex)}},a.map(u=>{var c;return d.createElement(d.Fragment,{key:u.key},d.cloneElement((c=e.children)==null?void 0:c.call(e,{...e.slot,option:n[u.index]}),{key:`${s}-${u.key}`,"data-index":u.index,"aria-setsize":n.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}}))})))}let Bt=d.createContext(null);Bt.displayName="ComboboxDataContext";function It(e){let t=d.useContext(Bt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,It),n}return t}function _c(e,t){return Se(t.type,Rc,e,t)}let Ic=d.Fragment;function Tc(e,t){var n,r;let o=Mr(),{value:i,defaultValue:s,onChange:l,form:a,name:u,by:c,disabled:m=o||!1,onClose:h,__demoMode:f=!1,multiple:g=!1,immediate:v=!1,virtual:w=null,nullable:S,...E}=e,y=Hl(s),[$=g?[]:void 0,M]=Vl(i,l,y),[P,O]=d.useReducer(_c,{dataRef:d.createRef(),comboboxState:f?0:1,isTyping:!1,options:[],virtual:w?{options:w.options,disabled:(n=w.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:f}),x=d.useRef(!1),b=d.useRef({static:!1,hold:!1}),C=Sa(c),_=z(N=>w?c===null?w.options.indexOf(N):w.options.findIndex(U=>C(U,N)):P.options.findIndex(U=>C(U.dataRef.current.value,N))),I=d.useCallback(N=>Se(j.mode,{1:()=>$.some(U=>C(U,N)),0:()=>C($,N)}),[$]),A=z(N=>P.activeOptionIndex===_(N)),j=d.useMemo(()=>({...P,immediate:v,optionsPropsRef:b,value:$,defaultValue:y,disabled:m,mode:g?1:0,virtual:w?P.virtual:null,get activeOptionIndex(){if(x.current&&P.activeOptionIndex===null&&(w?w.options.length>0:P.options.length>0)){if(w){let U=w.options.findIndex(X=>{var me,Q;return!((Q=(me=w.disabled)==null?void 0:me.call(w,X))!=null&&Q)});if(U!==-1)return U}let N=P.options.findIndex(U=>!U.dataRef.current.disabled);if(N!==-1)return N}return P.activeOptionIndex},calculateIndex:_,compare:C,isSelected:I,isActive:A}),[$,y,m,g,f,P,w]);re(()=>{var N;w&&O({type:7,options:w.options,disabled:(N=w.disabled)!=null?N:null})},[w,w==null?void 0:w.options,w==null?void 0:w.disabled]),re(()=>{P.dataRef.current=j},[j]);let H=j.comboboxState===0;Ii(H,[j.buttonElement,j.inputElement,j.optionsElement],()=>G.closeCombobox());let B=d.useMemo(()=>{var N,U,X;return{open:j.comboboxState===0,disabled:m,activeIndex:j.activeOptionIndex,activeOption:j.activeOptionIndex===null?null:j.virtual?j.virtual.options[(N=j.activeOptionIndex)!=null?N:0]:(X=(U=j.options[j.activeOptionIndex])==null?void 0:U.dataRef.current.value)!=null?X:null,value:$}},[j,m,$]),L=z(()=>{if(j.activeOptionIndex!==null){if(G.setIsTyping(!1),j.virtual)T(j.virtual.options[j.activeOptionIndex]);else{let{dataRef:N}=j.options[j.activeOptionIndex];T(N.current.value)}G.goToOption(ue.Specific,j.activeOptionIndex)}}),D=z(()=>{O({type:0}),x.current=!0}),F=z(()=>{O({type:1}),x.current=!1,h==null||h()}),W=z(N=>{O({type:3,isTyping:N})}),k=z((N,U,X)=>(x.current=!1,N===ue.Specific?O({type:2,focus:ue.Specific,idx:U,trigger:X}):O({type:2,focus:N,trigger:X}))),V=z((N,U)=>(O({type:4,payload:{id:N,dataRef:U}}),()=>{j.isActive(U.current.value)&&(x.current=!0),O({type:5,id:N})})),T=z(N=>Se(j.mode,{0(){return M==null?void 0:M(N)},1(){let U=j.value.slice(),X=U.findIndex(me=>C(me,N));return X===-1?U.push(N):U.splice(X,1),M==null?void 0:M(U)}})),te=z(N=>{O({type:6,trigger:N})}),J=z(N=>{O({type:8,element:N})}),ne=z(N=>{O({type:9,element:N})}),ee=z(N=>{O({type:10,element:N})}),G=d.useMemo(()=>({onChange:T,registerOption:V,goToOption:k,setIsTyping:W,closeCombobox:F,openCombobox:D,setActivationTrigger:te,selectActiveOption:L,setInputElement:J,setButtonElement:ne,setOptionsElement:ee}),[]),[Z,oe]=oa(),Y=t===null?{}:{ref:t},ie=d.useCallback(()=>{if(y!==void 0)return M==null?void 0:M(y)},[M,y]),le=pe();return d.createElement(oe,{value:Z,props:{htmlFor:(r=j.inputElement)==null?void 0:r.id},slot:{open:j.comboboxState===0,disabled:m}},d.createElement(ic,null,d.createElement(Lr.Provider,{value:G},d.createElement(Bt.Provider,{value:j},d.createElement(Yi,{value:Se(j.comboboxState,{0:be.Open,1:be.Closed})},u!=null&&d.createElement(Ul,{disabled:m,data:$!=null?{[u]:$}:{},form:a,onReset:ie}),le({ourProps:Y,theirProps:E,slot:B,defaultTag:Ic,name:"Combobox"}))))))}let Mc="input";function Oc(e,t){var n,r,o,i,s;let l=It("Combobox.Input"),a=Xt("Combobox.Input"),u=d.useId(),c=pi(),{id:m=c||`headlessui-combobox-input-${u}`,onChange:h,displayValue:f,disabled:g=l.disabled||!1,autoFocus:v=!1,type:w="text",...S}=e,E=d.useRef(null),y=ye(E,t,nc(),a.setInputElement),$=ft(l.inputElement),M=dt(),P=z(()=>{a.onChange(null),l.optionsElement&&(l.optionsElement.scrollTop=0),a.goToOption(ue.Nothing)}),O=d.useMemo(()=>{var T;return typeof f=="function"&&l.value!==void 0?(T=f(l.value))!=null?T:"":typeof l.value=="string"?l.value:""},[l.value,f]);Vt(([T,te],[J,ne])=>{if(l.isTyping)return;let ee=E.current;ee&&((ne===0&&te===1||T!==J)&&(ee.value=T),requestAnimationFrame(()=>{if(l.isTyping||!ee||($==null?void 0:$.activeElement)!==ee)return;let{selectionStart:G,selectionEnd:Z}=ee;Math.abs((Z??0)-(G??0))===0&&G===0&&ee.setSelectionRange(ee.value.length,ee.value.length)}))},[O,l.comboboxState,$,l.isTyping]),Vt(([T],[te])=>{if(T===0&&te===1){if(l.isTyping)return;let J=E.current;if(!J)return;let ne=J.value,{selectionStart:ee,selectionEnd:G,selectionDirection:Z}=J;J.value="",J.value=ne,Z!==null?J.setSelectionRange(ee,G,Z):J.setSelectionRange(ee,G)}},[l.comboboxState]);let x=d.useRef(!1),b=z(()=>{x.current=!0}),C=z(()=>{M.nextFrame(()=>{x.current=!1})}),_=z(T=>{switch(a.setIsTyping(!0),T.key){case ve.Enter:if(l.comboboxState!==0||x.current)return;if(T.preventDefault(),T.stopPropagation(),l.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),l.mode===0&&a.closeCombobox();break;case ve.ArrowDown:return T.preventDefault(),T.stopPropagation(),Se(l.comboboxState,{0:()=>a.goToOption(ue.Next),1:()=>a.openCombobox()});case ve.ArrowUp:return T.preventDefault(),T.stopPropagation(),Se(l.comboboxState,{0:()=>a.goToOption(ue.Previous),1:()=>{Ie.flushSync(()=>a.openCombobox()),l.value||a.goToOption(ue.Last)}});case ve.Home:if(T.shiftKey)break;return T.preventDefault(),T.stopPropagation(),a.goToOption(ue.First);case ve.PageUp:return T.preventDefault(),T.stopPropagation(),a.goToOption(ue.First);case ve.End:if(T.shiftKey)break;return T.preventDefault(),T.stopPropagation(),a.goToOption(ue.Last);case ve.PageDown:return T.preventDefault(),T.stopPropagation(),a.goToOption(ue.Last);case ve.Escape:return l.comboboxState!==0?void 0:(T.preventDefault(),l.optionsElement&&!l.optionsPropsRef.current.static&&T.stopPropagation(),l.mode===0&&l.value===null&&P(),a.closeCombobox());case ve.Tab:if(l.comboboxState!==0)return;l.mode===0&&l.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),I=z(T=>{h==null||h(T),l.mode===0&&T.target.value===""&&P(),a.openCombobox()}),A=z(T=>{var te,J,ne;let ee=(te=T.relatedTarget)!=null?te:Ae.find(G=>G!==T.currentTarget);if(!((J=l.optionsElement)!=null&&J.contains(ee))&&!((ne=l.buttonElement)!=null&&ne.contains(ee))&&l.comboboxState===0)return T.preventDefault(),l.mode===0&&l.value===null&&P(),a.closeCombobox()}),j=z(T=>{var te,J,ne;let ee=(te=T.relatedTarget)!=null?te:Ae.find(G=>G!==T.currentTarget);(J=l.buttonElement)!=null&&J.contains(ee)||(ne=l.optionsElement)!=null&&ne.contains(ee)||l.disabled||l.immediate&&l.comboboxState!==0&&M.microTask(()=>{Ie.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),H=En(),B=Jl(),{isFocused:L,focusProps:D}=ai({autoFocus:v}),{isHovered:F,hoverProps:W}=li({isDisabled:g}),k=d.useMemo(()=>({open:l.comboboxState===0,disabled:g,hover:F,focus:L,autofocus:v}),[l,F,L,v,g]),V=Or({ref:y,id:m,role:"combobox",type:w,"aria-controls":(n=l.optionsElement)==null?void 0:n.id,"aria-expanded":l.comboboxState===0,"aria-activedescendant":l.activeOptionIndex===null?void 0:l.virtual?(r=l.options.find(T=>!T.dataRef.current.disabled&&l.compare(T.dataRef.current.value,l.virtual.options[l.activeOptionIndex])))==null?void 0:r.id:(o=l.options[l.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":H,"aria-describedby":B,"aria-autocomplete":"list",defaultValue:(s=(i=e.defaultValue)!=null?i:l.defaultValue!==void 0?f==null?void 0:f(l.defaultValue):null)!=null?s:l.defaultValue,disabled:g||void 0,autoFocus:v,onCompositionStart:b,onCompositionEnd:C,onKeyDown:_,onChange:I,onFocus:j,onBlur:A},D,W);return pe()({ourProps:V,theirProps:S,slot:k,defaultTag:Mc,name:"Combobox.Input"})}let Fc="button";function Pc(e,t){var n;let r=It("Combobox.Button"),o=Xt("Combobox.Button"),i=ye(t,o.setButtonElement),s=d.useId(),{id:l=`headlessui-combobox-button-${s}`,disabled:a=r.disabled||!1,autoFocus:u=!1,...c}=e,m=Ti(r.inputElement),h=z(O=>{switch(O.key){case ve.Space:case ve.Enter:O.preventDefault(),O.stopPropagation(),r.comboboxState===1&&Ie.flushSync(()=>o.openCombobox()),m();return;case ve.ArrowDown:O.preventDefault(),O.stopPropagation(),r.comboboxState===1&&(Ie.flushSync(()=>o.openCombobox()),r.value||o.goToOption(ue.First)),m();return;case ve.ArrowUp:O.preventDefault(),O.stopPropagation(),r.comboboxState===1&&(Ie.flushSync(()=>o.openCombobox()),r.value||o.goToOption(ue.Last)),m();return;case ve.Escape:if(r.comboboxState!==0)return;O.preventDefault(),r.optionsElement&&!r.optionsPropsRef.current.static&&O.stopPropagation(),Ie.flushSync(()=>o.closeCombobox()),m();return;default:return}}),f=z(O=>{O.preventDefault(),!Yl(O.currentTarget)&&(O.button===Dr.Left&&(r.comboboxState===0?o.closeCombobox():o.openCombobox()),m())}),g=En([l]),{isFocusVisible:v,focusProps:w}=ai({autoFocus:u}),{isHovered:S,hoverProps:E}=li({isDisabled:a}),{pressed:y,pressProps:$}=Al({disabled:a}),M=d.useMemo(()=>({open:r.comboboxState===0,active:y||r.comboboxState===0,disabled:a,value:r.value,hover:S,focus:v}),[r,S,v,y,a]),P=Or({ref:i,id:l,type:ka(e,r.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":g,disabled:a||void 0,autoFocus:u,onMouseDown:f,onKeyDown:h},w,E,$);return pe()({ourProps:P,theirProps:c,slot:M,defaultTag:Fc,name:"Combobox.Button"})}let Ac="div",jc=yt.RenderStrategy|yt.Static;function kc(e,t){var n,r,o;let i=d.useId(),{id:s=`headlessui-combobox-options-${i}`,hold:l=!1,anchor:a,portal:u=!1,modal:c=!0,transition:m=!1,...h}=e,f=It("Combobox.Options"),g=Xt("Combobox.Options"),v=tc(a);v&&(u=!0);let[w,S]=oc(v),[E,y]=d.useState(null),$=rc(),M=ye(t,v?w:null,g.setOptionsElement,y),P=ft(f.optionsElement),O=Kt(),[x,b]=Fi(m,E,O!==null?(O&be.Open)===be.Open:f.comboboxState===0);Ci(x,f.inputElement,g.closeCombobox);let C=f.__demoMode?!1:c&&f.comboboxState===0;Mi(C,P);let _=f.__demoMode?!1:c&&f.comboboxState===0;yi(_,{allowed:d.useCallback(()=>[f.inputElement,f.buttonElement,f.optionsElement],[f.inputElement,f.buttonElement,f.optionsElement])}),re(()=>{var V;f.optionsPropsRef.current.static=(V=e.static)!=null?V:!1},[f.optionsPropsRef,e.static]),re(()=>{f.optionsPropsRef.current.hold=l},[f.optionsPropsRef,l]),Ya(f.comboboxState===0,{container:f.optionsElement,accept(V){return V.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:V.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(V){V.setAttribute("role","none")}});let I=En([(n=f.buttonElement)==null?void 0:n.id]),A=d.useMemo(()=>({open:f.comboboxState===0,option:void 0}),[f.comboboxState]),j=z(()=>{g.setActivationTrigger(0)}),H=z(V=>{V.preventDefault(),g.setActivationTrigger(0)}),B=Or(v?$():{},{"aria-labelledby":I,role:"listbox","aria-multiselectable":f.mode===1?!0:void 0,id:s,ref:M,style:{...h.style,...S,"--input-width":ao(f.inputElement,!0).width,"--button-width":ao(f.buttonElement,!0).width},onWheel:f.activationTrigger===0?void 0:j,onMouseDown:H,...Oi(b)}),L=x&&f.comboboxState===1,D=fr(L,(r=f.virtual)==null?void 0:r.options),F=fr(L,f.value),W=z(V=>f.compare(F,V));if(f.virtual){if(D===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(h,{children:d.createElement(Bt.Provider,{value:D!==f.virtual.options?{...f,virtual:{...f.virtual,options:D}}:f},d.createElement($c,{slot:A},h.children))})}let k=pe();return d.createElement(ts,{enabled:u?e.static||x:!1},d.createElement(Bt.Provider,{value:f.mode===1?f:{...f,isSelected:W}},k({ourProps:B,theirProps:{...h,children:d.createElement(ac,{freeze:L},typeof h.children=="function"?(o=h.children)==null?void 0:o.call(h,A):h.children)},slot:A,defaultTag:Ac,features:jc,visible:x,name:"Combobox.Options"})))}let Nc="div";function Dc(e,t){var n,r,o,i;let s=It("Combobox.Option"),l=Xt("Combobox.Option"),a=d.useId(),{id:u=`headlessui-combobox-option-${a}`,value:c,disabled:m=(o=(r=(n=s.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,c))!=null?o:!1,order:h=null,...f}=e,g=Ti(s.inputElement),v=s.virtual?s.activeOptionIndex===s.calculateIndex(c):s.activeOptionIndex===null?!1:((i=s.options[s.activeOptionIndex])==null?void 0:i.id)===u,w=s.isSelected(c),S=d.useRef(null),E=nt({disabled:m,value:c,domRef:S,order:h}),y=d.useContext(ns),$=ye(t,S,y?y.measureElement:null),M=z(()=>{l.setIsTyping(!1),l.onChange(c)});re(()=>l.registerOption(u,E),[E,u]);let P=d.useRef(!(s.virtual||s.__demoMode));re(()=>{if(!s.virtual&&!s.__demoMode)return ke().requestAnimationFrame(()=>{P.current=!0})},[s.virtual,s.__demoMode]),re(()=>{if(P.current&&s.comboboxState===0&&v&&s.activationTrigger!==0)return ke().requestAnimationFrame(()=>{var H,B;(B=(H=S.current)==null?void 0:H.scrollIntoView)==null||B.call(H,{block:"nearest"})})},[S,v,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let O=z(H=>{H.preventDefault(),H.button===Dr.Left&&(m||(M(),$i()||requestAnimationFrame(()=>g()),s.mode===0&&l.closeCombobox()))}),x=z(()=>{if(m)return l.goToOption(ue.Nothing);let H=s.calculateIndex(c);l.goToOption(ue.Specific,H)}),b=za(),C=z(H=>b.update(H)),_=z(H=>{if(!b.wasMoved(H)||m||v)return;let B=s.calculateIndex(c);l.goToOption(ue.Specific,B,0)}),I=z(H=>{b.wasMoved(H)&&(m||v&&(s.optionsPropsRef.current.hold||l.goToOption(ue.Nothing)))}),A=d.useMemo(()=>({active:v,focus:v,selected:w,disabled:m}),[v,w,m]),j={id:u,ref:$,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":w,disabled:void 0,onMouseDown:O,onFocus:x,onPointerEnter:C,onMouseEnter:C,onPointerMove:_,onMouseMove:_,onPointerLeave:I,onMouseLeave:I};return pe()({ourProps:j,theirProps:f,slot:A,defaultTag:Nc,name:"Combobox.Option"})}let Lc=ce(Tc),mr=ce(Pc),rs=ce(Oc),Vc=aa,os=ce(kc),gr=ce(Dc),Hc=Object.assign(Lc,{Input:rs,Button:mr,Label:Vc,Options:os,Option:gr});function zc(e,t=typeof document<"u"?document.defaultView:null,n){let r=Rt(e,"escape");Fr(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===ve.Escape&&n(o))})}function Bc(){var e;let[t]=d.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=d.useState((e=t==null?void 0:t.matches)!=null?e:!1);return re(()=>{if(!t)return;function o(i){r(i.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Gc({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ft(n),o=z(()=>{var i,s;let l=[];for(let a of e)a!==null&&(a instanceof HTMLElement?l.push(a):"current"in a&&a.current instanceof HTMLElement&&l.push(a.current));if(t!=null&&t.current)for(let a of t.current)l.push(a);for(let a of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(n&&(a.contains(n)||a.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||l.some(u=>a.contains(u))||l.push(a));return l});return{resolveContainers:o,contains:z(i=>o().some(s=>s.contains(i)))}}let is=d.createContext(null);function Oo({children:e,node:t}){let[n,r]=d.useState(null),o=ss(t??n);return d.createElement(is.Provider,{value:o},e,o===null&&d.createElement(Lt,{features:Ct.Hidden,ref:i=>{var s,l;if(i){for(let a of(l=(s=Et(i))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])if(a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a!=null&&a.contains(i)){r(a);break}}}}))}function ss(e=null){var t;return(t=d.useContext(is))!=null?t:e}function Vr(){let e=d.useRef(!1);return re(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var At=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(At||{});function Wc(){let e=d.useRef(0);return _i(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ls(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Uc="div";var ot=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ot||{});function qc(e,t){let n=d.useRef(null),r=ye(n,t),{initialFocus:o,initialFocusFallback:i,containers:s,features:l=15,...a}=e;Yt()||(l=0);let u=ft(n);Zc(l,{ownerDocument:u});let c=Jc(l,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:i});Qc(l,{ownerDocument:u,container:n,containers:s,previousActiveElement:c});let m=Wc(),h=z(E=>{let y=n.current;y&&($=>$())(()=>{Se(m.current,{[At.Forwards]:()=>{Nt(y,He.First,{skipElements:[E.relatedTarget,i]})},[At.Backwards]:()=>{Nt(y,He.Last,{skipElements:[E.relatedTarget,i]})}})})}),f=Rt(!!(l&2),"focus-trap#tab-lock"),g=dt(),v=d.useRef(!1),w={ref:r,onKeyDown(E){E.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(E){if(!(l&4))return;let y=ls(s);n.current instanceof HTMLElement&&y.add(n.current);let $=E.relatedTarget;$ instanceof HTMLElement&&$.dataset.headlessuiFocusGuard!=="true"&&(as(y,$)||(v.current?Nt(n.current,Se(m.current,{[At.Forwards]:()=>He.Next,[At.Backwards]:()=>He.Previous})|He.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&Be(E.target)))}},S=pe();return d.createElement(d.Fragment,null,f&&d.createElement(Lt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ct.Focusable}),S({ourProps:w,theirProps:a,defaultTag:Uc,name:"FocusTrap"}),f&&d.createElement(Lt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ct.Focusable}))}let Kc=ce(qc),Yc=Object.assign(Kc,{features:ot});function Xc(e=!0){let t=d.useRef(Ae.slice());return Vt(([n],[r])=>{r===!0&&n===!1&&yn(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ae.slice())},[e,Ae,t]),z(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Zc(e,{ownerDocument:t}){let n=!!(e&8),r=Xc(n);Vt(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Be(r())},[n]),Xi(()=>{n&&Be(r())})}function Jc(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let i=d.useRef(null),s=Rt(!!(e&1),"focus-trap#initial-focus"),l=Vr();return Vt(()=>{if(e===0)return;if(!s){o!=null&&o.current&&Be(o.current);return}let a=n.current;a&&yn(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(a.contains(u)){i.current=u;return}if(r!=null&&r.current)Be(r.current);else{if(e&16){if(Nt(a,He.First|He.AutoFocus)!==ar.Error)return}else if(Nt(a,He.First)!==ar.Error)return;if(o!=null&&o.current&&(Be(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[o,s,e]),i}function Qc(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let i=Vr(),s=!!(e&4);Fr(t==null?void 0:t.defaultView,"focus",l=>{if(!s||!i.current)return;let a=ls(r);n.current instanceof HTMLElement&&a.add(n.current);let u=o.current;if(!u)return;let c=l.target;c&&c instanceof HTMLElement?as(a,c)?(o.current=c,Be(c)):(l.preventDefault(),l.stopPropagation(),Be(u)):Be(o.current)},!0)}function as(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function us(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:ds)!==d.Fragment||d.Children.count(e.children)===1}let Mn=d.createContext(null);Mn.displayName="TransitionContext";var ed=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ed||{});function td(){let e=d.useContext(Mn);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function nd(){let e=d.useContext(On);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let On=d.createContext(null);On.displayName="NestingContext";function Fn(e){return"children"in e?Fn(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function cs(e,t){let n=nt(e),r=d.useRef([]),o=Vr(),i=dt(),s=z((f,g=Ke.Hidden)=>{let v=r.current.findIndex(({el:w})=>w===f);v!==-1&&(Se(g,{[Ke.Unmount](){r.current.splice(v,1)},[Ke.Hidden](){r.current[v].state="hidden"}}),i.microTask(()=>{var w;!Fn(r)&&o.current&&((w=n.current)==null||w.call(n))}))}),l=z(f=>{let g=r.current.find(({el:v})=>v===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,Ke.Unmount)}),a=d.useRef([]),u=d.useRef(Promise.resolve()),c=d.useRef({enter:[],leave:[]}),m=z((f,g,v)=>{a.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([w])=>w!==f)),t==null||t.chains.current[g].push([f,new Promise(w=>{a.current.push(w)})]),t==null||t.chains.current[g].push([f,new Promise(w=>{Promise.all(c.current[g].map(([S,E])=>E)).then(()=>w())})]),g==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(g)):v(g)}),h=z((f,g,v)=>{Promise.all(c.current[g].splice(0).map(([w,S])=>S)).then(()=>{var w;(w=a.current.shift())==null||w()}).then(()=>v(g))});return d.useMemo(()=>({children:r,register:l,unregister:s,onStart:m,onStop:h,wait:u,chains:c}),[l,s,r,m,h,c,u])}let ds=d.Fragment,fs=yt.RenderStrategy;function rd(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:s,beforeLeave:l,afterLeave:a,enter:u,enterFrom:c,enterTo:m,entered:h,leave:f,leaveFrom:g,leaveTo:v,...w}=e,[S,E]=d.useState(null),y=d.useRef(null),$=us(e),M=ye(...$?[y,t,E]:t===null?[]:[t]),P=(n=w.unmount)==null||n?Ke.Unmount:Ke.Hidden,{show:O,appear:x,initial:b}=td(),[C,_]=d.useState(O?"visible":"hidden"),I=nd(),{register:A,unregister:j}=I;re(()=>A(y),[A,y]),re(()=>{if(P===Ke.Hidden&&y.current){if(O&&C!=="visible"){_("visible");return}return Se(C,{hidden:()=>j(y),visible:()=>A(y)})}},[C,y,A,j,O,P]);let H=Yt();re(()=>{if($&&H&&C==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,C,H,$]);let B=b&&!x,L=x&&O&&b,D=d.useRef(!1),F=cs(()=>{D.current||(_("hidden"),j(y))},I),W=z(ee=>{D.current=!0;let G=ee?"enter":"leave";F.onStart(y,G,Z=>{Z==="enter"?i==null||i():Z==="leave"&&(l==null||l())})}),k=z(ee=>{let G=ee?"enter":"leave";D.current=!1,F.onStop(y,G,Z=>{Z==="enter"?s==null||s():Z==="leave"&&(a==null||a())}),G==="leave"&&!Fn(F)&&(_("hidden"),j(y))});d.useEffect(()=>{$&&o||(W(O),k(O))},[O,$,o]);let V=!(!o||!$||!H||B),[,T]=Fi(V,S,O,{start:W,end:k}),te=qe({ref:M,className:((r=sr(w.className,L&&u,L&&c,T.enter&&u,T.enter&&T.closed&&c,T.enter&&!T.closed&&m,T.leave&&f,T.leave&&!T.closed&&g,T.leave&&T.closed&&v,!T.transition&&O&&h))==null?void 0:r.trim())||void 0,...Oi(T)}),J=0;C==="visible"&&(J|=be.Open),C==="hidden"&&(J|=be.Closed),T.enter&&(J|=be.Opening),T.leave&&(J|=be.Closing);let ne=pe();return d.createElement(On.Provider,{value:F},d.createElement(Yi,{value:J},ne({ourProps:te,theirProps:w,defaultTag:ds,features:fs,visible:C==="visible",name:"Transition.Child"})))}function od(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,s=d.useRef(null),l=us(e),a=ye(...l?[s,t]:t===null?[]:[t]);Yt();let u=Kt();if(n===void 0&&u!==null&&(n=(u&be.Open)===be.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,m]=d.useState(n?"visible":"hidden"),h=cs(()=>{n||m("hidden")}),[f,g]=d.useState(!0),v=d.useRef([n]);re(()=>{f!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let w=d.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);re(()=>{n?m("visible"):!Fn(h)&&s.current!==null&&m("hidden")},[n,h]);let S={unmount:o},E=z(()=>{var M;f&&g(!1),(M=e.beforeEnter)==null||M.call(e)}),y=z(()=>{var M;f&&g(!1),(M=e.beforeLeave)==null||M.call(e)}),$=pe();return d.createElement(On.Provider,{value:h},d.createElement(Mn.Provider,{value:w},$({ourProps:{...S,as:d.Fragment,children:d.createElement(ps,{ref:a,...S,...i,beforeEnter:E,beforeLeave:y})},theirProps:{},defaultTag:d.Fragment,features:fs,visible:c==="visible",name:"Transition"})))}function id(e,t){let n=d.useContext(Mn)!==null,r=Kt()!==null;return d.createElement(d.Fragment,null,!n&&r?d.createElement(hr,{ref:t,...e}):d.createElement(ps,{ref:t,...e}))}let hr=ce(od),ps=ce(rd),Hr=ce(id),sd=Object.assign(hr,{Child:Hr,Root:hr});var ld=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ld||{}),ad=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ad||{});let ud={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},zr=d.createContext(null);zr.displayName="DialogContext";function Pn(e){let t=d.useContext(zr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pn),n}return t}function cd(e,t){return Se(t.type,ud,e,t)}let Fo=ce(function(e,t){let n=d.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:s,role:l="dialog",autoFocus:a=!0,__demoMode:u=!1,unmount:c=!1,...m}=e,h=d.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=Kt();o===void 0&&f!==null&&(o=(f&be.Open)===be.Open);let g=d.useRef(null),v=ye(g,t),w=ft(g),S=o?0:1,[E,y]=d.useReducer(cd,{titleId:null,descriptionId:null,panelRef:d.createRef()}),$=z(()=>i(!1)),M=z(k=>y({type:0,id:k})),P=Yt()?S===0:!1,[O,x]=wc(),b={get current(){var k;return(k=E.panelRef.current)!=null?k:g.current}},C=ss(),{resolveContainers:_}=Gc({mainTreeNode:C,portals:O,defaultContainers:[b]}),I=f!==null?(f&be.Closing)===be.Closing:!1;yi(u||I?!1:P,{allowed:z(()=>{var k,V;return[(V=(k=g.current)==null?void 0:k.closest("[data-headlessui-portal]"))!=null?V:null]}),disallowed:z(()=>{var k;return[(k=C==null?void 0:C.closest("body > *:not(#headlessui-portal-root)"))!=null?k:null]})}),Ii(P,_,k=>{k.preventDefault(),$()}),zc(P,w==null?void 0:w.defaultView,k=>{k.preventDefault(),k.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),$()}),Mi(u||I?!1:P,w,_),Ci(P,g,$);let[A,j]=Ql(),H=d.useMemo(()=>[{dialogState:S,close:$,setTitleId:M,unmount:c},E],[S,E,$,M,c]),B=d.useMemo(()=>({open:S===0}),[S]),L={ref:v,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:S===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":A,unmount:c},D=!Bc(),F=ot.None;P&&!u&&(F|=ot.RestoreFocus,F|=ot.TabLock,a&&(F|=ot.AutoFocus),D&&(F|=ot.InitialFocus));let W=pe();return d.createElement(uc,null,d.createElement(Mo,{force:!0},d.createElement(ts,null,d.createElement(zr.Provider,{value:H},d.createElement(es,{target:g},d.createElement(Mo,{force:!1},d.createElement(j,{slot:B},d.createElement(x,null,d.createElement(Yc,{initialFocus:s,initialFocusFallback:g,containers:_,features:F},d.createElement(ca,{value:$},W({ourProps:L,theirProps:m,slot:B,defaultTag:dd,features:fd,visible:S===0,name:"Dialog"})))))))))))}),dd="div",fd=yt.RenderStrategy|yt.Static;function pd(e,t){let{transition:n=!1,open:r,...o}=e,i=Kt(),s=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!s&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?d.createElement(Oo,null,d.createElement(sd,{show:r,transition:n,unmount:o.unmount},d.createElement(Fo,{ref:t,...o}))):d.createElement(Oo,null,d.createElement(Fo,{ref:t,open:r,...o}))}let md="div";function gd(e,t){let n=d.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...i}=e,[{dialogState:s,unmount:l},a]=Pn("Dialog.Panel"),u=ye(t,a.panelRef),c=d.useMemo(()=>({open:s===0}),[s]),m=z(w=>{w.stopPropagation()}),h={ref:u,id:r,onClick:m},f=o?Hr:d.Fragment,g=o?{unmount:l}:{},v=pe();return d.createElement(f,{...g},v({ourProps:h,theirProps:i,slot:c,defaultTag:md,name:"Dialog.Panel"}))}let hd="div";function vd(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:i}]=Pn("Dialog.Backdrop"),s=d.useMemo(()=>({open:o===0}),[o]),l={ref:t,"aria-hidden":!0},a=n?Hr:d.Fragment,u=n?{unmount:i}:{},c=pe();return d.createElement(a,{...u},c({ourProps:l,theirProps:r,slot:s,defaultTag:hd,name:"Dialog.Backdrop"}))}let xd="h2";function wd(e,t){let n=d.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:s}]=Pn("Dialog.Title"),l=ye(t);d.useEffect(()=>(s(r),()=>s(null)),[r,s]);let a=d.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:r};return pe()({ourProps:u,theirProps:o,slot:a,defaultTag:xd,name:"Dialog.Title"})}let bd=ce(pd),ms=ce(gd),yd=ce(vd),gs=ce(wd),Cd=Object.assign(bd,{Panel:ms,Title:gs,Description:ra});function Sd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Ed=R.forwardRef(Sd);function Rd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const $d=R.forwardRef(Rd);function _d({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Id=R.forwardRef(_d);function Td({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Md=R.forwardRef(Td);function Od({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Fd=R.forwardRef(Od);function Pd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ad=R.forwardRef(Pd);function jd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const kd=R.forwardRef(jd);function Nd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Dd=R.forwardRef(Nd);function Ld({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Vd=R.forwardRef(Ld);function Hd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const zd=R.forwardRef(Hd);function Bd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Gd=R.forwardRef(Bd);function Wd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ud=R.forwardRef(Wd);function qd({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const hs=R.forwardRef(qd),Kd={confirmationModal:{defaultConfirm:"Confirm",cancel:"Cancel"},select:{optionPlaceholder:"Select an option",noOptions:"No options",clear:"Clear"},input:{clear:"Clear"}},Yd={upload:"Upload",uploadBlocked:"Your data has validation errors. Fix them before uploading.",back:"Back",loader:{failed:"Something went wrong",uploading:"Uploading",success:"Success",retry:"Try again",backToPreview:"Back to edit"},backToMappingConfirmation:{title:"Are you sure?",subTitle:"This will discard all changes made after the data was mapped",confirmationText:"Yes, go back",cancelText:"No, stay here"}},Xd={uploadAFile:"Upload a file",requiredColumns:"Required columns",optionalColumns:"Optional columns",requiredColumnsTooltip:"This column is required for the import",optionalColumnsTooltip:"This column is optional for the import",importerInformation:"Make sure your file includes all the required columns.",dragAndDrop:"Drag and drop your file here",maxFileSizeInBytes:"Limit {{size}}",browseFiles:"Browse Files",enterManually:"Or just manually enter your data"},Zd={numberRowsImported:"{{count}} Rows Imported",back:"Back",confirm:"Confirm",noData:"No preview data",used:"Used",unused:"Unused",importedColumn:"Imported column",destinationColumn:"Destination column",dataPreview:"Data preview for {{csvHeader}}",mappingsNotValid:"Please set all required mappings",reviewAndConfirm:"Review and confirm each mapping"},Jd={sheetTitle:"Uploaded data",validationPassed:"All rows pass validation!",removeConfirmationModalTitle:"Remove rows",removeConfirmationModalConfirmationText:"Remove",removeConfirmationModalSubTitle:"Are you sure you want to remove {{rowsCount}} rows?",readOnly:"Read Only",editTooltip:"Double click to edit",all:"All",valid:"Valid",invalid:"Invalid",filterByError:"Filter by error",search:"Search",removeRowsTooltip:"Remove rows",removeRowsTooltipNoRowsSelected:"Please select at least one record in order to delete it",addRowsTooltip:"Add a new row",downloadSheetTooltip:"Download this sheet",reset:"Start over",resetTooltip:"Start over",resetConfirmationModalTitle:"Start over",resetConfirmationModalConfirmationText:"Start over",resetConfirmationModalSubTitle:"Are you sure you want to start over? This will remove all data and reset the sheet to its initial state."},Qd={includes:"Value is not in the list of allowed values",integer:"This is not a valid number",multiIncludes:"This value is not valid",regex:"This value is invalid",required:"This value is required",unique:"This value is not unique"},ef={success:"Success",importSuccessful:"Import successful",importSuccessfulWithErrors:"Import successful with errors",successDescription:"{{totalRecords}} records were processed in your import",successDescriptionWithStats:"{{recordsImported}} out of {{totalRecords}} records were imported and are now available in your database",error:"Error",importFailed:"Import failed",failedDescription:"An error occurred while importing your data. Please try again",importDetails:"Import details",importDetailsDescription:"Details about your recent data import",fileInformation:"File information",dataEnteredManually:"Data entered manually",original:"Original",processed:"Processed",downloadProcessedData:"Download processed data",importResults:"Import results",totalRows:"{{totalRows}} rows",status:"Status",failed:"Failed",dataImport:"Data import",statisticsSkipped:"{{skipped}} skipped",statisticsFailed:"{{failed}} failed",statisticsImported:"{{imported}} imported",continue:"Continue"},tf={components:Kd,importer:Yd,uploader:Xd,mapper:Zd,sheet:Jd,validators:Qd,importStatus:ef},nf={confirmationModal:{defaultConfirm:"Confirmer",cancel:"Annuler"},select:{optionPlaceholder:"SÃ©lectionnez une option",noOptions:"Pas d'options",clear:"Effacer"},input:{clear:"Effacer"}},rf={upload:"TÃ©lÃ©charger",uploadBlocked:"Vos donnÃ©es comportent des erreurs de validation. Corrigez-les avant de les tÃ©lÃ©charger.",back:"Retour",loader:{failed:"Quelque chose a mal tournÃ©",uploading:"TÃ©lÃ©chargement en cours",success:"SuccÃ¨s",retry:"RÃ©essayer",backToPreview:"Retour Ã  modifier"},backToMappingConfirmation:{title:"ÃŠtes-vous sÃ»r ?",subTitle:"Cela annulera toutes les modifications effectuÃ©es aprÃ¨s le mappage des donnÃ©es",confirmationText:"Oui, revenir en arriÃ¨re",cancelText:"Non, rester ici"}},of={uploadAFile:"TÃ©lÃ©charger un fichier",requiredColumns:"Colonnes requises",optionalColumns:"Colonnes optionnelles",requiredColumnsTooltip:"Cette colonne est requise pour l'importation",optionalColumnsTooltip:"Cette colonne est optionnelle pour l'importation",importerInformation:"Assurez-vous que votre fichier inclut toutes les colonnes requises.",dragAndDrop:"Glissez et dÃ©posez votre fichier ici",maxFileSizeInBytes:"Limite {{size}}",browseFiles:"Parcourir les fichiers",enterManually:"Ou saisissez vos donnÃ©es manuellement"},sf={numberRowsImported:"{{count}} lignes importÃ©es",back:"Retour",confirm:"Confirmer",noData:"Aucune donnÃ©e prÃ©vue",unused:"Non utilisÃ©es",used:"UtilisÃ©es",importedColumn:"Colonne importÃ©e",destinationColumn:"Colonne de destination",dataPreview:"AperÃ§u des donnÃ©es pour {{csvHeader}}",mappingsNotValid:"Veuillez dÃ©finir toutes les mappings requis",reviewAndConfirm:"Revoir et confirmer chaque mapping"},lf={sheetTitle:"DonnÃ©es importÃ©es",validationPassed:"Toutes les lignes passent la validation !",removeConfirmationModalTitle:"Supprimer les lignes",removeConfirmationModalConfirmationText:"Supprimer",removeConfirmationModalSubTitle:"ÃŠtes-vous sÃ»r de vouloir supprimer {{rowsCount}} lignes ?",readOnly:"Lecture seule",editTooltip:"Double-cliquez pour modifier",all:"Toutes",valid:"Valides",invalid:"Invalides",filterByError:"Filtrer par erreur",search:"Recherche",removeRowsTooltip:"Supprimer les lignes",removeRowsTooltipNoRowsSelected:"Veuillez sÃ©lectionner au moins un enregistrement avant de le supprimer",addRowsTooltip:"Ajouter une nouvelle ligne",downloadSheetTooltip:"TÃ©lÃ©charger cette feuille",reset:"Recommencer",resetTooltip:"Recommencer",resetConfirmationModalTitle:"Recommencer",resetConfirmationModalConfirmationText:"Recommencer",resetConfirmationModalSubTitle:"ÃŠtes-vous sÃ»r de vouloir recommencer ? Cela supprimera toutes les donnÃ©es et rÃ©initialisera la feuille Ã  son Ã©tat initial."},af={includes:"La valeur n'est pas dans la liste des valeurs autorisÃ©es",integer:"Ce n'est pas un nombre valide",multiIncludes:"Cette valeur n'est pas valide",regex:"Cette valeur est invalide",required:"Cette valeur est obligatoire",unique:"Cette valeur n'est pas unique"},uf={success:"Importation rÃ©ussie",importSuccessful:"Importation rÃ©ussie",importSuccessfulWithErrors:"Importation rÃ©ussie avec erreurs",successDescription:"{{count}} enregistrements ont Ã©tÃ© importÃ©s avec succÃ¨s",successDescriptionWithStats:"{{recordsImported}} sur {{totalRecords}} enregistrements ont Ã©tÃ© importÃ©s avec succÃ¨s",error:"Importation Ã©chouÃ©e",errorDescription:"Une erreur est survenue lors de l'importation. Veuillez rÃ©essayer",importFailed:"Importation Ã©chouÃ©e",failedDescription:"Une erreur est survenue lors de l'importation. Veuillez rÃ©essayer",importDetails:"DÃ©tails de l'importation",importDetailsDescription:"DÃ©tails sur votre derniÃ¨re importation",fileInformation:"Informations sur le fichier",dataEnteredManually:"DonnÃ©es saisies manuellement",original:"Original",processed:"TraitÃ©",downloadProcessedData:"TÃ©lÃ©charger les donnÃ©es traitÃ©es",importResults:"RÃ©sultats de l'importation",totalRows:"{{totalRows}} enregistrements",status:"Statut",failed:"Ã‰chouÃ©",dataImport:"Importation de donnÃ©es",statisticsSkipped:"{{skipped}} ignorÃ©s",statisticsFailed:"{{failed}} Ã©chouÃ©s",statisticsImported:"{{imported}} importÃ©s",continue:"Continuer"},cf={components:nf,importer:rf,uploader:of,mapper:sf,sheet:lf,validators:af,importStatus:uf},df={confirmationModal:{defaultConfirm:"Confirmar",cancel:"Cancelar"},select:{optionPlaceholder:"Selecione uma opÃ§Ã£o",noOptions:"Sem opÃ§Ãµes",clear:"Limpar"},input:{clear:"Limpar"}},ff={upload:"Enviar",uploadBlocked:"Seus dados tÃªm erros de validaÃ§Ã£o. Corrija-os antes de enviar.",back:"Voltar",loader:{failed:"Algo deu errado",uploading:"Enviando",success:"Sucesso",retry:"Tentar novamente",backToPreview:"Voltar para editar"},backToMappingConfirmation:{title:"Tem certeza?",subTitle:"Isso descartarÃ¡ todas as alteraÃ§Ãµes feitas apÃ³s o mapeamento dos dados",confirmationText:"Sim, voltar",cancelText:"NÃ£o, permanecer aqui"}},pf={uploadAFile:"Enviar um arquivo",requiredColumns:"Colunas obrigatÃ³rias",optionalColumns:"Colunas opcionais",requiredColumnsTooltip:"Esta coluna Ã© obrigatÃ³ria para a importaÃ§Ã£o",optionalColumnsTooltip:"Esta coluna Ã© opcional para a importaÃ§Ã£o",importerInformation:"Certifique-se de que seu arquivo inclua todas as colunas obrigatÃ³rias.",dragAndDrop:"Arraste e solte seu arquivo aqui",maxFileSizeInBytes:"Limite {{size}}",browseFiles:"Procurar arquivos",enterManually:"Ou apenas insira seus dados manualmente"},mf={numberRowsImported:"{{count}} linhas importadas",back:"Voltar",confirm:"Confirmar",noData:"Nenhum dado de prÃ©-visualizaÃ§Ã£o",used:"Usado",unused:"NÃ£o usado",importedColumn:"Coluna importada",destinationColumn:"Coluna de destino",dataPreview:"PrÃ©-visualizaÃ§Ã£o de dados para {{csvHeader}}",mappingsNotValid:"Por favor, defina todos os mapeamentos obrigatÃ³rios",reviewAndConfirm:"Revise e confirme cada mapeamento"},gf={sheetTitle:"Dados enviados",validationPassed:"Todas as linhas passaram na validaÃ§Ã£o!",removeConfirmationModalTitle:"Remover linhas",removeConfirmationModalConfirmationText:"Remover",removeConfirmationModalSubTitle:"Tem certeza que deseja remover {{rowsCount}} linhas?",readOnly:"Somente leitura",editTooltip:"Clique duas vezes para editar",all:"Todas",valid:"VÃ¡lido",invalid:"InvÃ¡lido",filterByError:"Filtrar por erro",search:"Buscar",removeRowsTooltip:"Remover linhas",removeRowsTooltipNoRowsSelected:"Selecione pelo menos um registro para deletÃ¡-lo",addRowsTooltip:"Adicionar nova linha",downloadSheetTooltip:"Baixar esta planilha",reset:"RecomeÃ§ar",resetTooltip:"RecomeÃ§ar",resetConfirmationModalTitle:"RecomeÃ§ar",resetConfirmationModalConfirmationText:"RecomeÃ§ar",resetConfirmationModalSubTitle:"Tem certeza que deseja recomeÃ§ar? Isso removerÃ¡ todos os dados e resetarÃ¡ a planilha ao seu estado inicial."},hf={includes:"O valor nÃ£o estÃ¡ na lista de valores permitidos",integer:"Este nÃ£o Ã© um nÃºmero vÃ¡lido",multiIncludes:"Este valor nÃ£o Ã© vÃ¡lido",regex:"Este valor Ã© invÃ¡lido",required:"Este valor Ã© obrigatÃ³rio",unique:"Este valor nÃ£o Ã© Ãºnico"},vf={success:"Sucesso",importSuccessful:"ImportaÃ§Ã£o bem-sucedida",importSuccessfulWithErrors:"ImportaÃ§Ã£o concluÃ­da com erros",successDescription:"{{totalRecords}} registros foram processados na sua importaÃ§Ã£o",successDescriptionWithStats:"{{recordsImported}} de {{totalRecords}} registros foram importados e estÃ£o disponÃ­veis na sua base de dados",error:"Erro",importFailed:"Falha na importaÃ§Ã£o",failedDescription:"Ocorreu um erro ao importar seus dados. Tente novamente",importDetails:"Detalhes da importaÃ§Ã£o",importDetailsDescription:"Detalhes sobre sua importaÃ§Ã£o recente de dados",fileInformation:"InformaÃ§Ãµes do arquivo",dataEnteredManually:"Dados inseridos manualmente",original:"Original",processed:"Processado",downloadProcessedData:"Baixar dados processados",importResults:"Resultados da importaÃ§Ã£o",totalRows:"{{totalRows}} linhas",status:"Status",failed:"Falhou",dataImport:"ImportaÃ§Ã£o de dados",statisticsSkipped:"{{skipped}} ignoradas",statisticsFailed:"{{failed}} falharam",statisticsImported:"{{imported}} importadas",continue:"Continuar"},xf={components:df,importer:ff,uploader:pf,mapper:mf,sheet:gf,validators:hf,importStatus:vf},vs=d.createContext({});function wf({importerDefintion:e,children:t}){return p.jsx(vs.Provider,{value:e,children:t})}function _e(){return d.useContext(vs)}const bf={en:tf,fr:cf,"pt-BR":xf},yf="en";function Po(e,t,n){const r=t.split(".");let o=(n==null?void 0:n[e])??bf[e];for(const i of r)if(o&&typeof o=="object")o=o[i];else return t;return typeof o=="string"?o:t}function Cf(e,t){return e.replace(/{{([^}]+)}}/g,(n,r)=>`${t[r]??`{${r}}`}`)}function Sf(e,t){const n=e.split(/({{[^}]+}})/g);return p.jsx("span",{children:n.map(r=>{const o=r.match(/{{([^}]+)}}/);let i=r;if(o){const s=o[1];i=t[s]??`{${s}}`}return p.jsx(d.Fragment,{children:i},r)})})}const xs=d.createContext({});function Ef({children:e}){const{translationResources:t,locale:n}=_e(),r=n??yf;function o(s,l={}){const a=Po(r,s,t);return Cf(a,l)}function i(s,l={}){const a=Po(r,s,t);return Sf(a,l)}return p.jsx(xs.Provider,{value:{t:o,tHtml:i},children:e})}function ae(){return d.useContext(xs)}function vr({open:e,setOpen:t,title:n,subTitle:r,confirmationText:o,cancelText:i,onConfirm:s,variant:l="default"}){const{t:a}=ae(),u={danger:{icon:p.jsx(Ad,{className:"text-hello-csv-destructive size-6","aria-hidden":"true"}),btnVariant:"danger",bgColor:"bg-hello-csv-destructive/10"},default:{btnVariant:"primary"}},{icon:c,btnVariant:m,bgColor:h}=u[l];return p.jsxs(Cd,{open:e,onClose:t,className:"relative z-50",children:[p.jsx(yd,{transition:!0,className:"fixed inset-0 bg-black/80 transition-opacity data-closed:opacity-0 data-enter:duration-200 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),p.jsx("div",{className:"fixed inset-0 z-50 w-screen overflow-y-auto",children:p.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:p.jsxs(ms,{transition:!0,className:"relative grid w-full max-w-[calc(100%-2rem)] translate-x-0 translate-y-0 gap-6 rounded-[var(--hello-csv-radius)] border border-hello-csv-border bg-hello-csv-background p-6 text-left shadow-lg duration-200 data-closed:opacity-0 data-closed:zoom-out-95 data-enter:animate-in data-enter:fade-in-0 data-enter:zoom-in-95 data-leave:animate-out data-leave:fade-out-0 sm:max-w-lg",children:[p.jsxs("div",{className:"sm:flex sm:items-start",children:[c&&p.jsx("div",{className:`mx-auto flex size-12 shrink-0 items-center justify-center rounded-full ${h} sm:mx-0 sm:size-10`,children:c}),p.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[p.jsx(gs,{as:"h3",className:"text-lg font-semibold text-hello-csv-foreground",children:n}),r&&p.jsx("div",{className:"mt-2",children:p.jsx("p",{className:"text-sm text-hello-csv-muted-foreground",children:r})})]})]}),p.jsxs("div",{className:"mt-2 sm:flex sm:flex-row-reverse gap-3",children:[p.jsx("div",{className:"sm:w-auto",children:p.jsx($e,{variant:m,onClick:()=>{s(),t(!1)},withFullWidth:!0,children:o??a("components.confirmationModal.defaultConfirm")})}),p.jsx("div",{className:"mt-3 sm:mt-0 sm:w-auto",children:p.jsx($e,{variant:"tertiary","data-autofocus":!0,onClick:()=>t(!1),withFullWidth:!0,children:i??a("components.confirmationModal.cancel")})})]})]})})})]})}const Rf=100,ws=5,$f=["text/csv","text/tab-separated-values"],Ao=",",_f=500,If="headlessui-portal-root",xr="hello-csv",Tf=52.62,wr="checkbox-column-id",Mf=110,Of=50,Ff=500,Pf=150,bs="Yes",ys="No",Af=d.forwardRef(function({children:t},n){return d.useEffect(()=>{const r=new MutationObserver(o=>{for(const i of o)i.addedNodes.forEach(s=>{s.nodeType===Node.ELEMENT_NODE&&s.id===If&&s.classList.add(xr)})});return r.observe(document.body,{childList:!0,subtree:!1}),()=>r.disconnect()},[]),p.jsx("div",{role:"group","aria-label":"Hello CSV",className:`${xr}`,style:{display:"contents"},children:p.jsx("div",{ref:n,className:"min-h-0 w-full overflow-auto bg-white",children:t})})});function jf({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const kf=R.forwardRef(jf);function Nf({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Df=R.forwardRef(Nf);function Lf({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Vf=R.forwardRef(Lf);function Hf({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const zf=R.forwardRef(Hf);function Bf({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const Cs=R.forwardRef(Bf),Ss=d.forwardRef(({value:e,onBlur:t,onChange:n,placeholder:r,iconBuilder:o,classes:i,clearable:s,type:l="text",...a},u)=>{const{t:c}=ae(),[m,h]=d.useState(e);d.useEffect(()=>{h(e)},[e]);const f=s&&e!=null&&e!=="";function g(v){const w=v.target,S=l==="number"?w==null?void 0:w.valueAsNumber:w==null?void 0:w.value;return(typeof S=="number"&&isNaN(S)?"":S)??""}return p.jsxs("div",{className:"grid grid-cols-1",children:[p.jsx("input",{"aria-label":a["aria-label"],ref:u,type:l,inputMode:l==="number"?"numeric":"text",placeholder:r,value:typeof m=="boolean"?m.toString():m,onChange:v=>(n==null?void 0:n(g(v)))??h(g(v)),className:`${i} ${o!=null?"pl-10":""} ${s?"pr-10":""} col-start-1 row-start-1 flex h-10 w-full min-w-0 rounded-[var(--hello-csv-radius-md)] border border-hello-csv-input bg-transparent px-3 py-2 text-base text-hello-csv-foreground transition-[color,box-shadow] outline-none placeholder:text-hello-csv-muted-foreground focus-visible:border-hello-csv-ring focus-visible:ring-[3px] focus-visible:ring-hello-csv-ring/50 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,onBlur:v=>t==null?void 0:t(g(v))}),o==null?void 0:o({"aria-hidden":"true",className:"pointer-events-none col-start-1 row-start-1 ml-3 size-5 self-center text-hello-csv-muted-foreground sm:size-4"}),f&&p.jsx("span",{role:"button",tabIndex:0,"aria-label":c("components.input.clear"),onClick:v=>{v.stopPropagation(),n==null||n("")},className:"col-end-2 row-start-1 flex cursor-pointer items-center justify-self-end pr-2",children:p.jsx(Cs,{className:"h-5 w-5 text-hello-csv-muted-foreground hover:text-hello-csv-foreground","aria-hidden":"true"})})]})});function bt({value:e,options:t,onChange:n,multiple:r=!1,compareFunction:o=(m,h)=>m===h,clearable:i=!1,searchable:s=!1,placeholder:l,classes:a,displayPlaceholderWhenSelected:u=!1,...c}){const{t:m}=ae(),[h,f]=d.useState(""),g=C=>r&&Array.isArray(e)?e.some(_=>o(_,C)):o(e,C),v=C=>{if(f(""),r){const _=Array.isArray(C)?C:[C];n(_)}else n(C)},w=()=>{f(""),n(r?[]:null)},S=t.filter(C=>g(C.value)),E=S.map(C=>C.label).join(", "),y=h&&s?t.filter(C=>String(C.label).toLowerCase().includes(h.toLowerCase())):t,$=l??m("components.select.optionPlaceholder"),M=()=>s?E:S.length>0?u?`${$}: ${E}`:E:"",O=y.some(C=>C.group)?Object.entries(y.reduce((C,_)=>{const I=_.group||"ungrouped";return C[I]=C[I]||[],C[I].push(_),C},{})).map(([C,_])=>({label:C,items:_})):[{label:null,items:y}],x=O.every(({items:C})=>C.length===0),b=i&&S.length>0;return p.jsx(Hc,{value:e,onChange:v,multiple:r,children:p.jsxs("div",{className:"relative",children:[p.jsx(mr,{className:"w-full","aria-label":c["aria-label"]??l,children:p.jsx(rs,{className:`${a} flex h-10 w-full items-center justify-between gap-2 rounded-[var(--hello-csv-radius-md)] border border-hello-csv-input bg-transparent px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:border-hello-csv-ring focus-visible:ring-[3px] focus-visible:ring-hello-csv-ring/50 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer truncate focus:cursor-text ${b?"pr-12":"pr-8"} text-left text-hello-csv-foreground placeholder:text-hello-csv-muted-foreground`,displayValue:M,onChange:C=>s&&f(C.target.value),placeholder:$,readOnly:!s})}),b&&p.jsx("span",{role:"button",tabIndex:0,"aria-label":m("components.select.clear"),onClick:C=>{C.stopPropagation(),w()},className:"absolute inset-y-0 right-6 flex cursor-pointer items-center text-hello-csv-muted-foreground hover:text-hello-csv-foreground",children:p.jsx(Cs,{className:"h-5 w-5","aria-hidden":"true"})}),p.jsx(mr,{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-2",children:p.jsx(Vf,{"aria-hidden":"true",className:"col-start-1 row-start-1 size-4 self-center justify-self-end text-hello-csv-muted-foreground opacity-50"})}),p.jsxs(os,{anchor:"bottom",transition:!0,className:"absolute z-99 mt-1 max-h-60 w-[var(--input-width)] overflow-auto rounded-[var(--hello-csv-radius-md)] border border-hello-csv-border bg-hello-csv-popover p-1 text-hello-csv-popover-foreground shadow-md focus:outline-hidden data-leave:transition data-leave:duration-100 data-leave:ease-in data-closed:data-leave:opacity-0 text-sm",children:[x&&p.jsx(gr,{disabled:!0,value:null,className:"pointer-events-none relative flex items-center justify-center py-1.5 pr-8 pl-2 text-hello-csv-muted-foreground select-none",children:p.jsx("span",{className:"block truncate font-normal",children:m("components.select.noOptions")})},"no-options"),O.map(({label:C,items:_})=>p.jsxs("div",{children:[C&&p.jsx("div",{className:"py-1.5 pr-8 pl-2 text-hello-csv-muted-foreground text-xs font-medium uppercase",children:C}),_.map(I=>p.jsxs(gr,{value:I.value,className:"group relative flex w-full cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-hello-csv-foreground select-none outline-hidden data-focus:bg-hello-csv-accent data-focus:text-hello-csv-accent-foreground",children:[I.icon,p.jsx("span",{className:"block truncate font-normal group-data-selected:font-semibold",children:I.label}),g(I.value)&&p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center text-hello-csv-primary group-data-focus:text-hello-csv-accent-foreground",children:p.jsx(kf,{"aria-hidden":"true",className:"size-4"})})]},typeof I.value=="object"?JSON.stringify(I.value):String(I.value)))]},C||"all"))]})]})})}function Gf({tabs:e,activeTab:t,onTabChange:n,idPrefix:r}){return p.jsxs("div",{children:[p.jsx("div",{className:"grid grid-cols-1 sm:hidden",children:p.jsx(bt,{options:e,value:t,onChange:o=>n(o)})}),p.jsx("div",{className:"hidden sm:block",children:p.jsx("div",{className:"border-b border-hello-csv-border",children:p.jsx("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",role:"tablist",children:e.map(o=>p.jsxs("button",{id:`${r}-tab-${o.value}`,role:"tab","aria-selected":o.value===t,"aria-current":o.value===t?"page":void 0,"aria-controls":`${r}-tabpanel-${o.value}`,onClick:()=>n(o.value),className:` ${o.value===t?"border-hello-csv-primary text-hello-csv-primary":"border-transparent text-hello-csv-muted-foreground hover:border-hello-csv-border hover:text-hello-csv-foreground"} flex cursor-pointer items-center border-b-2 px-1 py-4 text-sm font-medium whitespace-nowrap transition-colors`,children:[o.icon,o.label]},o.label))})})})]})}const Wf=et("bg-hello-csv-popover text-hello-csv-popover-foreground absolute outline top-full w-full whitespace-normal z-5 mb-2 hidden px-2 py-4 text-xs group-focus-within:block group-hover:block rounded-[var(--hello-csv-radius-md)] border border-hello-csv-border shadow-md",{variants:{variant:{error:"outline-hello-csv-destructive",info:"outline-hello-csv-muted-foreground"}},defaultVariants:{variant:"info"}}),Uf=et("group relative h-full w-full",{variants:{variant:{error:"focus-within:outline-hello-csv-destructive hover:outline-hello-csv-destructive",info:"focus-within:outline-hello-csv-muted-foreground hover:outline-hello-csv-muted-foreground"},withOutline:{true:"focus-within:outline hover:outline hover:z-5 focus-within:z-5",false:""}},defaultVariants:{variant:"info",withOutline:!1}});function qf({variant:e,children:t,tooltipText:n}){const r=Wf({variant:e}),o=Uf({variant:e,withOutline:!!n});return p.jsxs("div",{className:o,tabIndex:0,children:[t,n&&p.jsx("span",{className:r,children:n})]})}const Kf=et("relative inline-flex cursor-pointer items-center px-3 py-2 text-sm font-medium ring-hello-csv-border ring-1 ring-inset focus:z-10 transition-colors",{variants:{active:{true:"",false:"bg-hello-csv-background hover:bg-hello-csv-accent"},variant:{default:"",danger:"text-hello-csv-destructive"},location:{left:"rounded-l-[var(--hello-csv-radius-md)]",center:"-ml-px",right:"rounded-r-[var(--hello-csv-radius-md)] -ml-px "}},compoundVariants:[{active:!0,variant:"default",className:"bg-hello-csv-foreground text-hello-csv-background"},{active:!0,variant:"danger",className:"bg-hello-csv-destructive text-white"},{active:!1,variant:"default",className:"text-hello-csv-foreground"},{active:!1,variant:"danger",className:"text-hello-csv-destructive"}]});function Yf({activeButton:e,buttons:t}){return p.jsx("span",{className:"isolate inline-flex rounded-[var(--hello-csv-radius-md)] shadow-xs",children:t.map((n,r)=>p.jsx("button",{type:"button",onClick:n.onClick,"aria-current":n.value===e,className:Kf({active:n.value===e,variant:n.variant,location:r===0?"left":r===t.length-1?"right":"center"}),children:n.label},n.value))})}function Es(e,t){return e.indexOf(t)!==-1}function Rs(e,t){const n={};return e.forEach(r=>{t(r,n)}),n}function $s(e){const t={...e};return delete t.rowIndex,Object.values(t).length>0}class Zt{constructor(t){de(this,"definition");this.definition=t}transform(t){const n=this.parse(t);return n??t}parse(t){throw new Error("Not Implemented")}}class Xf extends Zt{constructor(n){super(n);de(this,"key");de(this,"parse");const{key:r,transformFn:o}=n;this.key=r,this.parse=o}}class Zf extends Zt{parse(t){if(typeof t=="string")return t.replace(/[^0-9]/g,"")}}class Jf extends Zt{parse(t){if(typeof t=="string"&&Es(t,"-"))return t.split("-")[0]}}const jo=[["Arizona","AZ"],["Alabama","AL"],["Alaska","AK"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]];class Qf extends Zt{parse(t){const n=jo.map(r=>r[0].toLowerCase());if(typeof t=="string"&&Es(n,t.toLowerCase())){const r=n.indexOf(t.toLowerCase());return jo[r][1]}}}class ep extends Zt{parse(t){if(typeof t=="string")return t.trim()}}function tp(e){const t={phone_number:Zf,postal_code:Jf,state_code:Qf,strip:ep,custom:Xf};if(!(e.transformer in t))throw new Error(`Missing transformer for ${e.transformer}. Valid transformer options are ${Object.keys(t).join(", ")}`);const n=t[e.transformer];return new n(e)}function np(e,t){const n=Rs(e.columns,(r,o)=>{o[r.id]=new rp,r.transformers&&r.transformers.forEach(i=>{o[r.id].push(tp(i))})});return e.columns.forEach(r=>{const o=r.id,i=n[o];t.rows.forEach(s=>{if(!$s(s))return;const l=s[o];Br(l)||(s[o]=i.transform(l))})}),t.rows}function br(e,t){const n=[];return e.forEach(r=>{const o=t.find(i=>i.sheetId===r.id);if(o){const i=np(r,o);n.push({sheetId:r.id,rows:i})}}),n}class rp{constructor(t=[]){de(this,"steps");this.steps=t}push(t){this.steps.push(t)}transform(t){let n=t;return this.steps.forEach(r=>{n=r.transform(n)}),n}}const op=e=>e==null,ip=e=>e.rows.filter(t=>Object.keys(t).length>0);function Br(e){return op(e)||e===""}const ko=e=>[...new Set(e)];function nn(e,t,n){return Math.min(Math.max(e,t),n)}function xn(e){if(e==null)return null;const t=["_"," ",".","-","/"];return e.toString().toLowerCase().replace(new RegExp(t.map(n=>`\\${n}`).join("|"),"g"),"")}function No(e){if(e==null)return"";let t=String(e);return t=t.replace(/"/g,'""'),/[",\n\r]/.test(t)&&(t=`"${t}"`),t}function Gr(e,t,n,r){const o=e.columns.map(l=>No(r==="label"?l.label:l.id)).join(Ao),i=t.map(l=>e.columns.map(a=>{const u=l[a.id];let c;return r==="value"||u==null?c=u:a.type==="enum"?c=wn(n[e.id][a.id],u):a.type==="reference"?c=wn(Wr(a,n),u):c=u,No(c)}).join(Ao)),s=[o,...i].join(`
`);return new Blob([s],{type:"text/csv"})}function _s(e,t,n,r){const o=Gr(e,t,n,r),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=`${e.label}.csv`,s.click(),URL.revokeObjectURL(i)}function Wr(e,t){const{sheetId:n,sheetColumnId:r}=e.typeArguments;return t[n][r]??{}}function wn(e,t){return typeof t!="string"?t:e[t]??t}function Ur(e,t){return br(e,t.map(n=>({...n,rows:ip(n)})))}const rt=8,rn=8,Ue=8,on=-4,sp=et("absolute z-50 w-max rounded-[var(--hello-csv-radius-md)] border border-hello-csv-border bg-hello-csv-popover px-3 py-1.5 text-xs text-hello-csv-popover-foreground shadow-md transition-opacity duration-200",{variants:{visible:{true:"opacity-100",false:"opacity-0 pointer-events-none"},hidden:{true:"hidden",false:""}}});function vt({tooltipText:e,children:t,className:n,hidden:r}){const[o,i]=d.useState(!1),[s,l]=d.useState({top:0,left:0}),[a,u]=d.useState("bottom"),[c,m]=d.useState(0),h=d.useRef(null),f=d.useRef(null),[g,v]=d.useState(null);d.useEffect(()=>{const y=document.createElement("div");return y.classList.add(xr),document.body.appendChild(y),v(y),()=>{document.body.removeChild(y)}},[]);const w=()=>{requestAnimationFrame(()=>{if(!h.current||!f.current)return;const y=h.current.getBoundingClientRect(),$=f.current.getBoundingClientRect(),M=window.innerWidth,P=window.innerHeight,O=P-y.bottom,x=y.top,b=M-y.right;let C="bottom";O>=$.height+rt?C="bottom":x>=$.height+rt?C="top":b>=$.width+rt?C="right":C="left";let _=0,I=0;switch(C){case"bottom":_=y.bottom+rt+window.scrollY,I=y.left+y.width/2-$.width/2+window.scrollX;break;case"top":_=y.top-$.height-rt+window.scrollY,I=y.left+y.width/2-$.width/2+window.scrollX;break;case"right":_=y.top+y.height/2-$.height/2+window.scrollY,I=y.right+rt+window.scrollX;break;case"left":_=y.top+y.height/2-$.height/2+window.scrollY,I=y.left-$.width-rt+window.scrollX;break}_=nn(_,rn+window.scrollY,window.scrollY+P-$.height-rn),I=nn(I,rn+window.scrollX,window.scrollX+M-$.width-rn);const A=y.left+y.width/2+window.scrollX,j=y.top+y.height/2+window.scrollY;let H=0;if(C==="top"||C==="bottom"){const B=A-I;H=nn(B,Ue,$.width-Ue)}else{const B=j-_;H=nn(B,Ue,$.height-Ue)}u(C),l({top:_,left:I}),m(H),i(!0)})},S=()=>i(!1),E=d.useId();return p.jsxs("div",{ref:h,tabIndex:0,className:`${n??""} relative inline-block`,onMouseEnter:w,onMouseLeave:S,onFocus:w,onBlur:S,"aria-describedby":E,children:[t,g&&Ie.createPortal(p.jsxs("div",{id:E,role:"tooltip","aria-label":e,"aria-hidden":!o,ref:f,className:sp({visible:o,hidden:r}),style:{top:`${s.top}px`,left:`${s.left}px`},children:[e,p.jsx("div",{className:"absolute h-2 w-2 rotate-45 border border-hello-csv-border bg-hello-csv-popover",style:a==="bottom"?{top:on,left:c-Ue/2}:a==="top"?{bottom:on,left:c-Ue/2}:a==="left"?{right:on,top:c-Ue/2}:{left:on,top:c-Ue/2}})]}),g)]})}const lp=et("inline-flex items-center justify-center rounded-[var(--hello-csv-radius-md)] border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none transition-[color,box-shadow] overflow-hidden",{variants:{variant:{primary:"border-transparent bg-hello-csv-primary text-hello-csv-primary-foreground",secondary:"border-transparent bg-hello-csv-secondary text-hello-csv-secondary-foreground",success:"border-transparent bg-hello-csv-success text-hello-csv-success-foreground",error:"border-transparent bg-hello-csv-destructive text-white",outline:"text-hello-csv-foreground border-hello-csv-border"}},defaultVariants:{variant:"primary"}});function qr({children:e,variant:t}){const n=lp({variant:t});return p.jsx("div",{className:n,children:e})}function ap({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Is=R.forwardRef(ap);function up({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const cp=R.forwardRef(up);function dp({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const yr=R.forwardRef(dp);function fp({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const pp=R.forwardRef(fp),mp={info:{icon:p.jsx(pp,{className:"size-4 text-current","aria-hidden":"true"}),classes:"relative w-full rounded-[var(--hello-csv-radius)] border border-hello-csv-border bg-hello-csv-card text-hello-csv-card-foreground px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start",descriptionClasses:"text-hello-csv-muted-foreground"},success:{icon:p.jsx(Is,{className:"size-4 text-hello-csv-success","aria-hidden":"true"}),classes:"relative w-full rounded-[var(--hello-csv-radius)] border border-hello-csv-border bg-hello-csv-card text-hello-csv-success px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start",descriptionClasses:"text-hello-csv-success/90"},error:{icon:p.jsx(yr,{className:"size-4 text-hello-csv-destructive","aria-hidden":"true"}),classes:"relative w-full rounded-[var(--hello-csv-radius)] border border-hello-csv-border bg-hello-csv-card text-hello-csv-destructive px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start",descriptionClasses:"text-hello-csv-destructive/90"},warning:{icon:p.jsx(yr,{className:"size-4 text-hello-csv-warning","aria-hidden":"true"}),classes:"relative w-full rounded-[var(--hello-csv-radius)] border border-hello-csv-border bg-hello-csv-card text-hello-csv-warning px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start",descriptionClasses:"text-hello-csv-warning/90"}};function Kr({variant:e="info",header:t,description:n}){const{icon:r,classes:o,descriptionClasses:i}=mp[e];return p.jsxs("div",{className:o,children:[r,p.jsxs("div",{className:"col-start-2",children:[t&&p.jsx("div",{className:"font-medium leading-none tracking-tight",children:t}),p.jsx("div",{className:`text-sm ${i} ${t?"mt-1":""}`,children:n})]})]})}function gp({children:e}){return p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"shrink-0",children:p.jsx(Ud,{"aria-hidden":"true",className:"text-hello-csv-destructive size-5"})}),p.jsx("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:p.jsx("p",{className:"text-hello-csv-destructive text-sm",children:e})})]})}const hp=et("inline-block rounded-full animate-spin border-t-transparent size-4 border-2",{variants:{color:{light:"border-hello-csv-primary-foreground border-t-transparent",dark:"border-hello-csv-foreground border-t-transparent",primary:"border-hello-csv-primary border-t-transparent"}},defaultVariants:{color:"primary"}});function Ts({color:e="primary"}){return p.jsx("span",{className:`${hp({color:e})}`})}class pt{constructor(t){de(this,"definition");this.definition=t}isValid(t,n){throw new Error("Not Implemented")}}class vp extends pt{constructor(n){super(n);de(this,"key");de(this,"validateFn");this.key=n.key,this.validateFn=n.validateFn}isValid(n,r){return this.validateFn(n,r)}}function xp(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}class An extends pt{constructor(n){super(n);de(this,"regexp");typeof n.regex=="object"?this.regexp=n.regex:this.regexp=new RegExp(xp(n.regex))}isValid(n){if(!this.regexp.test((n==null?void 0:n.toString())??""))return this.definition.error||"validators.regex"}}class wp extends An{constructor(t){super({...t,regex:/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,}$/i})}}class bp extends pt{constructor(n){super(n);de(this,"values");if(this.values=n.values,!this.values)throw new Error("Missing `values` for `includes` validator")}isValid(n){if(n==null||!this.values.includes(n))return this.definition.error||"validators.includes"}}class yp extends pt{isValid(t){if(!(typeof t=="number"&&Number.isFinite(t)))return this.definition.error||"validators.integer"}}class Cp extends pt{constructor(n){super(n);de(this,"delimiter");de(this,"values");if(this.delimiter=n.delimiter||/[,|]/,this.values=n.values,!this.values)throw new Error("Missing values for `multi_includes` validator")}isValid(n){var o;if((((o=n==null?void 0:n.toString())==null?void 0:o.split(this.delimiter))??[]).some(i=>!this.values.includes(i.trim())))return this.definition.error||"validators.multiIncludes"}}class Sp extends An{constructor(t){super({...t,regex:/^\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}$/})}}class Ep extends An{constructor(t){super({...t,regex:/^\d{5}(-\d{4})?$/})}}class Rp extends pt{constructor(n){super(n);de(this,"when");this.when=n.when??(()=>!0)}isValid(n,r){if(this.when(r)&&Br(n))return this.definition.error||"validators.required"}}class $p extends pt{constructor(n){super(n);de(this,"seen");de(this,"caseInsensitive");this.caseInsensitive=n.caseInsensitive||!1,this.seen=new Set}comparableValue(n){return this.caseInsensitive&&typeof n=="string"?n.toLocaleLowerCase():n}isValid(n){const r=this.comparableValue(n);if(this.seen.has(r))return this.definition.error||"validators.unique";this.seen.add(r)}}function _p(e){const t={regex_matches:An,required:Rp,unique:$p,includes:bp,multi_includes:Cp,is_integer:yp,postal_code:Ep,phone_number:Sp,email:wp,custom:vp};if(!(e.validate in t))throw new Error(`Missing validator for ${e.validate}. Valid validator options are ${Object.keys(t).join(", ")}`);const n=t[e.validate];return new n(e)}function Ms(e,t){var o,i,s;const n=e.typeArguments,r=t.find(l=>l.sheetId===n.sheetId);return((s=(i=(o=r==null?void 0:r.rows)==null?void 0:o.map(l=>l[n.sheetColumnId]))==null?void 0:i.filter(l=>!Br(l)))==null?void 0:s.filter((l,a,u)=>u.indexOf(l)===a))??[]}function Os(e,t,n){return e.find(r=>r.sheetId===t).rows.indexOf(n)}function Ip(e,t,n,r,o,i,s){return d.useMemo(()=>{let a=e.rows;switch(n){case"errors":a=e.rows.filter((u,c)=>r.some(m=>m.rowIndex===c));break;case"valid":a=e.rows.filter((u,c)=>!r.some(m=>m.rowIndex===c));break;case"all":default:a=e.rows}return o!=null&&(a=a.filter(u=>{const c=Os(t,i.id,u);return r.find(h=>h.rowIndex===c&&h.columnId===o)!=null})),s.trim()!==""&&(a=a.filter(u=>Object.values(u).some(c=>{var m;return(m=xn(c))==null?void 0:m.includes(xn(s))}))),a},[e,n,r,o,i.id,t,s])}function Fs(e){return e.type==="calculated"?!0:!!e.isReadOnly}function Tp(e){return Object.fromEntries(e.map(t=>[t.id,Object.fromEntries(t.columns.filter(n=>n.type==="enum").map(n=>[n.id,Object.fromEntries(n.typeArguments.values.map(({label:r,value:o})=>[o,r]))]))]))}function Mp(e,t,n){var i,s,l;const r=e.type==="enum"?((i=e.typeArguments.values.find(a=>a.value===t))==null?void 0:i.label)??t:e.type==="reference"&&t!=null?wn(Wr(e,n),t):e.type==="boolean"?t===!0?((s=e.typeArguments)==null?void 0:s.trueLabel)??bs:t===!1?((l=e.typeArguments)==null?void 0:l.falseLabel)??ys:t:t,o=r==null||typeof r=="string"&&r.trim()==="";return{displayValue:o?"Â ":r,valueEmpty:o}}function Jt(e,{skipConditionCheck:t}={}){if(e.validators&&e.validators.length>0){const n=e.validators.find(r=>r.validate==="required");return n!=null&&(t?!0:n.when==null)}return!1}function Op(e,t){const n=[];if(e.type==="enum"&&n.push({values:e.typeArguments.values.map(r=>r.value),validate:"includes"}),e.type==="reference"){const r=Ms(e,t);n.push({values:r,validate:"includes"})}return n}async function Fp(e,t,n){const r=[],o=[],i=Rs(e.columns,(s,l)=>{l[s.id]=[],[...s.validators??[],...Op(s,n)].forEach(u=>{l[s.id].push(_p(u))})});return e.columns.forEach(s=>{t.rows.forEach((l,a)=>{if(!$s(l)||!(s.id in l)&&!Jt(s,{skipConditionCheck:!0}))return;const u=l[s.id];i[s.id].forEach(m=>{const h=Promise.resolve(m.isValid(u,l)).then(f=>{f!=null&&r.push({sheetId:e.id,columnId:s.id,rowIndex:a,message:f})});o.push(h)})})}),await Promise.all(o),r}async function Pp(e,t){const n=e.map(async o=>{const i=t.find(s=>s.sheetId===o.id);return i?await Fp(o,i,t):[]});return(await Promise.all(n)).flat()}const Ap=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ps=Math.pow(2,53),jp=-Ps;function As(e,t,n){return t.map(r=>{const o=e.find(s=>s.id===r.sheetId);if(o==null)return r;const i=r.rows.map((s,l)=>{const a={...s};return n(o.columns,a,s,l),a});return{...r,rows:i}})}function kp(e,t){return As(e,t,(n,r,o,i)=>{n.filter(s=>s.type==="reference").forEach(s=>{const l=t.find(a=>a.sheetId===s.typeArguments.sheetId);if(l!=null){const u=l.rows.map(c=>c[s.typeArguments.sheetColumnId])[i];r[s.id]=u}})})}function Np(e,t){return As(e,t,(n,r,o)=>{n.filter(i=>i.type==="calculated").forEach(i=>{r[i.id]=i.typeArguments.getValue(o)})})}function Dp(e){if(Ap.test(e)){const t=parseFloat(e);if(t>jp&&t<Ps)return!0}return!1}function Lp(e,t){return t.type==="number"&&Dp(e)?parseFloat(e):e}function Vp(e,t){if(t.type==="enum"){const n=t.typeArguments.values.find(r=>r.label===e);if(n!=null)return n.value}return Lp(e,t)}function Hp(e,t,n){return e.map(r=>{const o=[],i=t.filter(s=>s.sheetId===r.id);return n.map(s=>{const l={};r.columns.forEach(a=>{const u=i.find(c=>c.sheetColumnId===a.id);u!=null&&(l[u.sheetColumnId]=Vp(s[u.csvColumnName],a))}),o.push(l)}),{sheetId:r.id,rows:o}})}function zp(e,t,n){const r=n.data,o=Hp(e,t,r),i=Np(e,o);return kp(e,i)}function jn(e){return e.type!=="reference"&&e.type!=="calculated"}function Bp(e){const t=new Map;return e.forEach(n=>{t.has(n.csvColumnName)||t.set(n.csvColumnName,n)}),Array.from(t.values())}function Gp(e,t){const n=[];return t.forEach(r=>{const o=e.columns.find(i=>{if(!jn(i))return!1;const s=[i.id,...i.suggestedMappingKeywords||[]].map(a=>xn(a)),l=xn(r);return s.includes(l)});o&&n.push({csvColumnName:r,sheetId:e.id,sheetColumnId:o.id})}),n}const Wp=(e,t)=>{const n=[];return e.forEach(r=>{const o=Gp(r,t);n.push(...o)}),Bp(n)};function Up(e,t,n){return n==null?e.filter(o=>o.csvColumnName!==t):[...e.filter(o=>(o.sheetId!==n.sheetId||o.sheetColumnId!==n.sheetColumnId)&&o.csvColumnName!==t),{...n,csvColumnName:t}]}function qp(e,t){const n=Kp(e,t),r=Yp(n);return Xp(r)}function Kp(e,t){return e.map(n=>n[t]).filter(n=>n!=null&&n.trim()!=="").slice(0,ws)}function Yp(e){return[...e,...Array(ws-e.length).fill("")]}function Xp(e){const t=[...e];let n=t.reduce((r,o)=>r+o.length,0);for(;n>_f&&t.length>1;)t.pop(),n=t.reduce((r,o)=>r+o.length,0);return t}function Zp(e,t){const{t:n}=ae();return e.flatMap(o=>o.columns.filter(i=>jn(i)).map(i=>({label:`${i.label}${Jt(i)?" *":""}`,value:{sheetId:o.id,sheetColumnId:i.id},group:t.some(s=>s.sheetId===o.id&&s.sheetColumnId===i.id)?n("mapper.used"):n("mapper.unused")}))).sort((o,i)=>Jp(o,i,n("mapper.unused")))}function Jp(e,t,n){return e.group===n&&t.group!==n?-1:e.group!==n&&t.group===n?1:e.label.localeCompare(t.label)}function Qp(e,t){for(const n of e)for(const r of n.columns)if(Jt(r)&&jn(r)&&t.find(i=>i.sheetId===n.id&&i.sheetColumnId===r.id)==null)return!1;return!0}function em({examples:e,csvHeader:t}){const{t:n,tHtml:r}=ae();return t&&p.jsx("div",{className:"m-4 rounded-[var(--hello-csv-radius)] border border-hello-csv-border bg-hello-csv-card px-4 sm:px-6 lg:px-8",children:p.jsx("div",{className:"mt-6 flow-root",children:p.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:p.jsx("div",{className:"inline-block min-w-full py-2 align-middle",children:p.jsxs("table",{className:"min-w-full divide-y divide-hello-csv-border",children:[p.jsx("thead",{children:p.jsx("tr",{children:p.jsx("th",{scope:"col",className:"py-3.5 pr-3 pl-4 text-left text-sm font-medium text-hello-csv-muted-foreground sm:pl-6 lg:pl-8",children:r("mapper.dataPreview",{csvHeader:p.jsx(qr,{children:t})})})})}),p.jsx("tbody",{className:"divide-y divide-hello-csv-border",children:e==null?void 0:e.map((o,i)=>p.jsx("tr",{children:p.jsx("td",{className:"h-12 py-4 pr-3 pl-4 text-sm text-hello-csv-foreground sm:pl-6 lg:pl-8",children:o||i===0&&p.jsx("span",{className:"text-hello-csv-muted-foreground italic",children:n("mapper.noData")})})},i))})]})})})})})}function tm({csvHeader:e,setMapping:t,currentMapping:n,mappingSelectionOptions:r,onMouseEnter:o}){var s;const i=n==null?null:((s=r.find(l=>l.value.sheetId===n.sheetId&&l.value.sheetColumnId===n.sheetColumnId))==null?void 0:s.value)??null;return p.jsx("div",{className:"hover:bg-hello-csv-muted rounded-sm",onMouseEnter:o,children:p.jsxs("div",{className:"flex items-center py-2.5",children:[p.jsxs("div",{className:"mx-2.5 flex flex-1 justify-between",children:[p.jsx("div",{children:p.jsx(qr,{children:e.slice(0,30)})}),p.jsx("div",{className:"mx-5",children:p.jsx($d,{className:"h-4 w-4"})})]}),p.jsx("div",{className:"mx-2.5 flex-1",children:p.jsx(bt,{"aria-label":`column mapping for ${e}`,searchable:!0,clearable:!0,compareFunction:(l,a)=>l==null||a==null?!1:l.sheetColumnId===a.sheetColumnId&&l.sheetId===a.sheetId,value:i,options:r,onChange:l=>t(l)})})]})})}const js="HelloCSV",ks=1,ze="state";async function nm(e,t){return new Promise((n,r)=>{const o=Ds(e,t),i=indexedDB.open(js,ks);i.onerror=()=>r(i.error),i.onsuccess=()=>{const u=i.result.transaction(ze,"readonly").objectStore(ze).get(o);u.onerror=()=>n(null),u.onsuccess=()=>{try{const c=u.result;c.sheetDefinitions=e,n(c)}catch{n(null)}}},i.onupgradeneeded=s=>{const l=s.target.result;l.objectStoreNames.contains(ze)&&l.deleteObjectStore(ze),l.createObjectStore(ze)}})}async function Ns(e,t){return new Promise((n,r)=>{const o=Ds(e.sheetDefinitions,t),i={...e};delete i.sheetDefinitions;const s=indexedDB.open(js,ks);s.onerror=()=>r(s.error),s.onsuccess=()=>{const c=s.result.transaction(ze,"readwrite").objectStore(ze).put(i,o);c.onerror=()=>r(c.error),c.onsuccess=()=>n()},s.onupgradeneeded=l=>{const a=l.target.result;a.objectStoreNames.contains(ze)||a.createObjectStore(ze)}})}function Ds(e,t){const n=t?`importer-state-${t}`:"importer-state",r=JSON.stringify(e);return`${n}-${rm(r)}`}function rm(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t}function om(e){const t={required:[],optional:[]};return e.forEach(n=>{n.columns.filter(r=>jn(r)).forEach(r=>{const o={sheetId:n.id,columnId:r.id,columnLabel:r.label};Jt(r)?t.required.push(o):t.optional.push(o)})}),t}const cn=e=>{const t=["B","KB","MB","GB"];let n=e,r=0;for(;n>=1024&&r<t.length-1;)n/=1024,r++;return`${Math.round(n)} ${t[r]}`},im=async e=>new Promise(t=>{const n=new FileReader;n.onload=r=>{t(r)},n.readAsArrayBuffer(e)}),sm=async(e,t)=>{const n=t==null?void 0:t.find(r=>r.mimeType===e.type);if(n){const r=await im(e),{fileName:o,csvData:i}=await n.convert(r,e),s=new Blob([i],{type:"text/csv"});return new File([s],o,{type:"text/csv"})}return e};function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var am=dn.exports,Do;function um(){return Do||(Do=1,function(e,t){((n,r)=>{e.exports=r()})(am,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},o,i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},a=0,u={};function c(x){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var C=M(b);C.chunkSize=parseInt(C.chunkSize),b.step||b.chunk||(C.chunkSize=null),this._handle=new v(C),(this._handle.streamer=this)._config=C}).call(this,x),this.parseChunk=function(b,C){var _=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<_){let A=this._config.newline;A||(I=this._config.quoteChar||'"',A=this._handle.guessLineEndings(b,I)),b=[...b.split(A).slice(_)].join(A)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(b))!==void 0&&(b=I),this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+b,I=(this._partialLine="",this._handle.parse(_,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=I.meta.cursor,_=(this._finished||(this._partialLine=_.substring(b-this._baseIndex),this._baseIndex=b),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:I,workerId:u.WORKER_ID,finished:_});else if(O(this._config.chunk)&&!C){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!_||!O(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(b){O(this._config.error)?this._config.error(b):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:b,finished:!1})}}function m(x){var b;(x=x||{}).chunkSize||(x.chunkSize=u.RemoteChunkSize),c.call(this,x),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),i||(b.onload=P(this._chunkLoaded,this),b.onerror=P(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var C,_=this._config.downloadRequestHeaders;for(C in _)b.setRequestHeader(C,_[C])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+I));try{b.send(this._config.downloadRequestBody)}catch(A){this._chunkError(A.message)}i&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(C){C=b.statusText||C,this._sendError(new Error(C))}}function h(x){(x=x||{}).chunkSize||(x.chunkSize=u.LocalChunkSize),c.call(this,x);var b,C,_=typeof FileReader<"u";this.stream=function(I){this._input=I,C=I.slice||I.webkitSlice||I.mozSlice,_?((b=new FileReader).onload=P(this._chunkLoaded,this),b.onerror=P(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,A=(this._config.chunkSize&&(A=Math.min(this._start+this._config.chunkSize,this._input.size),I=C.call(I,this._start,A)),b.readAsText(I,this._config.encoding));_||this._chunkLoaded({target:{result:A}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(b.error)}}function f(x){var b;c.call(this,x=x||{}),this.stream=function(C){return b=C,this._nextChunk()},this._nextChunk=function(){var C,_;if(!this._finished)return C=this._config.chunkSize,b=C?(_=b.substring(0,C),b.substring(C)):(_=b,""),this._finished=!b,this.parseChunk(_)}}function g(x){c.call(this,x=x||{});var b=[],C=!0,_=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):C=!0},this._streamData=P(function(I){try{b.push(typeof I=="string"?I:I.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(A){this._streamError(A)}},this),this._streamError=P(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=P(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(x){var b,C,_,I,A=Math.pow(2,53),j=-A,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,D=0,F=0,W=!1,k=!1,V=[],T={data:[],errors:[],meta:{}};function te(G){return x.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function J(){if(T&&_&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),_=!1),x.skipEmptyLines&&(T.data=T.data.filter(function(Y){return!te(Y)})),ne()){let Y=function(ie,le){O(x.transformHeader)&&(ie=x.transformHeader(ie,le)),V.push(ie)};if(T)if(Array.isArray(T.data[0])){for(var G=0;ne()&&G<T.data.length;G++)T.data[G].forEach(Y);T.data.splice(0,1)}else T.data.forEach(Y)}function Z(Y,ie){for(var le=x.header?{}:[],N=0;N<Y.length;N++){var U=N,X=Y[N],X=((me,Q)=>(se=>(x.dynamicTypingFunction&&x.dynamicTyping[se]===void 0&&(x.dynamicTyping[se]=x.dynamicTypingFunction(se)),(x.dynamicTyping[se]||x.dynamicTyping)===!0))(me)?Q==="true"||Q==="TRUE"||Q!=="false"&&Q!=="FALSE"&&((se=>{if(H.test(se)&&(se=parseFloat(se),j<se&&se<A))return 1})(Q)?parseFloat(Q):B.test(Q)?new Date(Q):Q===""?null:Q):Q)(U=x.header?N>=V.length?"__parsed_extra":V[N]:U,X=x.transform?x.transform(X,U):X);U==="__parsed_extra"?(le[U]=le[U]||[],le[U].push(X)):le[U]=X}return x.header&&(N>V.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+N,F+ie):N<V.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+N,F+ie)),le}var oe;T&&(x.header||x.dynamicTyping||x.transform)&&(oe=1,!T.data.length||Array.isArray(T.data[0])?(T.data=T.data.map(Z),oe=T.data.length):T.data=Z(T.data,0),x.header&&T.meta&&(T.meta.fields=V),F+=oe)}function ne(){return x.header&&V.length===0}function ee(G,Z,oe,Y){G={type:G,code:Z,message:oe},Y!==void 0&&(G.row=Y),T.errors.push(G)}O(x.step)&&(I=x.step,x.step=function(G){T=G,ne()?J():(J(),T.data.length!==0&&(D+=G.data.length,x.preview&&D>x.preview?C.abort():(T.data=T.data[0],I(T,L))))}),this.parse=function(G,Z,oe){var Y=x.quoteChar||'"',Y=(x.newline||(x.newline=this.guessLineEndings(G,Y)),_=!1,x.delimiter?O(x.delimiter)&&(x.delimiter=x.delimiter(G),T.meta.delimiter=x.delimiter):((Y=((ie,le,N,U,X)=>{var me,Q,se,We;X=X||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var mt=0;mt<X.length;mt++){for(var Oe,Tt=X[mt],ge=0,Fe=0,fe=0,Ce=(se=void 0,new S({comments:U,delimiter:Tt,newline:le,preview:10}).parse(ie)),Le=0;Le<Ce.data.length;Le++)N&&te(Ce.data[Le])?fe++:(Oe=Ce.data[Le].length,Fe+=Oe,se===void 0?se=Oe:0<Oe&&(ge+=Math.abs(Oe-se),se=Oe));0<Ce.data.length&&(Fe/=Ce.data.length-fe),(Q===void 0||ge<=Q)&&(We===void 0||We<Fe)&&1.99<Fe&&(Q=ge,me=Tt,We=Fe)}return{successful:!!(x.delimiter=me),bestDelimiter:me}})(G,x.newline,x.skipEmptyLines,x.comments,x.delimitersToGuess)).successful?x.delimiter=Y.bestDelimiter:(_=!0,x.delimiter=u.DefaultDelimiter),T.meta.delimiter=x.delimiter),M(x));return x.preview&&x.header&&Y.preview++,b=G,C=new S(Y),T=C.parse(b,Z,oe),J(),W?{meta:{paused:!0}}:T||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,C.abort(),b=O(x.chunk)?"":b.substring(C.getCharIndex())},this.resume=function(){L.streamer._halted?(W=!1,L.streamer.parseChunk(b,!0)):setTimeout(L.resume,3)},this.aborted=function(){return k},this.abort=function(){k=!0,C.abort(),T.meta.aborted=!0,O(x.complete)&&x.complete(T),b=""},this.guessLineEndings=function(ie,Y){ie=ie.substring(0,1048576);var Y=new RegExp(w(Y)+"([^]*?)"+w(Y),"gm"),oe=(ie=ie.replace(Y,"")).split("\r"),Y=ie.split(`
`),ie=1<Y.length&&Y[0].length<oe[0].length;if(oe.length===1||ie)return`
`;for(var le=0,N=0;N<oe.length;N++)oe[N][0]===`
`&&le++;return le>=oe.length/2?`\r
`:"\r"}}function w(x){return x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(x){var b=(x=x||{}).delimiter,C=x.newline,_=x.comments,I=x.step,A=x.preview,j=x.fastMode,H=null,B=!1,L=x.quoteChar==null?'"':x.quoteChar,D=L;if(x.escapeChar!==void 0&&(D=x.escapeChar),(typeof b!="string"||-1<u.BAD_DELIMITERS.indexOf(b))&&(b=","),_===b)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var F=0,W=!1;this.parse=function(k,V,T){if(typeof k!="string")throw new Error("Input must be a string");var te=k.length,J=b.length,ne=C.length,ee=_.length,G=O(I),Z=[],oe=[],Y=[],ie=F=0;if(!k)return ge();if(j||j!==!1&&k.indexOf(L)===-1){for(var le=k.split(C),N=0;N<le.length;N++){if(Y=le[N],F+=Y.length,N!==le.length-1)F+=C.length;else if(T)return ge();if(!_||Y.substring(0,ee)!==_){if(G){if(Z=[],We(Y.split(b)),Fe(),W)return ge()}else We(Y.split(b));if(A&&A<=N)return Z=Z.slice(0,A),ge(!0)}}return ge()}for(var U=k.indexOf(b,F),X=k.indexOf(C,F),me=new RegExp(w(D)+w(L),"g"),Q=k.indexOf(L,F);;)if(k[F]===L)for(Q=F,F++;;){if((Q=k.indexOf(L,Q+1))===-1)return T||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:F}),Oe();if(Q===te-1)return Oe(k.substring(F,Q).replace(me,L));if(L===D&&k[Q+1]===D)Q++;else if(L===D||Q===0||k[Q-1]!==D){U!==-1&&U<Q+1&&(U=k.indexOf(b,Q+1));var se=mt((X=X!==-1&&X<Q+1?k.indexOf(C,Q+1):X)===-1?U:Math.min(U,X));if(k.substr(Q+1+se,J)===b){Y.push(k.substring(F,Q).replace(me,L)),k[F=Q+1+se+J]!==L&&(Q=k.indexOf(L,F)),U=k.indexOf(b,F),X=k.indexOf(C,F);break}if(se=mt(X),k.substring(Q+1+se,Q+1+se+ne)===C){if(Y.push(k.substring(F,Q).replace(me,L)),Tt(Q+1+se+ne),U=k.indexOf(b,F),Q=k.indexOf(L,F),G&&(Fe(),W))return ge();if(A&&Z.length>=A)return ge(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:F}),Q++}}else if(_&&Y.length===0&&k.substring(F,F+ee)===_){if(X===-1)return ge();F=X+ne,X=k.indexOf(C,F),U=k.indexOf(b,F)}else if(U!==-1&&(U<X||X===-1))Y.push(k.substring(F,U)),F=U+J,U=k.indexOf(b,F);else{if(X===-1)break;if(Y.push(k.substring(F,X)),Tt(X+ne),G&&(Fe(),W))return ge();if(A&&Z.length>=A)return ge(!0)}return Oe();function We(fe){Z.push(fe),ie=F}function mt(fe){var Ce=0;return Ce=fe!==-1&&(fe=k.substring(Q+1,fe))&&fe.trim()===""?fe.length:Ce}function Oe(fe){return T||(fe===void 0&&(fe=k.substring(F)),Y.push(fe),F=te,We(Y),G&&Fe()),ge()}function Tt(fe){F=fe,We(Y),Y=[],X=k.indexOf(C,F)}function ge(fe){if(x.header&&!V&&Z.length&&!B){var Ce=Z[0],Le={},Nn=new Set(Ce);let Jr=!1;for(let gt=0;gt<Ce.length;gt++){let Pe=Ce[gt];if(Le[Pe=O(x.transformHeader)?x.transformHeader(Pe,gt):Pe]){let Mt,Qr=Le[Pe];for(;Mt=Pe+"_"+Qr,Qr++,Nn.has(Mt););Nn.add(Mt),Ce[gt]=Mt,Le[Pe]++,Jr=!0,(H=H===null?{}:H)[Mt]=Pe}else Le[Pe]=1,Ce[gt]=Pe;Nn.add(Pe)}Jr&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:Z,errors:oe,meta:{delimiter:b,linebreak:C,aborted:W,truncated:!!fe,cursor:ie+(V||0),renamedHeaders:H}}}function Fe(){I(ge()),Z=[],oe=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return F}}function E(x){var b=x.data,C=l[b.workerId],_=!1;if(b.error)C.userError(b.error,b.file);else if(b.results&&b.results.data){var I={abort:function(){_=!0,y(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:$,resume:$};if(O(C.userStep)){for(var A=0;A<b.results.data.length&&(C.userStep({data:b.results.data[A],errors:b.results.errors,meta:b.results.meta},I),!_);A++);delete b.results}else O(C.userChunk)&&(C.userChunk(b.results,I,b.file),delete b.results)}b.finished&&!_&&y(b.workerId,b.results)}function y(x,b){var C=l[x];O(C.userComplete)&&C.userComplete(b),C.terminate(),delete l[x]}function $(){throw new Error("Not implemented.")}function M(x){if(typeof x!="object"||x===null)return x;var b,C=Array.isArray(x)?[]:{};for(b in x)C[b]=M(x[b]);return C}function P(x,b){return function(){x.apply(b,arguments)}}function O(x){return typeof x=="function"}return u.parse=function(x,b){var C=(b=b||{}).dynamicTyping||!1;if(O(C)&&(b.dynamicTypingFunction=C,C={}),b.dynamicTyping=C,b.transform=!!O(b.transform)&&b.transform,!b.worker||!u.WORKERS_SUPPORTED)return C=null,u.NODE_STREAM_INPUT,typeof x=="string"?(x=(_=>_.charCodeAt(0)!==65279?_:_.slice(1))(x),C=new(b.download?m:f)(b)):x.readable===!0&&O(x.read)&&O(x.on)?C=new g(b):(r.File&&x instanceof File||x instanceof Object)&&(C=new h(b)),C.stream(x);(C=(()=>{var _;return!!u.WORKERS_SUPPORTED&&(_=(()=>{var I=r.URL||r.webkitURL||null,A=n.toString();return u.BLOB_URL||(u.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",A,")();"],{type:"text/javascript"})))})(),(_=new r.Worker(_)).onmessage=E,_.id=a++,l[_.id]=_)})()).userStep=b.step,C.userChunk=b.chunk,C.userComplete=b.complete,C.userError=b.error,b.step=O(b.step),b.chunk=O(b.chunk),b.complete=O(b.complete),b.error=O(b.error),delete b.worker,C.postMessage({input:x,config:b,workerId:C.id})},u.unparse=function(x,b){var C=!1,_=!0,I=",",A=`\r
`,j='"',H=j+j,B=!1,L=null,D=!1,F=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return b.delimiter.indexOf(V)!==-1}).length||(I=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(C=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(B=b.skipEmptyLines),typeof b.newline=="string"&&(A=b.newline),typeof b.quoteChar=="string"&&(j=b.quoteChar),typeof b.header=="boolean"&&(_=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");L=b.columns}b.escapeChar!==void 0&&(H=b.escapeChar+j),b.escapeFormulae instanceof RegExp?D=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(j),"g"));if(typeof x=="string"&&(x=JSON.parse(x)),Array.isArray(x)){if(!x.length||Array.isArray(x[0]))return W(null,x,B);if(typeof x[0]=="object")return W(L||Object.keys(x[0]),x,B)}else if(typeof x=="object")return typeof x.data=="string"&&(x.data=JSON.parse(x.data)),Array.isArray(x.data)&&(x.fields||(x.fields=x.meta&&x.meta.fields||L),x.fields||(x.fields=Array.isArray(x.data[0])?x.fields:typeof x.data[0]=="object"?Object.keys(x.data[0]):[]),Array.isArray(x.data[0])||typeof x.data[0]=="object"||(x.data=[x.data])),W(x.fields||[],x.data||[],B);throw new Error("Unable to serialize unrecognized input");function W(V,T,te){var J="",ne=(typeof V=="string"&&(V=JSON.parse(V)),typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(V)&&0<V.length),ee=!Array.isArray(T[0]);if(ne&&_){for(var G=0;G<V.length;G++)0<G&&(J+=I),J+=k(V[G],G);0<T.length&&(J+=A)}for(var Z=0;Z<T.length;Z++){var oe=(ne?V:T[Z]).length,Y=!1,ie=ne?Object.keys(T[Z]).length===0:T[Z].length===0;if(te&&!ne&&(Y=te==="greedy"?T[Z].join("").trim()==="":T[Z].length===1&&T[Z][0].length===0),te==="greedy"&&ne){for(var le=[],N=0;N<oe;N++){var U=ee?V[N]:N;le.push(T[Z][U])}Y=le.join("").trim()===""}if(!Y){for(var X=0;X<oe;X++){0<X&&!ie&&(J+=I);var me=ne&&ee?V[X]:X;J+=k(T[Z][me],X)}Z<T.length-1&&(!te||0<oe&&!ie)&&(J+=A)}}return J}function k(V,T){var te,J;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(J=!1,D&&typeof V=="string"&&D.test(V)&&(V="'"+V,J=!0),te=V.toString().replace(F,H),(J=J||C===!0||typeof C=="function"&&C(V,T)||Array.isArray(C)&&C[T]||((ne,ee)=>{for(var G=0;G<ee.length;G++)if(-1<ne.indexOf(ee[G]))return!0;return!1})(te,u.BAD_DELIMITERS)||-1<te.indexOf(I)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?j+te+j:te)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=S,u.ParserHandle=v,u.NetworkStreamer=m,u.FileStreamer=h,u.StringStreamer=f,u.ReadableStreamStreamer=g,r.jQuery&&((o=r.jQuery).fn.parse=function(x){var b=x.config||{},C=[];return this.each(function(A){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var j=0;j<this.files.length;j++)C.push({file:this.files[j],inputElem:this,instanceConfig:o.extend({},b)})}),_(),this;function _(){if(C.length===0)O(x.complete)&&x.complete();else{var A,j,H,B,L=C[0];if(O(x.before)){var D=x.before(L.file,L.inputElem);if(typeof D=="object"){if(D.action==="abort")return A="AbortError",j=L.file,H=L.inputElem,B=D.reason,void(O(x.error)&&x.error({name:A},j,H,B));if(D.action==="skip")return void I();typeof D.config=="object"&&(L.instanceConfig=o.extend(L.instanceConfig,D.config))}else if(D==="skip")return void I()}var F=L.instanceConfig.complete;L.instanceConfig.complete=function(W){O(F)&&F(W,L.file,L.inputElem),I()},u.parse(L.file,L.instanceConfig)}}function I(){C.splice(0,1),_()}}),s&&(r.onmessage=function(x){x=x.data,u.WORKER_ID===void 0&&x&&(u.WORKER_ID=x.workerId),typeof x.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(x.input,x.config),finished:!0}):(r.File&&x.input instanceof File||x.input instanceof Object)&&(x=u.parse(x.input,x.config))&&r.postMessage({workerId:u.WORKER_ID,results:x,finished:!0})}),(m.prototype=Object.create(c.prototype)).constructor=m,(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(c.prototype)).constructor=g,u})}(dn)),dn.exports}var cm=um();const dm=lm(cm);async function fm({file:e}){return new Promise((t,n)=>{dm.parse(e,{skipEmptyLines:!0,header:!0,complete:r=>{t(r)},error:r=>{n(r)}})})}let qn=0;function pm(){return qn=(qn+1)%Number.MAX_SAFE_INTEGER,`${Date.now()}-${qn}`}async function mm(e,t){const n=Qt(e);try{return t.enabled?await gm(e,t):n}catch{return n}}function Qt(e){return{sheetDefinitions:e,currentSheetId:e[0].id,mode:"upload",validationErrors:[],validationInProgress:!1,sheetData:e.map(t=>({sheetId:t.id,rows:[]})),importProgress:0}}async function gm(e,t){const n=await nm(e,t.customKey);if(n!=null)return n;const r=Qt(e);return Ns(r,t.customKey),r}class Ls{constructor(t,n){de(this,"initialState");de(this,"importerDefinition");de(this,"buildSteps");this.importerDefinition=t,this.initialState=n??Qt(t.sheets),this.buildSteps=[]}async getState(){let t=this.initialState;this.buildSteps.forEach(r=>{t=Vs(t,r)});const n=await Pp(this.importerDefinition.sheets,t.sheetData).catch(()=>t.validationErrors);return{...t,validationErrors:n}}async uploadFile(t){const n=await sm(t,this.importerDefinition.customFileLoaders),r=await fm({file:n}),o=r.meta.fields,i=this.importerDefinition.customSuggestedMapper!=null?await this.importerDefinition.customSuggestedMapper(this.importerDefinition.sheets,o):Wp(this.importerDefinition.sheets,o);this.buildSteps.push({type:"FILE_PARSED",payload:{parsed:r,rowFile:t}}),this.buildSteps.push({type:"COLUMN_MAPPING_CHANGED",payload:{mappings:i}})}setEnterDataManually(t){this.buildSteps.push({type:"ENTER_DATA_MANUALLY",payload:{amountOfEmptyRowsToAdd:t??Rf}})}setMappings(t){this.buildSteps.push({type:"COLUMN_MAPPING_CHANGED",payload:{mappings:t}})}async confirmMappings(){const t=await this.getState(),n=zp(this.importerDefinition.sheets,t.columnMappings??[],t.parsedFile),r=this.importerDefinition.onDataColumnsMapped!=null?await this.importerDefinition.onDataColumnsMapped(n):n;this.buildSteps.push({type:"DATA_MAPPED",payload:{mappedData:r}})}changeCell(t){this.buildSteps.push({type:"CELL_CHANGED",payload:t})}removeRows(t){this.buildSteps.push({type:"REMOVE_ROWS",payload:t})}}class hm extends Ls{constructor(t){super(t)}}const bn=class bn extends Ls{constructor(t,n){super(t,n)}async dispatchChange(t){const n=this.buildSteps.some(o=>bn.actionTypesThatRequireValidation.has(o.type)),r=pm();if(n&&t({type:"VALIDATION_STARTED",payload:{runId:r}}),this.buildSteps.forEach(o=>{t(o)}),n){const o=await this.getState();t({type:"VALIDATION_COMPLETED",payload:{errors:o.validationErrors,runId:r}})}}};de(bn,"actionTypesThatRequireValidation",new Set(["DATA_MAPPED","CELL_CHANGED","REMOVE_ROWS"]));let Cr=bn;function vm(e,t,n){const r=n.sheetDefinitions.find(o=>o.id===t.sheetId);return r!=null&&r.columns.filter(i=>i.type==="calculated").forEach(i=>{e[i.id]=i.typeArguments.getValue(e)}),e}const Vs=(e,t)=>{switch(t.type){case"ENTER_DATA_MANUALLY":{const n=e.sheetDefinitions.map(r=>({sheetId:r.id,rows:Array.from({length:t.payload.amountOfEmptyRowsToAdd},()=>({}))}));return{...e,mode:"preview",sheetData:n}}case"FILE_PARSED":return{...e,parsedFile:t.payload.parsed,rowFile:t.payload.rowFile,mode:"mapping"};case"UPLOAD":return{...e,mode:"upload"};case"COLUMN_MAPPING_CHANGED":return{...e,columnMappings:t.payload.mappings};case"DATA_MAPPED":return{...e,sheetData:br(e.sheetDefinitions,t.payload.mappedData),mode:"preview"};case"CELL_CHANGED":{const r=e.sheetData.map(o=>{if(o.sheetId===t.payload.sheetId){const i=[...o.rows];return i[t.payload.rowIndex]=vm(t.payload.value,t.payload,e),{...o,rows:i}}else return o});return{...e,sheetData:br(e.sheetDefinitions,r)}}case"REMOVE_ROWS":{const n=e.sheetData.map(r=>r.sheetId===t.payload.sheetId?{...r,rows:r.rows.filter(o=>!t.payload.rows.includes(o))}:r);return{...e,sheetData:n}}case"ADD_EMPTY_ROW":{const n=e.sheetData.map(r=>r.sheetId!==e.currentSheetId?r:{...r,rows:[...r.rows,{}]});return{...e,sheetData:n}}case"SHEET_CHANGED":return{...e,currentSheetId:t.payload.sheetId};case"SUBMIT":return{...e,mode:"submit"};case"PROGRESS":return{...e,importProgress:t.payload.progress};case"COMPLETED":return{...e,mode:"completed",importStatistics:t.payload.importStatistics};case"FAILED":return{...e,mode:"failed"};case"PREVIEW":return{...e,mode:"preview"};case"MAPPING":return{...e,mode:"mapping"};case"RESET":return Qt(e.sheetDefinitions);case"SET_STATE":return t.payload.state;case"VALIDATION_STARTED":return{...e,validationInProgress:!0,validationRunId:t.payload.runId};case"VALIDATION_COMPLETED":return e.validationRunId!==t.payload.runId?e:{...e,validationErrors:t.payload.errors,validationInProgress:!1,validationRunId:void 0};default:return e}},xm=(e,t,n)=>{const[r,o]=d.useReducer(Vs,n??Qt(e));return d.useEffect(()=>{const i=async()=>{const s=await mm(e,t);o({type:"SET_STATE",payload:{state:s}})};n==null&&i()},[]),d.useEffect(()=>{t.enabled&&Ns(r,t.customKey)},[r,t]),[r,o]},Hs=d.createContext({}),zs=d.createContext({});function wm({sheets:e,persistenceConfig:t,initialState:n,onStateChanged:r,children:o}){const[i,s]=xm(e,t,n),l=d.useRef(i);return d.useEffect(()=>{l.current!==i&&(r==null||r(l.current,i),l.current=i)},[i,r]),p.jsx(Hs.Provider,{value:i,children:p.jsx(zs.Provider,{value:s,children:o})})}function Ge(){return d.useContext(Hs)}function bm(){return d.useContext(zs)}function ym({onMappingsChanged:e,onMappingsSet:t,onBack:n}){const{columnMappings:r,parsedFile:o}=Ge(),{sheets:i}=_e(),{t:s}=ae(),[l,a]=d.useState(null),u=r??[],c=o,m=c.data,h=c.meta.fields,f=Zp(i,u),g=Qp(i,u),v=d.useMemo(()=>l?qp(m,l):[],[l,m]),[w,S]=d.useState(!1);async function E(){try{S(!0),await t()}finally{S(!1)}}return p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx("div",{className:"flex-none text-2xl",children:s("mapper.reviewAndConfirm")}),p.jsx("div",{className:"min-h-0 flex-auto",children:p.jsxs("div",{className:"flex h-full justify-between space-x-5",children:[p.jsxs("div",{className:"flex flex-2 flex-col",children:[p.jsxs("div",{className:"my-5 flex text-sm font-light uppercase",children:[p.jsx("div",{className:"flex-1",children:s("mapper.importedColumn")}),p.jsx("div",{className:"flex-1",children:s("mapper.destinationColumn")})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:h.map((y,$)=>{const M=u.find(P=>P.csvColumnName===y)??null;return p.jsx(tm,{csvHeader:y,currentMapping:M,setMapping:P=>{const O=Up(u,y,P);e(O)},mappingSelectionOptions:f,onMouseEnter:()=>{a(y)}},$)})})]}),p.jsx("div",{className:"bg-hello-csv-muted hidden flex-1 overflow-y-auto sm:block",children:p.jsx(em,{examples:v,csvHeader:l??""})})]})}),!g&&p.jsx("div",{className:"mt-5 flex justify-end",children:p.jsx(gp,{children:s("mapper.mappingsNotValid")})}),p.jsx("div",{className:"mt-auto flex-none",children:p.jsxs("div",{className:"mt-5 flex justify-between",children:[p.jsx($e,{variant:"secondary",outline:!0,onClick:n,disabled:w,children:s("mapper.back")}),p.jsx($e,{onClick:E,disabled:!g||w,children:p.jsxs("div",{className:"flex items-center",children:[w&&p.jsxs(p.Fragment,{children:[p.jsx(Ts,{color:"light"}),p.jsx("div",{className:"mr-2"})]}),s("mapper.confirm")]})})]})})]})}var Cm={NODE_ENV:"production"};function Ye(e,t){return typeof e=="function"?e(t):e}function Re(e,t){return n=>{t.setState(r=>({...r,[e]:Ye(n,r[e])}))}}function kn(e){return e instanceof Function}function Sm(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Em(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const s=t(i);s!=null&&s.length&&r(s)})};return r(e),n}function q(e,t,n){let r=[],o;return i=>{let s;n.key&&n.debug&&(s=Date.now());const l=e(i);if(!(l.length!==r.length||l.some((c,m)=>r[m]!==c)))return o;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),o=t(...l),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,m=Math.round((Date.now()-u)*100)/100,h=m/16,f=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%câ± ${f(m,5)} /${f(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function K(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:Cm.NODE_ENV==="development",onChange:r}}function Rm(e,t,n,r){const o=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:q(()=>[e,n,t,i],(s,l,a,u)=>({table:s,column:l,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),K(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,n,t,e)},{}),i}function $m(e,t,n,r){var o,i;const l={...e._getDefaultColumnDef(),...t},a=l.accessorKey;let u=(o=(i=l.id)!=null?i:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?o:typeof l.header=="string"?l.header:void 0,c;if(l.accessorFn?c=l.accessorFn:a&&(a.includes(".")?c=h=>{let f=h;for(const v of a.split(".")){var g;f=(g=f)==null?void 0:g[v]}return f}:c=h=>h[l.accessorKey]),!u)throw new Error;let m={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:q(()=>[!0],()=>{var h;return[m,...(h=m.columns)==null?void 0:h.flatMap(f=>f.getFlatColumns())]},K(e.options,"debugColumns")),getLeafColumns:q(()=>[e._getOrderColumnsFn()],h=>{var f;if((f=m.columns)!=null&&f.length){let g=m.columns.flatMap(v=>v.getLeafColumns());return h(g)}return[m]},K(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(m,e);return m}const he="debugHeaders";function Lo(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],l=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(l),s.push(a)};return l(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const _m={createTable:e=>{e.getHeaderGroups=q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,s;const l=(i=r==null?void 0:r.map(m=>n.find(h=>h.id===m)).filter(Boolean))!=null?i:[],a=(s=o==null?void 0:o.map(m=>n.find(h=>h.id===m)).filter(Boolean))!=null?s:[],u=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(o!=null&&o.includes(m.id)));return sn(t,[...l,...u,...a],e)},K(e.options,he)),e.getCenterHeaderGroups=q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),sn(t,n,e,"center")),K(e.options,he)),e.getLeftHeaderGroups=q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(l=>l.id===s)).filter(Boolean))!=null?o:[];return sn(t,i,e,"left")},K(e.options,he)),e.getRightHeaderGroups=q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(l=>l.id===s)).filter(Boolean))!=null?o:[];return sn(t,i,e,"right")},K(e.options,he)),e.getFooterGroups=q(()=>[e.getHeaderGroups()],t=>[...t].reverse(),K(e.options,he)),e.getLeftFooterGroups=q(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),K(e.options,he)),e.getCenterFooterGroups=q(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),K(e.options,he)),e.getRightFooterGroups=q(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),K(e.options,he)),e.getFlatHeaders=q(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),K(e.options,he)),e.getLeftFlatHeaders=q(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),K(e.options,he)),e.getCenterFlatHeaders=q(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),K(e.options,he)),e.getRightFlatHeaders=q(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),K(e.options,he)),e.getCenterLeafHeaders=q(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),K(e.options,he)),e.getLeftLeafHeaders=q(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),K(e.options,he)),e.getRightLeafHeaders=q(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),K(e.options,he)),e.getLeafHeaders=q(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,s,l,a,u;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(s=(l=n[0])==null?void 0:l.headers)!=null?s:[],...(a=(u=r[0])==null?void 0:u.headers)!=null?a:[]].map(c=>c.getLeafHeaders()).flat()},K(e.options,he))}};function sn(e,t,n,r){var o,i;let s=0;const l=function(h,f){f===void 0&&(f=1),s=Math.max(s,f),h.filter(g=>g.getIsVisible()).forEach(g=>{var v;(v=g.columns)!=null&&v.length&&l(g.columns,f+1)},0)};l(e);let a=[];const u=(h,f)=>{const g={depth:f,id:[r,`${f}`].filter(Boolean).join("_"),headers:[]},v=[];h.forEach(w=>{const S=[...v].reverse()[0],E=w.column.depth===g.depth;let y,$=!1;if(E&&w.column.parent?y=w.column.parent:(y=w.column,$=!0),S&&(S==null?void 0:S.column)===y)S.subHeaders.push(w);else{const M=Lo(n,y,{id:[r,f,y.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:$,placeholderId:$?`${v.filter(P=>P.column===y).length}`:void 0,depth:f,index:v.length});M.subHeaders.push(w),v.push(M)}g.headers.push(w),w.headerGroup=g}),a.push(g),f>0&&u(v,f-1)},c=t.map((h,f)=>Lo(n,h,{depth:s,index:f}));u(c,s-1),a.reverse();const m=h=>h.filter(g=>g.column.getIsVisible()).map(g=>{let v=0,w=0,S=[0];g.subHeaders&&g.subHeaders.length?(S=[],m(g.subHeaders).forEach(y=>{let{colSpan:$,rowSpan:M}=y;v+=$,S.push(M)})):v=1;const E=Math.min(...S);return w=w+E,g.colSpan=v,g.rowSpan=w,{colSpan:v,rowSpan:w}});return m((o=(i=a[0])==null?void 0:i.headers)!=null?o:[]),a}const Im=(e,t,n,r,o,i,s)=>{let l={id:t,index:r,original:n,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(l._valuesCache.hasOwnProperty(a))return l._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return l._valuesCache[a]=u.accessorFn(l.original,r),l._valuesCache[a]},getUniqueValues:a=>{if(l._uniqueValuesCache.hasOwnProperty(a))return l._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[a]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[a]):(l._uniqueValuesCache[a]=[l.getValue(a)],l._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=l.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Em(l.subRows,a=>a.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let a=[],u=l;for(;;){const c=u.getParentRow();if(!c)break;a.push(c),u=c}return a.reverse()},getAllCells:q(()=>[e.getAllLeafColumns()],a=>a.map(u=>Rm(e,l,u,u.id)),K(e.options,"debugRows")),_getAllCellsByColumnId:q(()=>[l.getAllCells()],a=>a.reduce((u,c)=>(u[c.column.id]=c,u),{}),K(e.options,"debugRows"))};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(l,e)}return l},Tm={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Bs=(e,t,n)=>{var r,o;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};Bs.autoRemove=e=>Te(e);const Gs=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Gs.autoRemove=e=>Te(e);const Ws=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Ws.autoRemove=e=>Te(e);const Us=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Us.autoRemove=e=>Te(e);const qs=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});qs.autoRemove=e=>Te(e)||!(e!=null&&e.length);const Ks=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});Ks.autoRemove=e=>Te(e)||!(e!=null&&e.length);const Ys=(e,t,n)=>e.getValue(t)===n;Ys.autoRemove=e=>Te(e);const Xs=(e,t,n)=>e.getValue(t)==n;Xs.autoRemove=e=>Te(e);const Yr=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};Yr.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(o)?1/0:o;if(i>s){const l=i;i=s,s=l}return[i,s]};Yr.autoRemove=e=>Te(e)||Te(e[0])&&Te(e[1]);const Ve={includesString:Bs,includesStringSensitive:Gs,equalsString:Ws,arrIncludes:Us,arrIncludesAll:qs,arrIncludesSome:Ks,equals:Ys,weakEquals:Xs,inNumberRange:Yr};function Te(e){return e==null||e===""}const Mm={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Re("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Ve.includesString:typeof r=="number"?Ve.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ve.equals:Array.isArray(r)?Ve.arrIncludes:Ve.weakEquals},e.getFilterFn=()=>{var n,r;return kn(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Ve[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(c=>c.id===e.id),s=Ye(n,i?i.value:void 0);if(Vo(o,s,e)){var l;return(l=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?l:[]}const a={id:e.id,value:s};if(i){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?a:c))!=null?u:[]}return r!=null&&r.length?[...r,a]:[a]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=Ye(t,o))==null?void 0:i.filter(s=>{const l=n.find(a=>a.id===s.id);if(l){const a=l.getFilterFn();if(Vo(a,s.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Vo(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Om=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),Fm=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},Pm=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},Am=(e,t,n)=>{let r,o;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=o=s):(r>s&&(r=s),o<s&&(o=s)))}),[r,o]},jm=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},km=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Sm(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,s)=>i-s);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},Nm=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Dm=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Lm=(e,t)=>t.length,Kn={sum:Om,min:Fm,max:Pm,extent:Am,mean:jm,median:km,unique:Nm,uniqueCount:Dm,count:Lm},Vm={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Re("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Kn.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Kn.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return kn(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Kn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Hm(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const zm={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Re("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=q(n=>[Dt(t,n)],n=>n.findIndex(r=>r.id===e.id),K(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Dt(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Dt(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=q(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const s=[...t],l=[...o];for(;l.length&&s.length;){const a=s.shift(),u=l.findIndex(c=>c.id===a);u>-1&&i.push(l.splice(u,1)[0])}i=[...i,...l]}return Hm(i,n,r)},K(e.options,"debugTable"))}},Yn=()=>({left:[],right:[]}),Bm={getInitialState:e=>({columnPinning:Yn(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Re("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,s;if(n==="right"){var l,a;return{left:((l=o==null?void 0:o.left)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((a=o==null?void 0:o.right)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var u,c;return{left:[...((u=o==null?void 0:o.left)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((c=o==null?void 0:o.right)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(m=>!(r!=null&&r.includes(m))),right:((s=o==null?void 0:o.right)!=null?s:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,s;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),s=n.some(l=>o==null?void 0:o.includes(l));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(s=>!i.includes(s.column.id))},K(t.options,"debugRows")),e.getLeftVisibleCells=q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),K(t.options,"debugRows")),e.getRightVisibleCells=q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),K(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Yn():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Yn())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),K(e.options,"debugColumns")),e.getRightLeafColumns=q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),K(e.options,"debugColumns")),e.getCenterLeafColumns=q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},K(e.options,"debugColumns"))}},ln={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Xn=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Gm={getDefaultColumnDef:()=>ln,getInitialState:e=>({columnSizing:{},columnSizingInfo:Xn(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Re("columnSizing",e),onColumnSizingInfoChange:Re("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:ln.minSize,(r=i??e.columnDef.size)!=null?r:ln.size),(o=e.columnDef.maxSize)!=null?o:ln.maxSize)},e.getStart=q(n=>[n,Dt(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),K(t.options,"debugColumns")),e.getAfter=q(n=>[n,Dt(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),K(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),Zn(i)&&i.touches&&i.touches.length>1))return;const s=e.getSize(),l=e?e.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[r.id,r.getSize()]],a=Zn(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(S,E)=>{typeof E=="number"&&(t.setColumnSizingInfo(y=>{var $,M;const P=t.options.columnResizeDirection==="rtl"?-1:1,O=(E-(($=y==null?void 0:y.startOffset)!=null?$:0))*P,x=Math.max(O/((M=y==null?void 0:y.startSize)!=null?M:0),-.999999);return y.columnSizingStart.forEach(b=>{let[C,_]=b;u[C]=Math.round(Math.max(_+_*x,0)*100)/100}),{...y,deltaOffset:O,deltaPercentage:x}}),(t.options.columnResizeMode==="onChange"||S==="end")&&t.setColumnSizing(y=>({...y,...u})))},m=S=>c("move",S),h=S=>{c("end",S),t.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=n||typeof document<"u"?document:null,g={moveHandler:S=>m(S.clientX),upHandler:S=>{f==null||f.removeEventListener("mousemove",g.moveHandler),f==null||f.removeEventListener("mouseup",g.upHandler),h(S.clientX)}},v={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),m(S.touches[0].clientX),!1),upHandler:S=>{var E;f==null||f.removeEventListener("touchmove",v.moveHandler),f==null||f.removeEventListener("touchend",v.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),h((E=S.touches[0])==null?void 0:E.clientX)}},w=Wm()?{passive:!1}:!1;Zn(i)?(f==null||f.addEventListener("touchmove",v.moveHandler,w),f==null||f.addEventListener("touchend",v.upHandler,w)):(f==null||f.addEventListener("mousemove",g.moveHandler,w),f==null||f.addEventListener("mouseup",g.upHandler,w)),t.setColumnSizingInfo(S=>({...S,startOffset:a,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Xn():(n=e.initialState.columnSizingInfo)!=null?n:Xn())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let an=null;function Wm(){if(typeof an=="boolean")return an;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return an=e,an}function Zn(e){return e.type==="touchstart"}const Um={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Re("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=q(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),K(t.options,"debugRows")),e.getVisibleCells=q(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],K(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>q(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),K(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Dt(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const qm={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Km={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Re("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ve.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return kn(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Ve[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Ym={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Re("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{s[l]=!0}):s=r,n=(o=n)!=null?o:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:l,...a}=s;return a}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Sr=0,Er=10,Jn=()=>({pageIndex:Sr,pageSize:Er}),Xm={getInitialState:e=>({...e,pagination:{...Jn(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Re("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>Ye(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Jn():(o=e.initialState.pagination)!=null?o:Jn())},e.setPageIndex=r=>{e.setPagination(o=>{let i=Ye(r,o.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?Sr:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:Sr)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?Er:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:Er)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,Ye(r,o.pageSize)),s=o.pageSize*o.pageIndex,l=Math.floor(s/i);return{...o,pageIndex:l,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let s=Ye(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),e.getPageOptions=q(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,s)=>s)),o},K(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Qn=()=>({top:[],bottom:[]}),Zm={getInitialState:e=>({rowPinning:Qn(),...e}),getDefaultOptions:e=>({onRowPinningChange:Re("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],s=o?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],l=new Set([...s,e.id,...i]);t.setRowPinning(a=>{var u,c;if(n==="bottom"){var m,h;return{top:((m=a==null?void 0:a.top)!=null?m:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((h=a==null?void 0:a.bottom)!=null?h:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(n==="top"){var f,g;return{top:[...((f=a==null?void 0:a.top)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((g=a==null?void 0:a.bottom)!=null?g:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((c=a==null?void 0:a.bottom)!=null?c:[]).filter(v=>!(l!=null&&l.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),s=n.some(l=>o==null?void 0:o.includes(l));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:l}=s;return l});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Qn():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Qn())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(s=>{const l=e.getRow(s,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(s=>t.find(l=>l.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=q(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),K(e.options,"debugRows")),e.getBottomRows=q(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),K(e.options,"debugRows")),e.getCenterRows=q(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},K(e.options,"debugRows"))}},Jm={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Re("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{Rr(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=q(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?er(e,n):{rows:[],flatRows:[],rowsById:{}},K(e.options,"debugTable")),e.getFilteredSelectedRowModel=q(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?er(e,n):{rows:[],flatRows:[],rowsById:{}},K(e.options,"debugTable")),e.getGroupedSelectedRowModel=q(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?er(e,n):{rows:[],flatRows:[],rowsById:{}},K(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var s;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const l={...i};return Rr(l,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Xr(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return $r(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return $r(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Rr=(e,t,n,r,o)=>{var i;const s=o.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(l=>Rr(e,l.id,n,r,o))};function er(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(s,l){return s.map(a=>{var u;const c=Xr(a,n);if(c&&(r.push(a),o[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:i(a.subRows)}),c)return a}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function Xr(e,t){var n;return(n=t[e.id])!=null?n:!1}function $r(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!o)&&(s.getCanSelect()&&(Xr(s,t)?i=!0:o=!1),s.subRows&&s.subRows.length)){const l=$r(s,t);l==="all"?i=!0:(l==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const _r=/([0-9]+)/gm,Qm=(e,t,n)=>Zs(Qe(e.getValue(n)).toLowerCase(),Qe(t.getValue(n)).toLowerCase()),eg=(e,t,n)=>Zs(Qe(e.getValue(n)),Qe(t.getValue(n))),tg=(e,t,n)=>Zr(Qe(e.getValue(n)).toLowerCase(),Qe(t.getValue(n)).toLowerCase()),ng=(e,t,n)=>Zr(Qe(e.getValue(n)),Qe(t.getValue(n))),rg=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},og=(e,t,n)=>Zr(e.getValue(n),t.getValue(n));function Zr(e,t){return e===t?0:e>t?1:-1}function Qe(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Zs(e,t){const n=e.split(_r).filter(Boolean),r=t.split(_r).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),s=parseInt(o,10),l=parseInt(i,10),a=[s,l].sort();if(isNaN(a[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(a[1]))return isNaN(s)?-1:1;if(s>l)return 1;if(l>s)return-1}return n.length-r.length}const Pt={alphanumeric:Qm,alphanumericCaseSensitive:eg,text:tg,textCaseSensitive:ng,datetime:rg,basic:og},ig={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Re("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Pt.datetime;if(typeof i=="string"&&(r=!0,i.split(_r).length>1))return Pt.alphanumeric}return r?Pt.text:Pt.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return kn(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Pt[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(s=>{const l=s==null?void 0:s.find(f=>f.id===e.id),a=s==null?void 0:s.findIndex(f=>f.id===e.id);let u=[],c,m=i?n:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?l?c="toggle":c="add":s!=null&&s.length&&a!==s.length-1?c="replace":l?c="toggle":c="replace",c==="toggle"&&(i||o||(c="remove")),c==="add"){var h;u=[...s,{id:e.id,desc:m}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(f=>f.id===e.id?{...f,desc:m}:f):c==="remove"?u=s.filter(f=>f.id!==e.id):u=[{id:e.id,desc:m}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},sg=[_m,Um,zm,Bm,Tm,Mm,qm,Km,ig,Vm,Ym,Xm,Zm,Jm,Gm];function lg(e){var t,n;const r=[...sg,...(t=e._features)!=null?t:[]];let o={_features:r};const i=o._features.reduce((h,f)=>Object.assign(h,f.getDefaultOptions==null?void 0:f.getDefaultOptions(o)),{}),s=h=>o.options.mergeOptions?o.options.mergeOptions(i,h):{...i,...h};let a={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(h=>{var f;a=(f=h.getInitialState==null?void 0:h.getInitialState(a))!=null?f:a});const u=[];let c=!1;const m={_features:r,options:{...i,...e},initialState:a,_queue:h=>{u.push(h),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{o.setState(o.initialState)},setOptions:h=>{const f=Ye(h,o.options);o.options=s(f)},getState:()=>o.options.state,setState:h=>{o.options.onStateChange==null||o.options.onStateChange(h)},_getRowId:(h,f,g)=>{var v;return(v=o.options.getRowId==null?void 0:o.options.getRowId(h,f,g))!=null?v:`${g?[g.id,f].join("."):f}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(h,f)=>{let g=(f?o.getPrePaginationRowModel():o.getRowModel()).rowsById[h];if(!g&&(g=o.getCoreRowModel().rowsById[h],!g))throw new Error;return g},_getDefaultColumnDef:q(()=>[o.options.defaultColumn],h=>{var f;return h=(f=h)!=null?f:{},{header:g=>{const v=g.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:g=>{var v,w;return(v=(w=g.renderValue())==null||w.toString==null?void 0:w.toString())!=null?v:null},...o._features.reduce((g,v)=>Object.assign(g,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...h}},K(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:q(()=>[o._getColumnDefs()],h=>{const f=function(g,v,w){return w===void 0&&(w=0),g.map(S=>{const E=$m(o,S,w,v),y=S;return E.columns=y.columns?f(y.columns,E,w+1):[],E})};return f(h)},K(e,"debugColumns")),getAllFlatColumns:q(()=>[o.getAllColumns()],h=>h.flatMap(f=>f.getFlatColumns()),K(e,"debugColumns")),_getAllFlatColumnsById:q(()=>[o.getAllFlatColumns()],h=>h.reduce((f,g)=>(f[g.id]=g,f),{}),K(e,"debugColumns")),getAllLeafColumns:q(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(h,f)=>{let g=h.flatMap(v=>v.getLeafColumns());return f(g)},K(e,"debugColumns")),getColumn:h=>o._getAllFlatColumnsById()[h]};Object.assign(o,m);for(let h=0;h<o._features.length;h++){const f=o._features[h];f==null||f.createTable==null||f.createTable(o)}return o}function ag(){return e=>q(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,s){i===void 0&&(i=0);const l=[];for(let u=0;u<o.length;u++){const c=Im(e,e._getRowId(o[u],u,s),o[u],u,i,void 0,s==null?void 0:s.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,l.push(c),e.options.getSubRows){var a;c.originalSubRows=e.options.getSubRows(o[u],u),(a=c.originalSubRows)!=null&&a.length&&(c.subRows=r(c.originalSubRows,i+1,c))}}return l};return n.rows=r(t),n},K(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ug(){return e=>q(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),s={};i.forEach(a=>{const u=e.getColumn(a.id);u&&(s[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=a=>{const u=a.map(c=>({...c}));return u.sort((c,m)=>{for(let f=0;f<i.length;f+=1){var h;const g=i[f],v=s[g.id],w=v.sortUndefined,S=(h=g==null?void 0:g.desc)!=null?h:!1;let E=0;if(w){const y=c.getValue(g.id),$=m.getValue(g.id),M=y===void 0,P=$===void 0;if(M||P){if(w==="first")return M?-1:1;if(w==="last")return M?1:-1;E=M&&P?0:M?w:-w}}if(E===0&&(E=v.sortingFn(c,m,g.id)),E!==0)return S&&(E*=-1),v.invertSorting&&(E*=-1),E}return c.index-m.index}),u.forEach(c=>{var m;o.push(c),(m=c.subRows)!=null&&m.length&&(c.subRows=l(c.subRows))}),u};return{rows:l(n.rows),flatRows:o,rowsById:n.rowsById}},K(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ho(e,t){return e?cg(e)?R.createElement(e,t):e:null}function cg(e){return dg(e)||typeof e=="function"||fg(e)}function dg(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function fg(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function pg(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=R.useState(()=>({current:lg(t)})),[r,o]=R.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{o(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const mg=500,zo=10;function gg(e,{disabled:t=!1}={}){const n=d.useRef(null),r=d.useRef(0),o=d.useRef(0),i=d.useRef(!1),s=d.useCallback(u=>{if(t)return;const c=u.touches[0];r.current=c.clientX,o.current=c.clientY,i.current=!1,n.current=setTimeout(()=>{i.current||e()},mg)},[e,t]),l=d.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),a=d.useCallback(u=>{const c=u.touches[0],m=Math.abs(c.clientX-r.current),h=Math.abs(c.clientY-o.current);(m>zo||h>zo)&&(i.current=!0,l())},[l]);return{onTouchStart:s,onTouchMove:a,onTouchEnd:l,onTouchCancel:l,onMouseLeave:l}}function hg({rowId:e,columnDefinition:t,value:n,onUpdated:r,allData:o,clearRowsSelection:i,errorsText:s,enumLabelDict:l}){const{t:a}=ae(),{availableActions:u}=_e(),[c,m]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{c&&(i(),h.current&&h.current.focus())},[c]);const{displayValue:f,valueEmpty:g}=Mp(t,n,l),v=Fs(t)||!u.includes("editRows"),w=gg(()=>{v||m(!0)},{disabled:v}),S=s?"bg-hello-csv-destructive/10":v?"bg-hello-csv-muted":"";if(!c)return p.jsx(qf,{variant:s?"error":"info",tooltipText:s||(v?a("sheet.readOnly"):""),children:p.jsx("div",{role:"button",tabIndex:0,"aria-label":`row ${Number(e)+1} ${t.label} ${f}`,...w,onClick:y=>!v&&y.detail>1&&m(!0),className:`h-full w-full py-4 pr-3 pl-4 ${S} touch-manipulation truncate overflow-hidden whitespace-nowrap`,title:g?void 0:`${f}`,children:t.customRender?t.customRender(n,f):f})});function E(y){m(!1),t.type==="number"&&y!==""&&!isNaN(Number(y))?r(Number(y)):r(y??"")}if(t.type==="boolean"){const y=[!0,!1].map($=>{var M,P;return{label:$?((M=t.typeArguments)==null?void 0:M.trueLabel)??bs:((P=t.typeArguments)==null?void 0:P.falseLabel)??ys,value:$}});return p.jsx(bt,{options:y,value:n,onChange:$=>E($??"")})}if(t.type==="reference"){const y=Ms(t,o),$=Wr(t,l),M=y.map(P=>({label:String(wn($,P)),value:P}));return p.jsx(bt,{searchable:!0,options:M,value:n,onChange:P=>E(P??"")})}if(t.type==="enum"){const $=t.typeArguments.values;return p.jsx(bt,{searchable:!0,options:$,value:n,onChange:M=>E(M??"")})}return p.jsx(Ss,{"aria-label":`edit row ${Number(e)+1}'s ${t.label}`,type:t.type==="number"?"number":"text",classes:"block w-full",value:n,onBlur:E,ref:h})}function vg({table:e,sheetDefinition:t,allData:n,sheetValidationErrors:r,onCellValueChanged:o,setSelectedRows:i,tableContainerRef:s,enumLabelDict:l}){const{t:a}=ae(),{availableActions:u}=_e();function c(y,$){return r.filter(M=>M.columnId===y&&M.rowIndex===$)}const m="bg-hello-csv-muted h-10 px-2 text-left align-middle text-sm font-medium whitespace-nowrap text-hello-csv-muted-foreground border-b border-hello-csv-border",h="text-sm whitespace-nowrap text-hello-csv-foreground border-b border-hello-csv-border p-2 align-middle",f=e.getRowModel().rows,g=xi({count:f.length,getScrollElement:()=>s.current,estimateSize:()=>Tf,measureElement:y=>y==null?void 0:y.getBoundingClientRect().height,overscan:20}),v=g.getVirtualItems().map(y=>({row:f[y.index],index:y.index,start:y.start,end:y.end})),[w,S]=v.length>0?[Math.max(0,v[0].start-g.options.scrollMargin),Math.max(0,g.getTotalSize()-v[v.length-1].end)]:[0,0],E=d.useCallback(y=>{y&&g.measureElement(y)},[g]);return p.jsxs("table",{className:"w-full table-fixed border-separate border-spacing-0","aria-label":a("sheet.sheetTitle"),children:[p.jsx("thead",{className:"bg-hello-csv-muted sticky top-0 z-10 [&_tr]:border-b",children:e.getHeaderGroups().map(y=>p.jsx("tr",{children:y.headers.map($=>p.jsx("th",{className:$.column.id===wr?`${m} sticky left-0 z-20`:`relative z-10 ${m}`,colSpan:$.colSpan,style:{width:$.getSize()},children:p.jsxs("div",{className:`flex w-full ${$.column.getCanSort()?"cursor-pointer select-none":""}`,onClick:$.column.getToggleSortingHandler(),children:[$.isPlaceholder?null:p.jsx("div",{children:Ho($.column.columnDef.header,$.getContext())},`header-${y.id}-${$.id}`),p.jsx("span",{className:"ml-2 flex-none rounded-sm bg-hello-csv-muted-foreground text-hello-csv-muted",children:{asc:p.jsx(zf,{"aria-hidden":"true",className:"size-5"}),desc:p.jsx(Df,{"aria-hidden":"true",className:"size-5"})}[$.column.getIsSorted()]??null},`sort-icon-${y.id}-${$.id}`),$.column.getCanResize()&&p.jsx("div",{onMouseDown:$.getResizeHandler(),onTouchStart:$.getResizeHandler(),className:"absolute top-0 right-0 h-full w-0.5 cursor-col-resize touch-none bg-hello-csv-border select-none"},`resize-icon-${y.id}-${$.id}`)]})},$.id))},y.id))}),p.jsxs("tbody",{className:"divide-y divide-hello-csv-border",style:{height:`${g.getTotalSize()}px`},children:[p.jsx("tr",{children:p.jsx("td",{style:{height:w}})}),v.map(({row:y,index:$})=>p.jsx("tr",{"data-index":$,ref:E,children:y.getVisibleCells().map((M,P)=>{if(M.column.id===wr)return p.jsx("td",{"aria-label":`Select row ${Number(y.id)+1}`,className:`bg-hello-csv-muted ${h} sticky left-0 z-6 pr-3 pl-4`,style:{width:M.column.getSize()},children:Ho(M.column.columnDef.cell,M.getContext())},M.id);const O=u.includes("removeRows"),x=t.columns[P-(O?1:0)].id,b=Os(n,t.id,y.original),C=c(x,b).map(_=>a(_.message)).join(", ");return p.jsx("td",{className:h,style:{width:M.column.getSize()},children:p.jsx(hg,{rowId:y.id,columnDefinition:t.columns.find(_=>_.id===x),allData:n,value:M.getValue(),onUpdated:_=>o(b,x,_),clearRowsSelection:()=>i([]),errorsText:C,enumLabelDict:l})},M.id)})},y.id)),p.jsx("tr",{children:p.jsx("td",{style:{height:S}})})]})]})}function xg({column:e}){const{t}=ae(),n=Fs(e);return p.jsxs("div",{className:"flex items-center",title:n?t("sheet.readOnly"):void 0,children:[n&&p.jsxs("div",{className:"relative mr-3 h-5 w-5",children:[p.jsx(hs,{className:"absolute top-0 left-0 h-5 w-5 text-hello-csv-muted-foreground/60"}),p.jsx(Vd,{className:"absolute top-0 left-0 h-5 w-5 text-hello-csv-muted-foreground"})]}),e.label," ",Jt(e)&&"*"]})}function wg({sheetDefinition:e,rowData:t,selectedRows:n,setSelectedRows:r,viewMode:o,setViewMode:i,searchPhrase:s,setSearchPhrase:l,errorColumnFilter:a,setErrorColumnFilter:u,removeRows:c,addEmptyRow:m,sheetValidationErrors:h,rowValidationSummary:f,resetState:g,enumLabelDict:v}){const{csvDownloadMode:w,availableActions:S}=_e(),{t:E}=ae(),{validationInProgress:y}=Ge(),[$,M]=d.useState(!1),[P,O]=d.useState(!1),x="pointer-events-none cursor-not-allowed opacity-50";function b(A){const j=e.columns.find(B=>B.id===A),H=ko(h.filter(B=>B.columnId===A).map(B=>B.rowIndex)).length;return{label:`${(j==null?void 0:j.label)||A} (${H})`,value:A}}const C=ko(h.map(A=>A.columnId)).map(A=>b(A));a!=null&&C.find(A=>A.value===a)==null&&C.push(b(a));const _=[{value:"all",label:E("sheet.all")+` (${f.all})`,onClick:()=>{r([]),i("all")},variant:"default"},{value:"valid",label:E("sheet.valid")+` (${f.valid})`,onClick:()=>{r([]),i("valid")},variant:"default"},{value:"errors",label:E("sheet.invalid")+` (${f.errors})`,onClick:()=>{r([]),i("errors")},variant:"danger"}];function I(){c({rows:n,sheetId:e.id}),r([])}return p.jsxs("div",{className:"my-5 flex items-center",children:[p.jsxs("div",{className:"flex grow flex-wrap items-center gap-5",children:[p.jsx("div",{children:p.jsx(Yf,{activeButton:o,buttons:_})}),S.includes("search")&&p.jsx(Ss,{clearable:!0,value:s,onChange:A=>l(A),placeholder:E("sheet.search"),iconBuilder:A=>p.jsx(Dd,{...A})}),S.includes("removeRows")&&p.jsx(vt,{tooltipText:E(n.length<=0?"sheet.removeRowsTooltipNoRowsSelected":"sheet.removeRowsTooltip"),children:p.jsx(Gd,{role:"button",tabIndex:0,"aria-label":E(n.length<=0?"sheet.removeRowsTooltipNoRowsSelected":"sheet.removeRowsTooltip"),className:`h-6 w-6 ${n.length>0?"cursor-pointer":x}`,onClick:()=>M(!0)})}),S.includes("addRows")&&p.jsx(vt,{tooltipText:E("sheet.addRowsTooltip"),children:p.jsx(zd,{className:"h-6 w-6 cursor-pointer",onClick:m})}),S.includes("downloadCsv")&&p.jsx(vt,{tooltipText:E("sheet.downloadSheetTooltip"),children:p.jsx(Ed,{className:`h-6 w-6 ${t.length>0?"cursor-pointer":x}`,onClick:()=>_s(e,t,v,w)})}),p.jsx(bt,{clearable:!0,displayPlaceholderWhenSelected:!0,placeholder:E("sheet.filterByError"),classes:"min-w-48",options:C,value:a,onChange:A=>u(A)}),S.includes("removeRows")&&p.jsx(vr,{open:$,setOpen:M,onConfirm:I,title:E("sheet.removeConfirmationModalTitle"),confirmationText:E("sheet.removeConfirmationModalConfirmationText"),subTitle:E("sheet.removeConfirmationModalSubTitle",{rowsCount:n.length}),variant:"danger"})]}),p.jsxs("div",{className:"ml-5 flex items-center",children:[y&&p.jsxs(p.Fragment,{children:[p.jsx(Ts,{color:"dark"}),p.jsx("div",{className:"mr-2"})]}),S.includes("resetState")&&p.jsxs(p.Fragment,{children:[p.jsx(vt,{tooltipText:E("sheet.resetTooltip"),children:p.jsx(hs,{className:"h-6 w-6 cursor-pointer",onClick:()=>O(!0)})}),p.jsx(vr,{open:P,setOpen:O,onConfirm:g,title:E("sheet.resetConfirmationModalTitle"),confirmationText:E("sheet.resetConfirmationModalConfirmationText"),subTitle:E("sheet.resetConfirmationModalSubTitle"),variant:"danger"})]})]})]})}function bg({visibleData:e,selectedRows:t,setSelectedRows:n}){const r=t.length===e.length&&e.length>0;function o(){n(r?[]:e)}return p.jsx(Ko,{checked:r,setChecked:o})}function yg({row:e,selectedRows:t,setSelectedRows:n}){function r(o){t.includes(o)?n(i=>i.filter(s=>s!==o)):n(i=>[...i,o])}return p.jsx(Ko,{checked:t.includes(e.original),setChecked:()=>r(e.original),label:`${Number(e.id)+1}`})}function Cg({sheetDefinition:e,data:t,sheetValidationErrors:n,setRowData:r,removeRows:o,addEmptyRow:i,resetState:s,enumLabelDict:l}){const{sheetData:a}=Ge(),{availableActions:u}=_e(),[c,m]=d.useState([]),[h,f]=d.useState("all"),[g,v]=d.useState(""),[w,S]=d.useState(null);d.useEffect(()=>{m([]),f("all")},[e]);const E=Ip(t,a,h,n,w,e,g),y=d.useMemo(()=>{const x=t.rows,b=x.filter((_,I)=>!n.some(A=>A.rowIndex===I)),C=x.filter((_,I)=>n.some(A=>A.rowIndex===I));return{all:x.length,valid:b.length,errors:C.length}},[t,n]),$=d.useMemo(()=>[...u.includes("removeRows")?[{id:wr,header:()=>p.jsx(bg,{visibleData:E,selectedRows:c,setSelectedRows:m}),cell:({row:b})=>p.jsx(yg,{row:b,selectedRows:c,setSelectedRows:m}),enableResizing:!1,enableSorting:!1,enableColumnFilter:!1,enableMultiSort:!1,enableGlobalFilter:!1,size:Mf}]:[],...e.columns.map(b=>({id:b.id,accessorFn:C=>C[b.id],header:()=>p.jsx(xg,{column:b}),sortUndefined:"last",sortingFn:"auto",meta:{columnLabel:b.label},enableResizing:!0}))],[e,c,E,u]),M=pg({data:E,columns:$,getCoreRowModel:ag(),getSortedRowModel:ug(),columnResizeMode:"onChange",columnResizeDirection:"ltr",defaultColumn:{minSize:Of,maxSize:Ff,size:Pf}});function P(x,b,C){const _={...t.rows[x]};_[b]=C,r({sheetId:e.id,value:_,rowIndex:x})}const O=d.useRef(null);return p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx("div",{className:"flex-none",children:p.jsx(wg,{sheetDefinition:e,rowData:E,selectedRows:c,setSelectedRows:m,viewMode:h,setViewMode:f,searchPhrase:g,setSearchPhrase:v,errorColumnFilter:w,setErrorColumnFilter:S,removeRows:o,addEmptyRow:i,sheetValidationErrors:n,rowValidationSummary:y,resetState:s,enumLabelDict:l})}),p.jsx("div",{className:"min-h-0 flex-1 overflow-auto",ref:O,children:p.jsx(vg,{tableContainerRef:O,table:M,sheetDefinition:e,allData:a,sheetValidationErrors:n,onCellValueChanged:P,setSelectedRows:m,enumLabelDict:l})})]})}function Js(e){return e.reduce((t,n)=>t+n.rows.length,0)}function Sg(e,t,n,r){e.forEach(o=>{const i=t.find(s=>s.id===o.sheetId);i&&_s(i,o.rows,n,r)})}const Bo=(e,t,n,r)=>e.length?e.reduce((o,i)=>{const s=t.find(l=>l.id===i.sheetId);return s?o+Gr(s,i.rows,n,r).size:o},0):0;function Eg({completedWithErrors:e,enumLabelDict:t}){const{rowFile:n,mode:r,sheetData:o,importStatistics:i,sheetDefinitions:s}=Ge(),l=Ur(s,o),{csvDownloadMode:a}=_e(),{t:u}=ae(),c=Js(l);return p.jsx("div",{className:"flex flex-row px-4 pt-3 pb-2",children:p.jsxs("div",{className:"flex-1 space-y-4",children:[p.jsx("div",{children:p.jsxs("div",{className:"flex flex-row",children:[p.jsx("div",{className:"my-2 mr-5 text-center",children:p.jsx(Fd,{className:"text-hello-csv-primary h-8 w-8"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"my-2 text-sm font-light uppercase",children:u("importStatus.fileInformation")}),p.jsx("div",{className:"text-md my-2 font-medium",children:(n==null?void 0:n.name)||"Data entered manually"}),p.jsx("div",{className:"my-2 text-sm text-hello-csv-muted-foreground",children:n?`${u("importStatus.original")}: ${cn((n==null?void 0:n.size)||0)} Â· ${u("importStatus.processed")}: ${cn(Bo(l,s,t,a))}`:`${u("importStatus.processed")}: ${cn(Bo(l,s,t,a))}`}),p.jsx("div",{className:"mt-5",children:p.jsx($e,{variant:"tertiary",outline:!0,onClick:()=>Sg(l,s,t,a),children:u("importStatus.downloadProcessedData")})})]})]})}),p.jsx("div",{className:"border-b border-hello-csv-border pb-2"}),p.jsx("div",{children:p.jsxs("div",{className:"flex flex-row",children:[p.jsx("div",{className:"my-2 mr-5 text-center",children:r==="failed"?p.jsx(yr,{className:"text-hello-csv-destructive h-8 w-8"}):e?p.jsx(cp,{className:"text-hello-csv-warning h-8 w-8"}):p.jsx(Is,{className:"text-hello-csv-success h-8 w-8"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"my-2 text-sm font-light uppercase",children:u("importStatus.importResults")}),p.jsx("div",{className:"text-md my-2 font-medium",children:u("importStatus.totalRows",{totalRows:c})}),i&&p.jsxs("div",{className:"my-2 text-sm text-hello-csv-muted-foreground",children:[i.skipped>=0&&p.jsxs("span",{children:[u("importStatus.statisticsSkipped",{skipped:i.skipped})," Â· "]}),i.failed>=0&&p.jsxs("span",{children:[u("importStatus.statisticsFailed",{failed:i.failed})," Â· "]}),i.imported>=0&&p.jsx("span",{children:u("importStatus.statisticsImported",{imported:i.imported})})]}),r==="failed"&&p.jsxs("div",{className:"my-2 text-sm text-hello-csv-muted-foreground",children:[u("importStatus.status"),":"," ",p.jsx(qr,{variant:"error",children:u("importStatus.failed")})]})]})]})})]})})}function Qs({completedWithErrors:e,enumLabelDict:t}){const{t:n}=ae();return p.jsx(qo,{withPadding:!1,className:"h-full",children:p.jsxs("div",{className:"flex flex-col py-5",children:[p.jsx("div",{className:"px-4 pb-2 text-xl",children:n("importStatus.importDetails")}),p.jsx("div",{className:"px-4 pb-2 text-sm text-hello-csv-muted-foreground",children:n("importStatus.importDetailsDescription")}),p.jsx("div",{className:"border-b border-hello-csv-border pb-2"}),p.jsx(Eg,{completedWithErrors:e,enumLabelDict:t})]})})}function Rg({resetState:e,enumLabelDict:t}){const{sheetDefinitions:n,sheetData:r,importStatistics:o}=Ge(),{onSummaryFinished:i}=_e(),{t:s}=ae(),l=Ur(n,r),a=Js(l),u=(o==null?void 0:o.imported)??0,c=!!(o!=null&&o.failed)||!!(o!=null&&o.skipped);return p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx("div",{className:"flex-none text-2xl",children:s("importStatus.dataImport")}),p.jsxs("div",{className:"grow overflow-auto",children:[p.jsx("div",{className:"mt-4",children:p.jsx(Kr,{variant:c?"warning":"success",header:s(`importStatus.${c?"importSuccessfulWithErrors":"importSuccessful"}`),description:s(`importStatus.successDescription${o?"WithStats":""}`,{totalRecords:a,recordsImported:u})})}),p.jsx("div",{className:"mt-6",children:p.jsx(Qs,{completedWithErrors:c,enumLabelDict:t})})]}),p.jsx("div",{className:"flex-none",children:p.jsx("div",{className:"mt-5 flex justify-end",children:p.jsx($e,{variant:"primary",onClick:i||e,children:s("importStatus.continue")})})})]})}function $g({onRetry:e,onBackToPreview:t,enumLabelDict:n}){const{t:r}=ae();return p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx("div",{className:"text-2xl",children:r("importStatus.dataImport")}),p.jsxs("div",{className:"grow overflow-auto",children:[p.jsx("div",{className:"mt-4",children:p.jsx(Kr,{variant:"error",header:r("importStatus.importFailed"),description:r("importStatus.failedDescription")})}),p.jsx("div",{className:"mt-6",children:p.jsx(Qs,{completedWithErrors:!1,enumLabelDict:n})})]}),p.jsxs("div",{className:"mt-6 flex justify-between",children:[p.jsx($e,{onClick:t,variant:"secondary",outline:!0,children:r("importer.loader.backToPreview")}),p.jsx($e,{onClick:e,variant:"primary",children:r("importer.loader.retry")})]})]})}function _g({progress:e,pending:t}){const r=2*Math.PI*40,o=r-e/100*r,[i,s]=d.useState(!1);return d.useEffect(()=>{if(e===0){const l=setTimeout(()=>{s(!0)},3e3);return()=>clearTimeout(l)}},[e]),i?p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:`border-hello-csv-success h-22 w-22 rounded-full border-10 ${t&&"animate-spin border-t-transparent"}`})}):p.jsxs("svg",{className:"mx-auto h-24 w-24 rotate-[-90deg]",width:"100",height:"100",children:[p.jsx("circle",{cx:"50",cy:"50",r:40,fill:"transparent",className:"text-hello-csv-muted",strokeWidth:"10",stroke:"currentColor"}),p.jsx("circle",{cx:"50",cy:"50",r:40,fill:"transparent",strokeWidth:"10",strokeDasharray:r,strokeDashoffset:o,className:"stroke-hello-csv-success transition-[stroke-dashoffset] duration-500"})]})}function Ig(){return p.jsx(Id,{className:"text-hello-csv-success absolute inset-0 m-auto h-12 w-12 stroke-4"})}function Tg({resetState:e}){const{importProgress:t,mode:n}=Ge(),r=n==="submit",{t:o}=ae();return p.jsx("div",{className:"flex h-full p-10",children:p.jsx("div",{className:"flex h-full w-full flex-col",children:p.jsxs("div",{className:"my-16 text-center",children:[p.jsxs("div",{className:"relative mx-auto h-24 w-24",children:[p.jsx(_g,{progress:t,pending:r}),r&&p.jsxs("div",{children:[p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("b",{className:"text-lg",children:[t,"%"]})}),p.jsx("h2",{className:"text-2xl",children:o("importer.loader.uploading")})]}),!r&&p.jsx(Ig,{})]}),!r&&p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h2",{className:"text-2xl",children:o("importer.loader.success")}),p.jsx("div",{className:"h-5"}),p.jsx($e,{variant:"secondary",onClick:e,children:o("sheet.reset")})]})]})})})}function Mg({onRetry:e,onBackToPreview:t,resetState:n,enumLabelDict:r}){const{mode:o}=Ge();return p.jsxs("div",{className:"h-full overflow-auto",children:[o==="submit"&&p.jsx(Tg,{resetState:n}),o==="failed"&&p.jsx($g,{onRetry:e,onBackToPreview:t,enumLabelDict:r}),o==="completed"&&p.jsx(Rg,{resetState:n,enumLabelDict:r})]})}async function Go(e){await new Promise(t=>{setTimeout(t,e)})}const el=["addRows","removeRows","editRows","downloadCsv","search","resetState","backToPreviousStep"],Og=({children:e})=>{const{theme:t}=_e();return d.useEffect(()=>{t&&document.documentElement.setAttribute("hello-csv-data-theme",t)},[t]),p.jsx(p.Fragment,{children:e})};function Fg({title:e,titleId:t,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?R.createElement("title",{id:t},e):null,R.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const Pg=R.forwardRef(Fg);function Ag({onSheetChange:e,sheetCountDict:t,idPrefix:n}){const{currentSheetId:r,validationErrors:o}=Ge(),{sheets:i}=_e();return p.jsx(Gf,{tabs:i.map(s=>({label:s.label+` (${t[s.id]})`,value:s.id,icon:o.some(l=>l.sheetId===s.id)?p.jsx(Pg,{className:"mr-3 h-4 w-4"}):void 0})),activeTab:r,onTabChange:e,idPrefix:n})}function jg({onBackToMapping:e}){const{t}=ae(),[n,r]=d.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx($e,{onClick:()=>r(!0),variant:"secondary",children:t("importer.back")}),p.jsx(vr,{variant:"danger",onConfirm:e,open:n,setOpen:r,title:t("importer.backToMappingConfirmation.title"),subTitle:t("importer.backToMappingConfirmation.subTitle"),confirmationText:t("importer.backToMappingConfirmation.confirmationText"),cancelText:t("importer.backToMappingConfirmation.cancelText")})]})}function kg({importerRequirements:e}){const{t}=ae();return p.jsx("div",{className:"h-full w-full space-y-5 overflow-y-auto",children:Object.entries(e).filter(([,n])=>n.length>0).map(([n,r])=>{const o=n==="required"?"required":"optional";return p.jsxs("div",{className:"me-3",children:[p.jsx("div",{className:"my-3 border-b border-hello-csv-border pb-4 text-sm font-light uppercase text-hello-csv-muted-foreground",children:t(`uploader.${o}Columns`)}),p.jsx("div",{className:"mt-4",children:r.map(i=>p.jsxs("div",{className:"my-3 flex justify-between",children:[p.jsx("div",{className:"text-xs text-hello-csv-foreground",children:i.columnLabel}),p.jsx("div",{className:"text-xs font-light",children:p.jsx(vt,{tooltipText:t(`uploader.${o}ColumnsTooltip`),children:p.jsx(kd,{className:"size-5 text-hello-csv-muted-foreground"})})})]},`${i.sheetId}-${i.columnId}`))})]},n)})})}function Ng({importerRequirements:e}){const{t}=ae();return p.jsxs("div",{className:"flex h-full flex-col space-y-5",children:[p.jsx("div",{className:"me-3",children:p.jsx(Kr,{variant:"info",description:t("uploader.importerInformation")})}),p.jsx("div",{className:"flex min-h-0 flex-1 overflow-hidden",children:p.jsx(kg,{importerRequirements:e})})]})}function Dg({setFile:e,onEnterDataManually:t}){const{maxFileSizeInBytes:n,customFileLoaders:r,allowManualDataEntry:o}=_e(),{t:i,tHtml:s}=ae(),l=d.useRef(null),[a,u]=d.useState(!1),c=$f.concat((r==null?void 0:r.map(g=>g.mimeType))??[]),m=(g,v)=>{c.includes(g.type)&&g.size<=v&&e(g)},h=g=>{var w;const v=g.target;(w=v.files)!=null&&w.length&&m(v.files[0],n)},f=g=>{var v;g.preventDefault(),u(!1),(v=g.dataTransfer)!=null&&v.files.length&&m(g.dataTransfer.files[0],n)};return p.jsx(qo,{variant:"muted",withPadding:!1,className:"h-full",children:p.jsxs("div",{className:`flex h-full flex-col p-5 transition-colors ${a?"bg-hello-csv-accent":"bg-hello-csv-muted"}`,onClick:()=>{var g;return(g=l.current)==null?void 0:g.click()},onDragOver:g=>{g.preventDefault(),u(!0)},onDragEnter:()=>u(!0),onDragLeave:()=>u(!1),onDrop:g=>f(g),children:[p.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[p.jsx(Md,{className:"text-hello-csv-primary h-12 w-12"}),p.jsx("p",{className:"mt-3 text-center",children:i("uploader.dragAndDrop")}),p.jsxs("div",{className:"mt-3 text-sm text-hello-csv-muted-foreground",children:[s("uploader.maxFileSizeInBytes",{size:p.jsx("b",{children:cn(n)})})," ","â€¢"," ",["CSV","TSV"].concat((r==null?void 0:r.map(g=>g.label))??[]).join(", ")]}),p.jsx("div",{className:"mt-3",children:p.jsx($e,{children:i("uploader.browseFiles")})}),o&&p.jsx("div",{className:"mt-3 text-sm",children:p.jsx("p",{role:"button",tabIndex:0,"aria-label":i("uploader.enterManually"),onClick:g=>{g.stopPropagation(),t==null||t()},className:"text-hello-csv-primary hover:text-hello-csv-primary cursor-pointer decoration-2 opacity-90 hover:underline focus:underline focus:outline-none",children:i("uploader.enterManually")})})]}),p.jsx("input",{"aria-label":i("uploader.uploadAFile"),ref:l,type:"file",accept:c.join(","),className:"sr-only",onChange:g=>h(g)})]})})}function Lg({onFileUploaded:e,onEnterDataManually:t}){const{sheets:n}=_e(),r=om(n),{t:o}=ae();return p.jsxs("div",{className:"flex h-full flex-col space-y-4",children:[p.jsx("div",{className:"flex-none text-2xl",children:o("uploader.uploadAFile")}),p.jsx("div",{className:"flex-auto md:min-h-0",children:p.jsxs("div",{className:"flex h-full flex-col-reverse gap-5 md:flex-row",children:[p.jsx("div",{className:"h-full flex-1 lg:flex-1",children:p.jsx(Ng,{importerRequirements:r})}),p.jsx("div",{className:"flex-1 lg:flex-2",children:p.jsx(Dg,{setFile:e,onEnterDataManually:t})})]})})]})}function Vg(e){const{onComplete:t,sheets:n,preventUploadOnValidationErrors:r,availableActions:o}=e,{t:i}=ae(),s=d.useRef(!0),l=d.useRef(null),a=Ge(),u=bm(),c=d.useId(),{mode:m,currentSheetId:h,sheetData:f,columnMappings:g,validationErrors:v}=a;d.useEffect(()=>{var F;if(s.current){s.current=!1;return}(F=l.current)==null||F.scrollIntoView({behavior:"smooth"})},[m]);const w=f.find(F=>F.sheetId===h),S=d.useMemo(()=>Object.fromEntries(f.map(F=>[F.sheetId,F.rows.length])),[f]),E=n.find(F=>F.id===h),y=Tp(n),M=(typeof r=="function"?(r==null?void 0:r(v))??!1:r??!1)&&v.length>0,P=new Cr(e,a);async function O(F){await P.uploadFile(F),P.dispatchChange(u)}function x(){P.setEnterDataManually(),P.dispatchChange(u)}function b(F){P.setMappings(F),P.dispatchChange(u)}async function C(){await P.confirmMappings(),P.dispatchChange(u)}function _(F){P.changeCell(F),P.dispatchChange(u)}function I(F){P.removeRows(F),P.dispatchChange(u)}function A(){u({type:"ADD_EMPTY_ROW"})}function j(){u({type:"RESET"})}async function H(){u({type:"PROGRESS",payload:{progress:0}}),u({type:"SUBMIT"});try{const F=Ur(n,f),W=await t({...a,sheetData:F},k=>{u({type:"PROGRESS",payload:{progress:k}})},a.sheetDefinitions.map(k=>{var V;return{file:Gr(k,((V=F.find(T=>T.sheetId===k.id))==null?void 0:V.rows)??[],{},"value"),sheetId:k.id}}));await Go(400),u({type:"PROGRESS",payload:{progress:100}}),await Go(200),u({type:"COMPLETED",payload:{importStatistics:W??void 0}})}catch{u({type:"FAILED"})}}function B(){u({type:"PREVIEW"})}function L(){u({type:"UPLOAD"})}function D(){u({type:"MAPPING"})}return p.jsx(Og,{children:p.jsxs(Af,{ref:l,children:[m==="upload"&&p.jsx(Lg,{onFileUploaded:O,onEnterDataManually:x}),m==="mapping"&&p.jsx(ym,{onMappingsChanged:b,onMappingsSet:C,onBack:L}),m==="preview"&&p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx("div",{className:"flex-none",children:p.jsx(Ag,{idPrefix:c,sheetCountDict:S,onSheetChange:F=>u({type:"SHEET_CHANGED",payload:{sheetId:F}})})}),p.jsx("div",{className:"flex-1 overflow-auto",role:"tabpanel",id:`${c}-tabpanel-${h}`,"aria-labelledby":`${c}-tab-${h}`,tabIndex:0,children:p.jsx(Cg,{data:w,sheetDefinition:E,sheetValidationErrors:v.filter(F=>F.sheetId===(E==null?void 0:E.id)),setRowData:_,removeRows:I,addEmptyRow:A,resetState:j,enumLabelDict:y})}),p.jsx("div",{className:"flex-none",children:w.rows.length>0&&p.jsxs("div",{className:"mt-5 flex justify-between",children:[p.jsx("div",{children:g!=null&&o.includes("backToPreviousStep")&&p.jsx(jg,{onBackToMapping:D})}),p.jsx(vt,{tooltipText:i("importer.uploadBlocked"),hidden:!M,children:p.jsx($e,{onClick:H,disabled:M,children:i("importer.upload")})})]})})]}),(m==="submit"||m==="failed"||m==="completed")&&p.jsx(Mg,{onRetry:H,onBackToPreview:B,resetState:j,enumLabelDict:y})]})})}function tl(e){const t={...e,maxFileSizeInBytes:e.maxFileSizeInBytes??20971520,persistenceConfig:e.persistenceConfig??{enabled:!1},csvDownloadMode:e.csvDownloadMode??"value",allowManualDataEntry:e.allowManualDataEntry??!1,availableActions:e.availableActions??[...el]};return p.jsx(wf,{importerDefintion:t,children:p.jsx(wm,{sheets:t.sheets,persistenceConfig:t.persistenceConfig,initialState:t.initialState,onStateChanged:t.onStateChanged,children:p.jsx(Ef,{children:p.jsx(Vg,{...t})})})})}function Hg(e,t){ol.createRoot(e).render(d.createElement(tl,t))}exports.CsvImporterStateBuilder=hm;exports.availableActionList=el;exports.default=tl;exports.renderImporter=Hg;
